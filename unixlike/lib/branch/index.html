<!doctype html><html lang=en><head><meta name=page-kind content="page"><meta charset=UTF-8><title>Branch</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-ini.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/blogsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>█</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/unixlike/>★</a></li><li><a href=/unixlike/lab/>Lab</a></li><li><a href=/unixlike/lib/>Lib</a></li><li><a href=/unixlike/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+——————————————————————————————————————————————————————————————+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> ———————————— <a class=nav-item data-path=/home/ href=/home/>Home</a> ————————————— <a class=nav-item data-path=/system/ href=/system/>System</a>          |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |                                |
|                        /    |                                |
|                       /     |                                |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |                <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |                <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                          <a class=nav-item data-path=/csbasic/ href=/csbasic/>CSBasic</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+——————————————————————————————————————————————————————————————+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a></p><p><a href=https://gcc.gnu.org/onlinedocs/ target=_blank>GCC Docs</a></p><p><a href=https://clang.llvm.org/docs/ target=_blank>Clang Docs</a></p><p><a href=https://www.boost.org/libraries/ target=_blank>Boost Library Docs</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/manual/5.4/ target=_blank>Lua 5.4 Reference Manual</a><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a> : eBook Library</p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a> : manuals, philosophy, FAQ</p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a> |
<a href=https://git-scm.com/doc target=_blank>Docs</a> |
<a href=https://git-scm.com/community target=_blank>Community</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>Branch<div class=meta>Modified: 2025-12-31
| Author：ljf12825</div></div><div class=content><p>Git中分支（branch）是一个非常强大和灵活的功能，它使得在不同的开发线（工作流）上并行开发成为可能</p><h2 id=为什么要使用git分支>为什么要使用Git分支</h2><ol><li>并行开发：不同的功能、特性或bug修复可以在不同的分支上进行开发，互不干扰</li><li>避免破坏主分支：在开发新特性时，可以避免对主分支（通常是<code>master</code>或<code>main</code>）造成不稳定或破坏性改动</li><li>隔离开发环境：每个分支都有自己的开发环境，可以在上面做实验、修改、测试，而不会影响到其他开发分支或主分支</li></ol><h2 id=git分支的基本操作>Git分支的基本操作</h2><ol><li>查看当前分支
查看当前所在的分支，可以使用以下命令：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch
</span></span></code></pre></div><p>当前分支会在分支名旁边标出<code>*</code></p><ol start=2><li>创建新分支
创建一个新分支但不切换到新分支</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch &lt;branch_name&gt;
</span></span></code></pre></div><p>例如，创建一个名为<code>feature/login</code>的分支</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch feature/login
</span></span></code></pre></div><p>如果你创建新分支并直接切换过去，可以使用：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b &lt;branch_name&gt;
</span></span></code></pre></div><p>这个命令相当于先创建新分支并切换过去</p><ol start=3><li>切换分支
切换到其他分支可以使用</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout &lt;branch_name&gt;
</span></span></code></pre></div><p>例如，切换到<code>feature/login</code>分支：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout feature/login
</span></span></code></pre></div><p>在Git2.23及之后的版本，你还可以使用<code>git switch</code>命令来切换分支</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git switch &lt;branch_name&gt;
</span></span></code></pre></div><p>所有分支都是历史代码库的一部分，只是不同的版本快照，当切换分支后，相应的快照也会切换，你会看到相同文件在不同分支上的不同呈现<br>所以，开发前要明确当前所在分支<br>此外，本地分支和远端分支是一一对应的</p><h2 id=分支的本质>分支的本质</h2><p>Git分支本质上只是一个指针，它指向某一次提交（Commit对象）</p><p><strong>分支的底层结构</strong><br>Git存储数据的三类核心对象</p><ul><li>Blob对象（文件内容）</li><li>Tree对象（目录结构）</li><li>Commit对象（一次提交，包含作者、时间、父提交、tree对象等）</li><li>Tag对象（Commit对象的别名）</li></ul><p>分支就是<code>.git/refs/heads/&lt;分支名></code>文件，里面存的是一个commit哈希值（40为SHA-1）<br>例如</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat .git/refs/heads/main
</span></span><span style=display:flex><span>5d41402abc4b2a76b9719d911017c592
</span></span></code></pre></div><p>哈希值就是<code>main</code>分支当前指向的提交</p><p><strong>HEAD</strong><br>HEAD也是一个指针，指向当前检出的分支（或直接指向某个commit，叫“分离头”状态）
例如</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat .git/HEAD
</span></span><span style=display:flex><span>ref: refs/heads/main
</span></span></code></pre></div><p>意思是：HEAD -> main（分支名），main -> 某个 commit 哈希， commit -> 对应代码快照</p><p><strong>分支切换的本质</strong><br>假设当前结构</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>HEAD</span> <span style=color:#f92672>-</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>main</span> <span style=color:#f92672>-</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>C2</span> <span style=color:#f92672>-</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>C1</span>
</span></span></code></pre></div><p>执行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout dev
</span></span></code></pre></div><p>发生的事</p><ol><li>HEAD改成指向<code>dev</code></li><li>工作区和暂存区的内容更新为<code>dev</code>所指向的提交的快照</li></ol><p><strong>分支创建的本质</strong>\</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch feature
</span></span></code></pre></div><p>发生的事</p><ul><li>在<code>.git/refs/heads/</code>下新建一个<code>feature</code>文件</li><li>把当前HEAD所指的提交哈希写进去（所以新分支和原分支指向同一提交）</li></ul><p><strong>分支合并的本质</strong><br>合并就是生成一个新的commit，它有多个父提交</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-makefile data-lang=makefile><span style=display:flex><span><span style=color:#a6e22e>main</span><span style=color:#f92672>:</span>   C1 → C2
</span></span><span style=display:flex><span><span style=color:#a6e22e>dev</span><span style=color:#f92672>:</span>         ↘ C3
</span></span><span style=display:flex><span><span style=color:#a6e22e>merge</span><span style=color:#f92672>:</span>           M (父是 C2 和 C3)
</span></span></code></pre></div><p>M就是合并提交，它的tree对象是合并后的文件状态</p><ol start=4><li>删除分支
如果你不再需要某个分支，可以将其删除：</li></ol><ul><li>删除本地分支（如果分支已经合并）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -d &lt;branch_name&gt;
</span></span></code></pre></div><p>例如，删除<code>feature/login</code>分支：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -d feature/login
</span></span></code></pre></div><ul><li>强制删除未合并的分支（如果该分支上有尚未合并的更改）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -D &lt;branch_name&gt;
</span></span></code></pre></div><ol start=5><li>查看分支的提交历史
查看某个分支的提交历史</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git log &lt;branch_name&gt;
</span></span></code></pre></div><p>例如，查看<code>feature/login</code>分支的提交历史</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git log feature/login
</span></span></code></pre></div><ol start=6><li>合并分支
将一个分支的更改合并到另一个分支，通常是将开发分支合并回主分支（<code>main</code>或<code>master</code>）</li><li>切换到目标分支（例如，<code>main</code>）<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git chechout main
</span></span></code></pre></div></li><li>合并目标分支（例如，<code>feature/login</code>）<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git merge feature/login
</span></span></code></pre></div></li></ol><p>如果出现冲突，Gi会提示你解决冲突。解决冲突后，提交合并结果</p><ol start=7><li>查看分支图
为了更清楚地了解分支和提交之间的关系，可以使用<code>git log</code>命令与<code>--graph</code>参数，生成分支的图形表示：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git log --oneline --graph --all
</span></span></code></pre></div><p>这将显示所有分支及其历史提交的图形化视图</p><h2 id=分支工作流>分支工作流</h2><p>Git的分支模型非常灵活，可以支持不同的工作流。以下是一些常见的分支工作流：</p><ol><li>Git Flow
Git Flow是一种常见的分支管理模型，它定义了几个主要分支来进行不同的开发工作：</li></ol><ul><li><code>master</code>：始终包含稳定的代码，通常是部署到生产环境的代码</li><li><code>develop</code>：包含最新的开发代码，功能开发完成后会合并到这个分支</li><li><code>feature</code>：功能分支，用于开发新的功能，每个功能一个分支</li><li><code>release</code>：发布分支，用于准备发布版本</li><li><code>hotfix</code>：热修复分支，修复生产环境中的紧急bug</li></ul><ol start=2><li>GitHub Flow
GitHub Flow是一个简化版的工作流，适用于持续部署和快速发布：</li></ol><ul><li>只使用<code>master</code>或<code>main</code>分支</li><li>每次开发新特性时，创建一个新分支（如<code>feature/login</code>）</li><li>完成功能后，提交Pull Request（PR），等待团队审查并合并到<code>main</code>分支</li></ul><ol start=3><li>GitLab Flow
GitLab Flow是Git Flow和GitHub Flow的结合，支持更多的DevOps和持续集成/持续交付（CI/CD）流程
它支持不同的环境（如<code>production</code>和<code>staging</code>）和功能分支</li></ol><h2 id=分支管理的最佳实践>分支管理的最佳实践</h2><ol><li>保持分支简洁：每个功能、bug修复或者实验都应该有自己的独立分支，避免一个分支做太多事情</li><li>频繁合并：如果多个开发人员同时工作，应该保持分支频繁合并，以避免冲突积压</li><li>避免过长生命周期的分支：长期存在的分支可能会与主分支的内容发生较大的差异，增加合并的复杂度。尽量在功能开发完成后尽快合并回主分支</li><li>使用Pull Request/Merge Request：在合并分支之前，通过Pull Request或Merge Request来进行代码审查和讨论，保持代码质量</li></ol><h2 id=merge>Merge</h2><p><code>git merge</code>是Git中用于合并不同分支的命令，它的作用是将一个分支合并到当前分支。通常用在将功能分支（如feature分支）或bugfix分支的改动合并到主分支（如main或master）</p><h3 id=基本用法>基本用法</h3><p>要将一个分支合并到当前分支，可以使用：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git merge &lt;branch_name&gt;
</span></span></code></pre></div><p>例如，假设你现在在<code>main</code>分支上，要将<code>feature-branch</code>分支的修改合并过来，你应该：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout main <span style=color:#75715e># 确保在main分支上</span>
</span></span><span style=display:flex><span>git merge feature-branch
</span></span></code></pre></div><h3 id=合并场景>合并场景</h3><ul><li>快速合并（Fast-forward Merge）</li></ul><p>如果你的当前分支（例如<code>main</code>）自从创建分支以来没有任何新提交，而目标分支（如<code>feature-branch</code>）有所有的新提交，Git会执行快进合并。也就是说，<code>main</code>的指针会直接跳到<code>feature-branch</code>的位置，不会创建额外的合并提交</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git merge feature-branch
</span></span></code></pre></div><p>这时，Git会直接将<code>main</code>分支的指针“前进”到<code>feature-branch</code>的位置，不会创建新的合并提交</p><ul><li>非快进合并（Non-fast-forward Merge）
如果你的当前分支（例如<code>main</code>）有新的提交，而目标分支（如<code>feature-branch</code>）也有新的提交，Git就需要创建一个合并提交来将者两个分支的改动整合起来</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git merge feature-branch
</span></span></code></pre></div><p>Git会将<code>main</code>和<code>feature-branch</code>中的提交进行合并，并生成一个新的合并提交，这个提交会有两个父提交指针</p><ul><li>合并冲突（Merge Conflicts）</li></ul><p>分支合并时可能会遇到冲突，这通常发生在同一文件的相同位置被多个分支修改的情况下。解决冲突的方法是：</p><ol><li>Git会标记冲突的部分，开发者需要手动编辑文档，选择保留哪一部分或合并两者的内容</li><li>完成修改后，使用<code>git add</code>将解决后的文件标记为已解决</li><li>最后提交合并结果：<code>git commit</code></li></ol><h3 id=冲突示例>冲突示例</h3><ol><li>冲突通常出现在以下情况：<ul><li>两个分支修改了同一个文件的相同部分</li><li>Git无法决定如何合并这些修改
例如，假设：</li></ul></li></ol><ul><li><code>main</code>分支的<code>file.txt</code>文件包含文本<code>Hello world!</code></li><li><code>feature/login</code>分支对<code>file.txt</code>文件做了修改，变成<code>Hello from login!</code></li></ul><p>当你执行<code>git merge</code>时，Git会发现这两个分支对<code>file.txt</code>做了不同的修改，并提示你解决冲突</p><ol start=2><li>执行<code>git merge</code>并遇到冲突
首先，当你执行<code>git merge</code>时，如果发生冲突，Git会停止合并并提醒你：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git merge feature/login
</span></span></code></pre></div><p>Git会输出类似下面的错误信息：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>Auto-merging file.txt
</span></span><span style=display:flex><span>CONFLICT <span style=color:#f92672>(</span>content<span style=color:#f92672>)</span>: Merge conflict in file.txt
</span></span><span style=display:flex><span>Automatic merge failed; fix conflicts and <span style=color:#66d9ef>then</span> commit the result.
</span></span></code></pre></div><p>此时，Git会：</p><ul><li>标记冲突的文件为未合并的文件（Unmerged paths）</li><li>在冲突文件中插入标记，这些标记标明了冲突区域</li></ul><ol start=3><li>查看冲突文件
使用<code>git status</code>查看哪些文件有冲突</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git status
</span></span></code></pre></div><p>会输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>both modified: file.txt
</span></span></code></pre></div><ol start=4><li>解决冲突
打开冲突文件（例如<code>file.txt</code>），会看到类似下面的标记：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
</span></span><span style=display:flex><span>Hello world!
</span></span><span style=display:flex><span>=======
</span></span><span style=display:flex><span>Hello from login!
</span></span><span style=display:flex><span>&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature/login
</span></span></code></pre></div><ul><li><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>：表示当前分支（例如<code>main</code>）的代码</li><li><code>=======</code>：分隔线，标记不同分支的修改位置</li><li><code>>>>>>>> feature/login</code>：表示被合并的分支（例如<code>feature/login</code>）的代码</li></ul><p>解决冲突的几种方法：</p><ol><li><p>手动编辑文件：你需要选择保留当前分支、被合并分支的代码，或者手动合并两者的内容。删除冲突标记并修改文件为你想要的结果</p></li><li><p>选择一个版本：</p><ul><li>如果你希望保留当前分支的代码，你可以删除<code>=======</code>和<code>>>>>>>> feature/login</code>之后的部分，只保留<code>HEAD</code>之前的部分</li><li>如果你希望保留被合并分支的代码，你可以删除<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>和<code>=======</code>之前的部分，只保留<code>feature/login</code>之后的部分</li></ul></li><li><p>标记冲突为已解决
解决了所有冲突后，保存文件并标记冲突已解决：</p></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git add file.txt
</span></span></code></pre></div><ol start=6><li>提交合并
一旦所有冲突都解决并且修改已添加到暂存区，你需要提交合并。Git会自动为合并提交生成一个默认的提交信息，你可以修改提交信息，或者直接提交：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>git commit
</span></span></code></pre></div><p>Git会创建一个合并提交，记录你解决冲突的过程</p><ol start=7><li>推送远端</li></ol></div><nav class=post-nav><a href=/unixlike/lib/blame/ class=hover:underline>pre: blame</a>
<a href=/unixlike/lib/bugreport/ class=hover:underline>next: bugreport</a></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><ul><li><a href=#为什么要使用git分支>为什么要使用Git分支</a></li><li><a href=#git分支的基本操作>Git分支的基本操作</a></li><li><a href=#分支的本质>分支的本质</a></li><li><a href=#分支工作流>分支工作流</a></li><li><a href=#分支管理的最佳实践>分支管理的最佳实践</a></li><li><a href=#merge>Merge</a><ul><li><a href=#基本用法>基本用法</a></li><li><a href=#合并场景>合并场景</a></li><li><a href=#冲突示例>冲突示例</a></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
<!doctype html><html lang=en><head><meta charset=UTF-8><title>objdump</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-ini.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/blogsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>█</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/unixlike/>★</a></li><li><a href=/unixlike/lab/>Lab</a></li><li><a href=/unixlike/lib/>Lib</a></li><li><a href=/unixlike/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+——————————————————————————————————————————————————————————————+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> ———————————— <a class=nav-item data-path=/home/ href=/home/>Home</a> ————————————— <a class=nav-item data-path=/system/ href=/system/>System</a>          |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |                                |
|                        /    |                                |
|                       /     |                                |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |                <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |                <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                          <a class=nav-item data-path=/csbasic/ href=/csbasic/>CSBasic</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+——————————————————————————————————————————————————————————————+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a></p><p><a href=https://gcc.gnu.org/onlinedocs/ target=_blank>GCC Docs</a></p><p><a href=https://clang.llvm.org/docs/ target=_blank>Clang Docs</a></p><p><a href=https://www.boost.org/libraries/ target=_blank>Boost Library Docs</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/manual/5.4/ target=_blank>Lua 5.4 Reference Manual</a><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a> : eBook Library</p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a> : manuals, philosophy, FAQ</p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a> |
<a href=https://git-scm.com/doc target=_blank>Docs</a> |
<a href=https://git-scm.com/community target=_blank>Community</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>objdump<div class=meta>Update: 2025-12-31
>> Creator：ljf12825</div></div><div class=content><h1 id=objdump>objdump</h1><p><code>objdump</code>用来查看二进制目标文件的内部结构</p><p>它可以解析的文件包括</p><ul><li><code>.o</code>（目标文件）</li><li>可执行文件（ELF）</li><li><code>.so</code>（动态库/共享库）</li><li>静态库中的对象文件</li></ul><p><code>objdump</code>能查看</p><table><thead><tr><th>能力</th><th>说明</th></tr></thead><tbody><tr><td>反汇编</td><td>看机器指令</td></tr><tr><td>符号表</td><td>函数/变量是否存在</td></tr><tr><td>段信息</td><td><code>.text</code>, <code>.data</code>, <code>.bss</code></td></tr><tr><td>重定位信息</td><td>链接器怎么补地址</td></tr><tr><td>动态依赖</td><td>用了那些<code>.so</code></td></tr><tr><td>调试信息</td><td>DWARF</td></tr></tbody></table><h2 id=实际应用场景>实际应用场景</h2><ol><li>逆向工程：分析未知二进制文件结构</li><li>调试辅助：查看崩溃时的代码位置</li><li>性能优化：分析热点函数的汇编代码</li><li>安全审计：检查二进制中的字符串和函数调用</li><li>学习工具：理解编译器如何生成代码</li><li>问题诊断：分析符号冲突、重定位问题</li></ol><h2 id=使用>使用</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump <span style=color:#f92672>[</span>options<span style=color:#f92672>]</span> objfile...
</span></span></code></pre></div><p>至少要指定一个选项</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>-a, -d, -D, -e, -f, -g, -G, -h, -H, -p, -P, -r, -R, -s, -S, -t, -T, -V, -x
</span></span></code></pre></div><h3 id=主要功能>主要功能</h3><ol><li>文件结构分析<ul><li><code>-f</code>/<code>--file-headers</code>：显示文件整体头部摘要（架构、入口地址等）</li><li><code>-h</code>/<code>--section-headers</code>：显示节区头部表（.text, .data, .bss等段的信息）</li><li><code>-x</code>/<code>--all-headers</code>：显示所有头部信息（等价于<code>-a -f -h -p -r -t</code>的组合）</li></ul></li><li>反汇编与分析<ul><li><code>-d</code>/<code>--disassemble</code>：反汇编代码段（仅包含指令的节区）</li><li><code>-D</code>/<code>--isassemble-all</code>：反汇编所有非空节区（包括可能包含数据的节区）</li><li><code>-S</code>/<code>--source</code>：源代码与汇编代码交错显示（需调试信息）</li><li><code>-l</code>/<code>--line-numbers</code>：显示源代码行号信息</li></ul></li><li>符号表查看<ul><li><code>-t</code>/<code>--syms</code>：显示符号表（类似<code>nm</code>命令）</li><li><code>-T</code>/<code>--dynamic-syms</code>：显示动态符号表（用于共享库）</li><li><code>--special-syms</code>：显示特殊符号</li></ul></li><li>节区内容查看<ul><li><code>-s</code>/<code>--full-contents</code>：显示节区完整内容（十六进制+ASCII）</li><li><code>-j section</code>/<code>--section=section</code>：指定显示特定节区</li><li><code>-z</code>/<code>--disassemble-zeroes</code>：反汇编零值块（默认跳过）</li></ul></li><li>调试信息分析<ul><li><code>-g</code>/<code>--debugging</code>：显示调试信息（STABS/DWARF格式）</li><li><code>-W</code>/<code>--dwarf</code>：显示DWARF调试信息（多种子选项）<ul><li><code>=info</code>：显示<code>.debug_info</code>节区</li><li><code>=decodedline</code>：显示解码的行号信息</li><li><code>=frames</code>：显示调用帧信息</li><li><code>-follow-links</code>：跟随调试信息链接</li></ul></li></ul></li><li>重定位信息<ul><li><code>-r</code>/<code>--reloc</code>：显示重定位条目</li><li><code>-R</code>/<code>--dynamic-reloc</code>：显示动态重定位条目</li></ul></li><li>特殊格式分析<ul><li><code>-a</code>/<code>--archive-headers</code>：分析归档文件（如<code>.a</code>静态库）</li><li><code>-G</code>/<code>--stabs</code>：显示STABS调试信息</li><li><code>--ctf</code>：显示CTF(Compact Type Format)信息</li><li><code>--sframe</code>：显示栈帧信息</li></ul></li></ol><h3 id=重要选项>重要选项</h3><h4 id=反汇编控制>反汇编控制</h4><ul><li><code>-M intel</code>/<code>-M att</code>：选择Intel或AT&amp;T汇编语法</li><li><code>--no-show-raw-insn</code>：不显示原始指令字节</li><li><code>--insn-width=width</code>：设置每行显示的指令字节数</li><li><code>--visualize-jumps[=color]</code>：可视化跳转（ASCII艺术图）</li><li><code>--disassemble-color</code>：彩色语法高亮</li></ul><h4 id=架构与格式>架构与格式</h4><ul><li><code>-b bfdname</code>/<code>--target=bfdname</code>：指定目标文件格式</li><li><code>-m machine</code>/<code>--architecture=machine</code>：指定目标架构</li><li><code>-EB</code>/<code>-EL</code>/<code>--endian={big|little}</code>：指定字节序</li></ul><h4 id=显示控制>显示控制</h4><ul><li><code>--start-address=addr</code>/<code>--stop-address=addr</code>：限制显示地址范围</li><li><code>--no-addresses</code>：不显示地址（便于代码比较）</li><li><code>--prefix-addresses</code>：显示完整地址（旧格式）</li><li><code>-w</code>/<code>--wide</code>：宽格式输出（不截断长符号名）</li><li><code>-C</code>/<code>--demangle</code>：解码C++符号名</li></ul><h4 id=调试相关>调试相关</h4><ul><li><code>--dwarf-depth=n</code>：限制DWARF信息显示深度</li><li><code>dwarf-start=n</code>：从指定DIE开始显示</li><li><code>--adjust-vma=offset</code>：调整节区显示地址</li></ul><h4 id=架构特定功能>架构特定功能</h4><h5 id=x86x86_64>x86/x86_64</h5><ul><li><code>M intel</code>：Intel语法</li><li><code>-M att</code>：AT&amp;T语法（默认）</li><li><code>-M suffix</code>：显示指令后缀</li><li><code>-M x86-64</code>/<code>-M i386</code>：指定指令集</li></ul><h5 id=arm>ARM</h5><ul><li><code>-M reg-names-std</code>：标准寄存器名</li><li><code>-M reg-names-raw</code>：原始寄存器名（r0, r1&mldr;）</li><li><code>-M force-thumb</code>：强制解释为Thumb指令</li></ul><h5 id=mips>MIPS</h5><ul><li><code>-M no-aliases</code>：显示原始指令</li><li><code>-M gpr-names=ABI</code>：指定ABI寄存器名</li></ul><h2 id=示例>示例</h2><h3 id=测试程序>测试程序</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g_value <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>__attribute__((noinline))
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> Add(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b <span style=color:#f92672>+</span> g_value;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> z <span style=color:#f92672>=</span> Add(x, y);
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> z <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>g_value</code>：全局变量</li><li><code>Add</code>：强制不inline（方便观察）</li><li><code>main</code>：函数调用 + I/O</li></ul><h3 id=编译>编译</h3><h4 id=1-不优化--带调试信息>1. 不优化 + 带调试信息</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>g++ -O0 -g test.cpp -o test_O0
</span></span></code></pre></div><ul><li><code>-O0</code>：关闭优化（汇编直观）</li><li><code>-g</code>：生成调试信息（给objdump -S 用）</li></ul><h4 id=2-开启优化>2. 开启优化</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>g++ -O2 test.cpp -o test_O2
</span></span></code></pre></div><h3 id=查看elf基本结构>查看ELF基本结构</h3><p>查看段(Section)信息</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -h test_O0
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Sections:
</span></span><span style=display:flex><span>Idx Name          Size      VMA               LMA               File off  Algn
</span></span><span style=display:flex><span>  0 .interp       0000001c  0000000000000318  0000000000000318  00000318  2**0
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  1 .note.gnu.property 00000030  0000000000000338  0000000000000338  00000338  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  2 .note.gnu.build-id 00000024  0000000000000368  0000000000000368  00000368  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  3 .note.ABI-tag 00000020  000000000000038c  000000000000038c  0000038c  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  4 .gnu.hash     00000028  00000000000003b0  00000000000003b0  000003b0  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  5 .dynsym       00000108  00000000000003d8  00000000000003d8  000003d8  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  6 .dynstr       0000012f  00000000000004e0  00000000000004e0  000004e0  2**0
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  7 .gnu.version  00000016  0000000000000610  0000000000000610  00000610  2**1
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  8 .gnu.version_r 00000060  0000000000000628  0000000000000628  00000628  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  9 .rela.dyn     000000f0  0000000000000688  0000000000000688  00000688  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span> 10 .rela.plt     00000030  0000000000000778  0000000000000778  00000778  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span> 11 .init         0000001b  0000000000001000  0000000000001000  00001000  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 12 .plt          00000030  0000000000001020  0000000000001020  00001020  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 13 .plt.got      00000010  0000000000001050  0000000000001050  00001050  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 14 .plt.sec      00000020  0000000000001060  0000000000001060  00001060  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 15 .text         00000162  0000000000001080  0000000000001080  00001080  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 16 .fini         0000000d  00000000000011e4  00000000000011e4  000011e4  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span> 17 .rodata       00000007  0000000000002000  0000000000002000  00002000  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span> 18 .eh_frame_hdr 0000003c  0000000000002008  0000000000002008  00002008  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span> 19 .eh_frame     000000cc  0000000000002048  0000000000002048  00002048  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span> 20 .init_array   00000008  0000000000003d98  0000000000003d98  00002d98  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span> 21 .fini_array   00000008  0000000000003da0  0000000000003da0  00002da0  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span> 22 .dynamic      00000200  0000000000003da8  0000000000003da8  00002da8  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span> 23 .got          00000058  0000000000003fa8  0000000000003fa8  00002fa8  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span> 24 .data         00000014  0000000000004000  0000000000004000  00003000  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span> 25 .bss          00000118  0000000000004040  0000000000004040  00003014  2**6
</span></span><span style=display:flex><span>                  ALLOC
</span></span><span style=display:flex><span> 26 .comment      0000002b  0000000000000000  0000000000000000  00003014  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY
</span></span><span style=display:flex><span> 27 .debug_aranges 00000030  0000000000000000  0000000000000000  0000303f  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span><span style=display:flex><span> 28 .debug_info   00002084  0000000000000000  0000000000000000  0000306f  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span><span style=display:flex><span> 29 .debug_abbrev 00000581  0000000000000000  0000000000000000  000050f3  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span><span style=display:flex><span> 30 .debug_line   00000146  0000000000000000  0000000000000000  00005674  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span><span style=display:flex><span> 31 .debug_str    0000104e  0000000000000000  0000000000000000  000057ba  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span><span style=display:flex><span> 32 .debug_line_str 0000027c  0000000000000000  0000000000000000  00006808  2**0
</span></span><span style=display:flex><span>                  CONTENTS, READONLY, DEBUGGING, OCTETS
</span></span></code></pre></div><h4 id=分析>分析</h4><h5 id=表头>表头</h5><ol><li><code>Idx(Index)</code> 索引号<ul><li>含义：节区在节区头表中的顺序索引（从0开始）</li><li>用途：快速引用节区，某些工具使用索引而非名称</li></ul></li><li><code>Name</code> 节区名称<ul><li>含义：节区的标准名称</li><li>常见名称：<ul><li><code>.text</code>：程序代码</li><li><code>.data</code>：已初始化数据</li><li><code>.bss</code>：未初始化数据</li><li><code>.rodata</code>：只读数据</li><li><code>.shstrtab</code>：节区名称字符串表</li></ul></li><li>注意：名称前的点号是ELF标准约定</li></ul></li><li><code>Size</code> 节区大小<ul><li>含义：节区在内存中占用的字节数（十六进制）</li><li>重要区别<ul><li>文件大小 vs 内存大小</li><li>例如<code>.bss</code>：内存有大小（0x118），但文件大小为0</li></ul></li><li>单位：字节（byte）</li></ul></li><li><code>VMA(Virtual Memory Address)</code> 虚拟内存地址<ul><li>含义：节区在进程虚拟地址空间中的加载地址</li><li>也称为：<code>sh_addr</code>（节区头部中的地址字段）</li><li>关键点<ul><li>程序运行时，节区会被加载到这个地址</li><li>代码中的绝对地址引用基于此</li><li>不同进程相同的VMA（因为每个进程有独立的地址空间）</li></ul></li></ul></li><li><code>LMA(Load Memory Address)</code> 加载内存地址<ul><li>含义：节区在物理内存中的加载地址</li><li>关键点<ul><li>对于大多数系统程序，LMA=VMA</li><li>差异出现在嵌入式/特殊系统（如ROM中运行的程序）<ul><li>程序存储在ROM(LMA)，运行时拷贝到RAM(VMA)</li></ul></li></ul></li></ul></li><li><code>File off(File Offset)</code> 文件偏移<ul><li>含义：节区内容在ELF文件中的起始位置</li><li>关键点：<ul><li>从文件开头计算的字节偏移</li><li>调试节区（如<code>.debug_info</code>）的VMA=0但File off有效</li><li>用于<code>objdump -s -j</code> 查看节区原始内容</li></ul></li></ul></li><li><code>Algn(Alignment)</code> 对齐要求<ul><li>格式<code>2**n</code>(2的n次方)</li><li>含义：节区在内存和文件中的对齐边界</li><li>示例<ul><li><code>2**0</code>：1字节对齐（任意地址）</li><li><code>2**4</code>：16字节对齐（地址末4位为0）</li><li><code>2**13</code>：4096字节对齐（页对齐）</li></ul></li><li>作用：提高内存访问效率，满足硬件要求</li></ul></li></ol><h5 id=节区标志>节区标志</h5><p>节区标志是ELF文件中描述节区属性的位掩码，定义了一个节区在内存中的行为权限</p><ol><li><p>CONTENTS</p><ul><li>含义：节区在文件中有实际内容</li><li>反例：<code>.bss</code>节区没有CONTENTS标志<ul><li>在文件中不占空间</li><li>运行时分配并初始化为0</li></ul></li></ul></li><li><p>ALLOC</p><ul><li>含义：节区在进程运行时占用内存</li><li>关键：几乎所有有意义的节区都有ALLOC</li><li>例外：纯调试信息节区（如<code>.debug_info</code>）通常没有ALLOC, 它们只存在于文件中，不加载到内存</li></ul></li><li><p>LOAD</p><ul><li>含义：节区需要从文件加载到内存</li><li>条件：必须同时有CONTENTS + ALLOC</li><li>示例：<ul><li><code>.text</code>：需要从文件加载代码到内存执行</li><li><code>.data</code>：加载初始化数据</li></ul></li><li>反例：<ul><li><code>.bss</code>：有ALLOC但无LOAD（无需从文件加载）</li><li><code>.debug_info</code>：有CONTENTS但无LOAD（不加载到内存）</li></ul></li></ul></li><li><p>READONLY</p><ul><li>含义：节区在内存中只读</li><li>保护：尝试写入会导致段错误（Segmentation Fault）</li><li>包含：<ul><li><code>.text</code>：代码段（不可自我修改）</li><li><code>.rodata</code>：只读数据（字符串常量等）</li><li><code>.eh_frame</code>：异常处理信息</li><li>所有只读数据节区</li></ul></li></ul></li><li><p>CODE</p><ul><li>含义：节区包含可执行代码</li><li>权限：通常同时有READONLY（现代系统）</li><li>示例：<code>.text</code>, <code>.init</code>, <code>.fini</code>, <code>.plt*</code></li><li>注意：代码段在现代系统中一般是不可写的（W^X安全策略）</li></ul></li><li><p>DATA</p><ul><li>含义：节区包含数据（非代码）</li><li>子类型：<ul><li>读写数据：<code>.data</code>, <code>.bss</code></li><li>只读数据：<code>.rodata</code>, <code>.eh_frame*</code></li><li>特殊数据：<code>.dynamic</code>, <code>.got</code>, <code>.init_array</code></li></ul></li></ul></li><li><p>DEBUGGING</p><ul><li>含义：节区包含调试信息</li><li>特点：通常没有ALLOC和LOAD</li><li>示例：<code>.debug_info</code>, <code>debug_line</code>, <code>debug_str</code></li><li>用途：仅供调试器（gdb）使用，运行时不需要</li></ul></li><li><p>OCTETS</p><ul><li>含义：节区包含任意字节数据</li><li>出现：主要与DEBUGGING一起出现</li><li>表示：该节区没有特定结构</li></ul></li></ol><p>在ELF标准中，节区头有一个<code>sh_flags</code>字段，包含以下位标志</p><table><thead><tr><th>标志名</th><th>值（十六进制）</th><th>含义</th><th>objdump显示名</th></tr></thead><tbody><tr><td>SHF_WRITE</td><td>0x1</td><td>节区可写</td><td>(无，READONLY的反面)</td></tr><tr><td>SHF_ALLOC</td><td>0x2</td><td>节区在内存中分配</td><td>ALLOC</td></tr><tr><td>SHF_EXECINSTR</td><td>0x4</td><td>节区包含可执行指令</td><td>CODE</td></tr><tr><td>SHF_MERGE</td><td>0x10</td><td>节区内容可合并</td><td>(不常见)</td></tr><tr><td>SHF_STRINGS</td><td>0x20</td><td>节区包含以null结尾的字符串</td><td>(不常见)</td></tr><tr><td>SHF_INFO_LINK</td><td>0x40</td><td>sh_info 包含节区索引</td><td>(内部使用)</td></tr><tr><td>SHF_LINK_ORDER</td><td>0x80</td><td>特殊链接顺序要求</td><td>(内部使用)</td></tr><tr><td>SHF_OS_NONCONFORMING</td><td>0x100</td><td>需要特定OS支持</td><td>(不常见)</td></tr><tr><td>SHF_GROUP</td><td>0x200</td><td>节区属于一个组</td><td>(不常见)</td></tr><tr><td>SHF_TLS</td><td>0x400</td><td>线程局部存储</td><td>(特殊)</td></tr><tr><td>SHF_COMPRESSED</td><td>0x800</td><td>节区内容被压缩</td><td>(不常见)</td></tr><tr><td>SHF_MASKOS</td><td>0x0ff00000</td><td>操作系统特定</td><td>(OS相关)</td></tr><tr><td>SHF_MASKPROC</td><td>0xf0000000</td><td>处理器特定</td><td>(CPU相关)</td></tr></tbody></table><h5 id=示例-1>示例</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span> 15 .text         00000162  0000000000001080  0000000000001080  00001080  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span></code></pre></div><ul><li>索引号：<code>15</code> - 这是16th个节区（从0开始计数）</li><li>名称：<code>.text</code> - 主程序代码段，包含所有可执行代码</li><li>大小：<code>00000162</code>（16进制） = 354字节<ul><li>这是程序所有编译后代码的总大小</li><li>包括main函数和其他所有函数</li><li>注意：这只是用户代码，不包括库函数（它们在共享库中）</li></ul></li><li>VMA（虚拟内存地址）：<code>0000000000001080</code><ul><li>程序运行时，这段代码将加载到进程地址空间的0x1080处</li><li>这是典型的起始地址（避开低地址区域）</li></ul></li><li>LMA（加载内存地址）：<code>0000000000001080</code><ul><li>与VMA相同，表示这是普通系统程序</li><li>对于嵌入式系统可能不同（如ROM中执行）</li></ul></li><li>文件偏移：<code>00001080</code>（十六进制） = 4224字节<ul><li>在ELF文件中，这个节区的内容从第4224字节开始</li><li>使用<code>objdump -s -j .text</code>可以查看这里的原始字节</li></ul></li><li>对齐：<code>2**4</code> = 16字节对齐<ul><li>节区的内存和文件中的起始地址必须是16的倍数</li><li>0x1080确实是16的倍数</li></ul></li><li>标志位<ul><li>CONTENTS<ul><li>节区在文件中有实际内容</li><li>文件偏移0x1080到0x1080+0x162 = 0x11e2之间有354字节的机器码</li><li>可以用<code>hexdump -C test_O0 -s 0x1080 -n 0x162</code>查看原始字节</li></ul></li><li>ALLOC<ul><li>节区在进程运行时占用内存</li><li>运行时会在虚拟地址0x1080处分配354字节内存</li><li>几乎所有可执行代码都有此标志</li></ul></li><li>LOAD<ul><li>节区需要从文件加载到内存</li><li>程序启动时，加载器会将文件中的354字节机器码复制到内存地址0x1080</li></ul></li><li>READONLY<ul><li>节区在内存中只读</li><li>关键安全特性：防止代码被修改（代码注入攻击）</li><li>尝试写入此内存区域会导致段错误（Segmentation Fault）</li><li>现代系统的W^X（写异或执行）原则：内存页不能同时可写和可执行</li></ul></li><li>CODE<ul><li>节区包含可执行机器指令</li><li>操作系统会将此内存标记为可执行</li><li>CPU可以直接从这里取指令执行</li></ul></li></ul></li></ul><h5 id=实际内存映射>实际内存映射</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>// 类似这样的系统调用
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>mmap</span>(
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>void</span><span style=color:#f92672>*</span>)<span style=color:#ae81ff>0x1080</span>,          <span style=color:#75715e>// 请求的地址
</span></span></span><span style=display:flex><span>    <span style=color:#ae81ff>0x162</span>,                  <span style=color:#75715e>// 大小：354字节
</span></span></span><span style=display:flex><span>    PROT_READ <span style=color:#f92672>|</span> PROT_EXEC,  <span style=color:#75715e>// 权限：可读 + 可执行（不可写！）
</span></span></span><span style=display:flex><span>    MAP_PRIVATE <span style=color:#f92672>|</span> MAP_FIXED, <span style=color:#75715e>// 私有映射，固定地址
</span></span></span><span style=display:flex><span>    fd,                     <span style=color:#75715e>// ELF文件描述符
</span></span></span><span style=display:flex><span>    <span style=color:#ae81ff>0x1080</span>                  <span style=color:#75715e>// 文件偏移
</span></span></span><span style=display:flex><span>);
</span></span></code></pre></div><h5 id=前后节区关系>前后节区关系</h5><h6 id=前后节区>前后节区</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>14 .plt.sec      00000020  0000000000001060  0000000000001060  00001060  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span>15 .text         00000162  0000000000001080  0000000000001080  00001080  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span>16 .fini         0000000d  00000000000011e4  00000000000011e4  000011e4  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span></code></pre></div><ul><li><code>.plt.sec</code>：在<code>.text</code>之前（0x1060-0x1080），动态链接跳转</li><li><code>.text</code>：主代码段（0x1080-0x11e2）</li><li><code>.fini</code>：在<code>.text</code>之后（0x11e4-0x11f1），程序清理代码</li></ul><h6 id=地址计算>地址计算</h6><ul><li><code>.text</code>结束地址：0x1080 + 0x162 = 0x11e2</li><li><code>.fini</code>开始地址：0x11e4</li><li>中间有2字节间隙（0x11e2-0x11e3），可能是对齐充填或特殊用途</li></ul><h4 id=查看符号表函数--变量>查看符号表（函数 & 变量）</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -t test_O0
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>SYMBOL TABLE:
</span></span><span style=display:flex><span>0000000000000000 l    df *ABS*  0000000000
</span></span><span style=display:flex><span>000000              Scrt1.o
</span></span><span style=display:flex><span>000000000000038c l     O .note.ABI-tag  00
</span></span><span style=display:flex><span>00000000000020              __abi_tag
</span></span><span style=display:flex><span>0000000000000000 l    df *ABS*  0000000000
</span></span><span style=display:flex><span>000000              crtstuff.c
</span></span><span style=display:flex><span>00000000000010b0 l     F .text  0000000000
</span></span><span style=display:flex><span>000000              deregister_tm_clones
</span></span><span style=display:flex><span>00000000000010e0 l     F .text  0000000000
</span></span><span style=display:flex><span>000000              register_tm_clones
</span></span><span style=display:flex><span>0000000000001120 l     F .text  0000000000
</span></span><span style=display:flex><span>000000              __do_global_dtors_aux
</span></span><span style=display:flex><span>0000000000004150 l     O .bss   0000000000
</span></span><span style=display:flex><span>000001              completed.0
</span></span><span style=display:flex><span>0000000000003da0 l     O .fini_array    00
</span></span><span style=display:flex><span>00000000000000              __do_global_dt
</span></span><span style=display:flex><span>ors_aux_fini_array_entry
</span></span><span style=display:flex><span>0000000000001160 l     F .text  0000000000
</span></span><span style=display:flex><span>000000              frame_dummy
</span></span><span style=display:flex><span>0000000000003d98 l     O .init_array    00
</span></span><span style=display:flex><span>00000000000000              __frame_dummy_
</span></span><span style=display:flex><span>init_array_entry
</span></span><span style=display:flex><span>0000000000000000 l    df *ABS*  0000000000
</span></span><span style=display:flex><span>000000              test.cpp
</span></span><span style=display:flex><span>0000000000002004 l     O .rodata        00
</span></span><span style=display:flex><span>00000000000001              _ZNSt8__detail
</span></span><span style=display:flex><span>30__integer_to_chars_is_unsignedIjEE
</span></span><span style=display:flex><span>0000000000002005 l     O .rodata        00
</span></span><span style=display:flex><span>00000000000001              _ZNSt8__detail
</span></span><span style=display:flex><span>30__integer_to_chars_is_unsignedImEE
</span></span><span style=display:flex><span>0000000000002006 l     O .rodata        00
</span></span><span style=display:flex><span>00000000000001              _ZNSt8__detail
</span></span><span style=display:flex><span>30__integer_to_chars_is_unsignedIyEE
</span></span><span style=display:flex><span>0000000000000000 l    df *ABS*  0000000000
</span></span><span style=display:flex><span>000000              crtstuff.c
</span></span><span style=display:flex><span>0000000000002110 l     O .eh_frame      00
</span></span><span style=display:flex><span>00000000000000              __FRAME_END__
</span></span><span style=display:flex><span>0000000000000000 l    df *ABS*  0000000000
</span></span><span style=display:flex><span>000000              
</span></span><span style=display:flex><span>0000000000002008 l       .eh_frame_hdr  00
</span></span><span style=display:flex><span>00000000000000              __GNU_EH_FRAME
</span></span><span style=display:flex><span>_HDR
</span></span><span style=display:flex><span>0000000000003da8 l     O .dynamic       00
</span></span><span style=display:flex><span>00000000000000              _DYNAMIC
</span></span><span style=display:flex><span>0000000000003fa8 l     O .got   0000000000
</span></span><span style=display:flex><span>000000              _GLOBAL_OFFSET_TABLE_
</span></span><span style=display:flex><span>0000000000004014 g       .data  0000000000
</span></span><span style=display:flex><span>000000              _edata
</span></span><span style=display:flex><span>0000000000004000  w      .data  0000000000
</span></span><span style=display:flex><span>000000              data_start
</span></span><span style=display:flex><span>0000000000002000 g     O .rodata        00
</span></span><span style=display:flex><span>00000000000004              _IO_stdin_used
</span></span><span style=display:flex><span>0000000000000000  w    F *UND*  0000000000
</span></span><span style=display:flex><span>000000              __cxa_finalize@GLIBC_2
</span></span><span style=display:flex><span>.2.5
</span></span><span style=display:flex><span>0000000000001189 g     F .text  0000000000
</span></span><span style=display:flex><span>000059              main
</span></span><span style=display:flex><span>0000000000000000       F *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ZSt4endlIcSt11char_tr
</span></span><span style=display:flex><span>aitsIcEERSt13basic_ostreamIT_T0_ES6_@GLIBC
</span></span><span style=display:flex><span>XX_3.4
</span></span><span style=display:flex><span>0000000000004008 g     O .data  0000000000
</span></span><span style=display:flex><span>000000              .hidden __dso_handle
</span></span><span style=display:flex><span>00000000000011e4 g     F .fini  0000000000
</span></span><span style=display:flex><span>000000              .hidden _fini
</span></span><span style=display:flex><span>0000000000000000       F *UND*  0000000000
</span></span><span style=display:flex><span>000000              __libc_start_main@GLIB
</span></span><span style=display:flex><span>C_2.34
</span></span><span style=display:flex><span>0000000000001080 g     F .text  0000000000
</span></span><span style=display:flex><span>000026              _start
</span></span><span style=display:flex><span>0000000000000000       F *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ZNSolsEPFRSoS_E@GLIBC
</span></span><span style=display:flex><span>XX_3.4
</span></span><span style=display:flex><span>0000000000001000 g     F .init  0000000000
</span></span><span style=display:flex><span>000000              .hidden _init
</span></span><span style=display:flex><span>0000000000004018 g     O .data  0000000000
</span></span><span style=display:flex><span>000000              .hidden __TMC_END__
</span></span><span style=display:flex><span>0000000000001169 g     F .text  0000000000
</span></span><span style=display:flex><span>000020              _Z3Addii
</span></span><span style=display:flex><span>0000000000004010 g     O .data  0000000000
</span></span><span style=display:flex><span>000004              g_value
</span></span><span style=display:flex><span>0000000000004040 g     O .bss   0000000000
</span></span><span style=display:flex><span>000110              _ZSt4cout@GLIBCXX_3.4
</span></span><span style=display:flex><span>0000000000004000 g       .data  0000000000
</span></span><span style=display:flex><span>000000              __data_start
</span></span><span style=display:flex><span>0000000000004158 g       .bss   0000000000
</span></span><span style=display:flex><span>000000              _end
</span></span><span style=display:flex><span>0000000000004040 g       .bss   0000000000
</span></span><span style=display:flex><span>000000              __bss_start
</span></span><span style=display:flex><span>0000000000000000       F *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ZSt21ios_base_library
</span></span><span style=display:flex><span>_initv@GLIBCXX_3.4.32
</span></span><span style=display:flex><span>0000000000000000       F *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ZNSolsEi@GLIBCXX_3.4
</span></span><span style=display:flex><span>0000000000000000  w      *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ITM_deregisterTMClone
</span></span><span style=display:flex><span>Table
</span></span><span style=display:flex><span>0000000000000000  w      *UND*  0000000000
</span></span><span style=display:flex><span>000000              __gmon_start__
</span></span><span style=display:flex><span>0000000000000000  w      *UND*  0000000000
</span></span><span style=display:flex><span>000000              _ITM_registerTMCloneTa
</span></span><span style=display:flex><span>ble
</span></span></code></pre></div><h5 id=解析>解析</h5><p>符号表格式解析</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>&lt;地址&gt; &lt;标志&gt; &lt;节区&gt; &lt;大小&gt; &lt;名称&gt;
</span></span></code></pre></div><ol><li>地址列（Address）<ul><li>符号在内存中的地址（VMA）</li><li><code>0000000000000000</code>表示未定义（UND）或未分配</li></ul></li><li>标志列（Flags）
单个字符表示符号属性<ul><li>l(local)：局部符号（文件内可见）</li><li>g(global)：全局符号（外部可见）</li><li>w(weak)：弱符号（可被覆盖）</li><li>空格：普通符号</li><li>F：函数符号</li><li>O：对象/数据符号</li></ul></li><li>节区列（Section）<ul><li>符号所属节区名称</li><li><code>*ABS*</code>：绝对符号（不依赖节区）</li><li><code>*UND*</code>：未定义（在其他文件中定义）</li></ul></li><li>大小列（Size）<ul><li>符号占用字节数</li><li><code>0000000000000000</code>表示大小未知或为0</li></ul></li><li>名称列（Name）<ul><li>符号名称（可能被C++修饰）</li><li>以<code>@</code>结尾表示版本信息（如<code>@GLIBC_2.34</code>）</li></ul></li></ol><p>可以使用<code>grep</code>过滤关键内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -t test_O0 | grep -E <span style=color:#e6db74>&#34;Add|main|g_value&#34;</span>
</span></span></code></pre></div><h4 id=反汇编>反汇编</h4><h5 id=默认反汇编att风格>默认反汇编（AT&amp;T风格）</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d test_O0
</span></span></code></pre></div><p>符号比较反直觉</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .init:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001000 &lt;_init&gt;:
</span></span><span style=display:flex><span>    1000:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1004:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    $0x8,%rsp
</span></span><span style=display:flex><span>    1008:       48 8b 05 e1 2f 00 00    mo
</span></span><span style=display:flex><span>v    0x2fe1(%rip),%rax        # 3ff0 &lt;__gm
</span></span><span style=display:flex><span>on_start__@Base&gt;
</span></span><span style=display:flex><span>    100f:       48 85 c0                te
</span></span><span style=display:flex><span>st   %rax,%rax
</span></span><span style=display:flex><span>    1012:       74 02                   je
</span></span><span style=display:flex><span>     1016 &lt;_init+0x16&gt;
</span></span><span style=display:flex><span>    1014:       ff d0                   ca
</span></span><span style=display:flex><span>ll   *%rax
</span></span><span style=display:flex><span>    1016:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    $0x8,%rsp
</span></span><span style=display:flex><span>    101a:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001020 &lt;.plt&gt;:
</span></span><span style=display:flex><span>    1020:       ff 35 8a 2f 00 00       pu
</span></span><span style=display:flex><span>sh   0x2f8a(%rip)        # 3fb0 &lt;_GLOBAL_O
</span></span><span style=display:flex><span>FFSET_TABLE_+0x8&gt;
</span></span><span style=display:flex><span>    1026:       ff 25 8c 2f 00 00       jm
</span></span><span style=display:flex><span>p    *0x2f8c(%rip)        # 3fb8 &lt;_GLOBAL_
</span></span><span style=display:flex><span>OFFSET_TABLE_+0x10&gt;
</span></span><span style=display:flex><span>    102c:       0f 1f 40 00             no
</span></span><span style=display:flex><span>pl   0x0(%rax)
</span></span><span style=display:flex><span>    1030:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1034:       68 00 00 00 00          pu
</span></span><span style=display:flex><span>sh   $0x0
</span></span><span style=display:flex><span>    1039:       e9 e2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    103e:       66 90                   xc
</span></span><span style=display:flex><span>hg   %ax,%ax
</span></span><span style=display:flex><span>    1040:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1044:       68 01 00 00 00          pu
</span></span><span style=display:flex><span>sh   $0x1
</span></span><span style=display:flex><span>    1049:       e9 d2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    104e:       66 90                   xc
</span></span><span style=display:flex><span>hg   %ax,%ax
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.got:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001050 &lt;__cxa_finalize@plt&gt;:
</span></span><span style=display:flex><span>    1050:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1054:       ff 25 76 2f 00 00       jm
</span></span><span style=display:flex><span>p    *0x2f76(%rip)        # 3fd0 &lt;__cxa_fi
</span></span><span style=display:flex><span>nalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    105a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>pw   0x0(%rax,%rax,1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.sec:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001060 &lt;_ZNSolsEPFRSoS_E@plt&gt;:
</span></span><span style=display:flex><span>    1060:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1064:       ff 25 56 2f 00 00       jm
</span></span><span style=display:flex><span>p    *0x2f56(%rip)        # 3fc0 &lt;_ZNSolsE
</span></span><span style=display:flex><span>PFRSoS_E@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    106a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>pw   0x0(%rax,%rax,1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001070 &lt;_ZNSolsEi@plt&gt;:
</span></span><span style=display:flex><span>    1070:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1074:       ff 25 4e 2f 00 00       jm
</span></span><span style=display:flex><span>p    *0x2f4e(%rip)        # 3fc8 &lt;_ZNSolsE
</span></span><span style=display:flex><span>i@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    107a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>pw   0x0(%rax,%rax,1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .text:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001080 &lt;_start&gt;:
</span></span><span style=display:flex><span>    1080:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1084:       31 ed                   xo
</span></span><span style=display:flex><span>r    %ebp,%ebp
</span></span><span style=display:flex><span>    1086:       49 89 d1                mo
</span></span><span style=display:flex><span>v    %rdx,%r9
</span></span><span style=display:flex><span>    1089:       5e                      po
</span></span><span style=display:flex><span>p    %rsi
</span></span><span style=display:flex><span>    108a:       48 89 e2                mo
</span></span><span style=display:flex><span>v    %rsp,%rdx
</span></span><span style=display:flex><span>    108d:       48 83 e4 f0             an
</span></span><span style=display:flex><span>d    $0xfffffffffffffff0,%rsp
</span></span><span style=display:flex><span>    1091:       50                      pu
</span></span><span style=display:flex><span>sh   %rax
</span></span><span style=display:flex><span>    1092:       54                      pu
</span></span><span style=display:flex><span>sh   %rsp
</span></span><span style=display:flex><span>    1093:       45 31 c0                xo
</span></span><span style=display:flex><span>r    %r8d,%r8d
</span></span><span style=display:flex><span>    1096:       31 c9                   xo
</span></span><span style=display:flex><span>r    %ecx,%ecx
</span></span><span style=display:flex><span>    1098:       48 8d 3d ea 00 00 00    le
</span></span><span style=display:flex><span>a    0xea(%rip),%rdi        # 1189 &lt;main&gt;
</span></span><span style=display:flex><span>    109f:       ff 15 3b 2f 00 00       ca
</span></span><span style=display:flex><span>ll   *0x2f3b(%rip)        # 3fe0 &lt;__libc_s
</span></span><span style=display:flex><span>tart_main@GLIBC_2.34&gt;
</span></span><span style=display:flex><span>    10a5:       f4                      hl
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10a6:       66 2e 0f 1f 84 00 00    cs
</span></span><span style=display:flex><span> nopw 0x0(%rax,%rax,1)
</span></span><span style=display:flex><span>    10ad:       00 00 00 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010b0 &lt;deregister_tm_clones&gt;:
</span></span><span style=display:flex><span>    10b0:       48 8d 3d 61 2f 00 00    le
</span></span><span style=display:flex><span>a    0x2f61(%rip),%rdi        # 4018 &lt;__TM
</span></span><span style=display:flex><span>C_END__&gt;
</span></span><span style=display:flex><span>    10b7:       48 8d 05 5a 2f 00 00    le
</span></span><span style=display:flex><span>a    0x2f5a(%rip),%rax        # 4018 &lt;__TM
</span></span><span style=display:flex><span>C_END__&gt;
</span></span><span style=display:flex><span>    10be:       48 39 f8                cm
</span></span><span style=display:flex><span>p    %rdi,%rax
</span></span><span style=display:flex><span>    10c1:       74 15                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10c3:       48 8b 05 1e 2f 00 00    mo
</span></span><span style=display:flex><span>v    0x2f1e(%rip),%rax        # 3fe8 &lt;_ITM
</span></span><span style=display:flex><span>_deregisterTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    10ca:       48 85 c0                te
</span></span><span style=display:flex><span>st   %rax,%rax
</span></span><span style=display:flex><span>    10cd:       74 09                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10cf:       ff e0                   jm
</span></span><span style=display:flex><span>p    *%rax
</span></span><span style=display:flex><span>    10d1:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>pl   0x0(%rax)
</span></span><span style=display:flex><span>    10d8:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10d9:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>pl   0x0(%rax)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010e0 &lt;register_tm_clones&gt;:
</span></span><span style=display:flex><span>    10e0:       48 8d 3d 31 2f 00 00    le
</span></span><span style=display:flex><span>a    0x2f31(%rip),%rdi        # 4018 &lt;__TM
</span></span><span style=display:flex><span>C_END__&gt;
</span></span><span style=display:flex><span>    10e7:       48 8d 35 2a 2f 00 00    le
</span></span><span style=display:flex><span>a    0x2f2a(%rip),%rsi        # 4018 &lt;__TM
</span></span><span style=display:flex><span>C_END__&gt;
</span></span><span style=display:flex><span>    10ee:       48 29 fe                su
</span></span><span style=display:flex><span>b    %rdi,%rsi
</span></span><span style=display:flex><span>    10f1:       48 89 f0                mo
</span></span><span style=display:flex><span>v    %rsi,%rax
</span></span><span style=display:flex><span>    10f4:       48 c1 ee 3f             sh
</span></span><span style=display:flex><span>r    $0x3f,%rsi
</span></span><span style=display:flex><span>    10f8:       48 c1 f8 03             sa
</span></span><span style=display:flex><span>r    $0x3,%rax
</span></span><span style=display:flex><span>    10fc:       48 01 c6                ad
</span></span><span style=display:flex><span>d    %rax,%rsi
</span></span><span style=display:flex><span>    10ff:       48 d1 fe                sa
</span></span><span style=display:flex><span>r    $1,%rsi
</span></span><span style=display:flex><span>    1102:       74 14                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1104:       48 8b 05 ed 2e 00 00    mo
</span></span><span style=display:flex><span>v    0x2eed(%rip),%rax        # 3ff8 &lt;_ITM
</span></span><span style=display:flex><span>_registerTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    110b:       48 85 c0                te
</span></span><span style=display:flex><span>st   %rax,%rax
</span></span><span style=display:flex><span>    110e:       74 08                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1110:       ff e0                   jm
</span></span><span style=display:flex><span>p    *%rax
</span></span><span style=display:flex><span>    1112:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>pw   0x0(%rax,%rax,1)
</span></span><span style=display:flex><span>    1118:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1119:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>pl   0x0(%rax)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001120 &lt;__do_global_dtors_aux&gt;:
</span></span><span style=display:flex><span>    1120:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1124:       80 3d 25 30 00 00 00    cm
</span></span><span style=display:flex><span>pb   $0x0,0x3025(%rip)        # 4150 &lt;comp
</span></span><span style=display:flex><span>leted.0&gt;
</span></span><span style=display:flex><span>    112b:       75 2b                   jn
</span></span><span style=display:flex><span>e    1158 &lt;__do_global_dtors_aux+0x38&gt;
</span></span><span style=display:flex><span>    112d:       55                      pu
</span></span><span style=display:flex><span>sh   %rbp
</span></span><span style=display:flex><span>    112e:       48 83 3d 9a 2e 00 00    cm
</span></span><span style=display:flex><span>pq   $0x0,0x2e9a(%rip)        # 3fd0 &lt;__cx
</span></span><span style=display:flex><span>a_finalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    1135:       00 
</span></span><span style=display:flex><span>    1136:       48 89 e5                mo
</span></span><span style=display:flex><span>v    %rsp,%rbp
</span></span><span style=display:flex><span>    1139:       74 0c                   je
</span></span><span style=display:flex><span>     1147 &lt;__do_global_dtors_aux+0x27&gt;
</span></span><span style=display:flex><span>    113b:       48 8b 3d c6 2e 00 00    mo
</span></span><span style=display:flex><span>v    0x2ec6(%rip),%rdi        # 4008 &lt;__ds
</span></span><span style=display:flex><span>o_handle&gt;
</span></span><span style=display:flex><span>    1142:       e8 09 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1050 &lt;__cxa_finalize@plt&gt;
</span></span><span style=display:flex><span>    1147:       e8 64 ff ff ff          ca
</span></span><span style=display:flex><span>ll   10b0 &lt;deregister_tm_clones&gt;
</span></span><span style=display:flex><span>    114c:       c6 05 fd 2f 00 00 01    mo
</span></span><span style=display:flex><span>vb   $0x1,0x2ffd(%rip)        # 4150 &lt;comp
</span></span><span style=display:flex><span>leted.0&gt;
</span></span><span style=display:flex><span>    1153:       5d                      po
</span></span><span style=display:flex><span>p    %rbp
</span></span><span style=display:flex><span>    1154:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1155:       0f 1f 00                no
</span></span><span style=display:flex><span>pl   (%rax)
</span></span><span style=display:flex><span>    1158:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1159:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>pl   0x0(%rax)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001160 &lt;frame_dummy&gt;:
</span></span><span style=display:flex><span>    1160:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1164:       e9 77 ff ff ff          jm
</span></span><span style=display:flex><span>p    10e0 &lt;register_tm_clones&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001169 &lt;_Z3Addii&gt;:
</span></span><span style=display:flex><span>    1169:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    116d:       55                      pu
</span></span><span style=display:flex><span>sh   %rbp
</span></span><span style=display:flex><span>    116e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    %rsp,%rbp
</span></span><span style=display:flex><span>    1171:       89 7d fc                mo
</span></span><span style=display:flex><span>v    %edi,-0x4(%rbp)
</span></span><span style=display:flex><span>    1174:       89 75 f8                mo
</span></span><span style=display:flex><span>v    %esi,-0x8(%rbp)
</span></span><span style=display:flex><span>    1177:       8b 55 fc                mo
</span></span><span style=display:flex><span>v    -0x4(%rbp),%edx
</span></span><span style=display:flex><span>    117a:       8b 45 f8                mo
</span></span><span style=display:flex><span>v    -0x8(%rbp),%eax
</span></span><span style=display:flex><span>    117d:       01 c2                   ad
</span></span><span style=display:flex><span>d    %eax,%edx
</span></span><span style=display:flex><span>    117f:       8b 05 8b 2e 00 00       mo
</span></span><span style=display:flex><span>v    0x2e8b(%rip),%eax        # 4010 &lt;g_va
</span></span><span style=display:flex><span>lue&gt;
</span></span><span style=display:flex><span>    1185:       01 d0                   ad
</span></span><span style=display:flex><span>d    %edx,%eax
</span></span><span style=display:flex><span>    1187:       5d                      po
</span></span><span style=display:flex><span>p    %rbp
</span></span><span style=display:flex><span>    1188:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001189 &lt;main&gt;:
</span></span><span style=display:flex><span>    1189:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    118d:       55                      pu
</span></span><span style=display:flex><span>sh   %rbp
</span></span><span style=display:flex><span>    118e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    %rsp,%rbp
</span></span><span style=display:flex><span>    1191:       48 83 ec 10             su
</span></span><span style=display:flex><span>b    $0x10,%rsp
</span></span><span style=display:flex><span>    1195:       c7 45 f4 03 00 00 00    mo
</span></span><span style=display:flex><span>vl   $0x3,-0xc(%rbp)
</span></span><span style=display:flex><span>    119c:       c7 45 f8 04 00 00 00    mo
</span></span><span style=display:flex><span>vl   $0x4,-0x8(%rbp)
</span></span><span style=display:flex><span>    11a3:       8b 55 f8                mo
</span></span><span style=display:flex><span>v    -0x8(%rbp),%edx
</span></span><span style=display:flex><span>    11a6:       8b 45 f4                mo
</span></span><span style=display:flex><span>v    -0xc(%rbp),%eax
</span></span><span style=display:flex><span>    11a9:       89 d6                   mo
</span></span><span style=display:flex><span>v    %edx,%esi
</span></span><span style=display:flex><span>    11ab:       89 c7                   mo
</span></span><span style=display:flex><span>v    %eax,%edi
</span></span><span style=display:flex><span>    11ad:       e8 b7 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1169 &lt;_Z3Addii&gt;
</span></span><span style=display:flex><span>    11b2:       89 45 fc                mo
</span></span><span style=display:flex><span>v    %eax,-0x4(%rbp)
</span></span><span style=display:flex><span>    11b5:       8b 45 fc                mo
</span></span><span style=display:flex><span>v    -0x4(%rbp),%eax
</span></span><span style=display:flex><span>    11b8:       89 c6                   mo
</span></span><span style=display:flex><span>v    %eax,%esi
</span></span><span style=display:flex><span>    11ba:       48 8d 05 7f 2e 00 00    le
</span></span><span style=display:flex><span>a    0x2e7f(%rip),%rax        # 4040 &lt;_ZSt
</span></span><span style=display:flex><span>4cout@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11c1:       48 89 c7                mo
</span></span><span style=display:flex><span>v    %rax,%rdi
</span></span><span style=display:flex><span>    11c4:       e8 a7 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1070 &lt;_ZNSolsEi@plt&gt;
</span></span><span style=display:flex><span>    11c9:       48 8b 15 08 2e 00 00    mo
</span></span><span style=display:flex><span>v    0x2e08(%rip),%rdx        # 3fd8 &lt;_ZSt
</span></span><span style=display:flex><span>4endlIcSt11char_traitsIcEERSt13basic_ostre
</span></span><span style=display:flex><span>amIT_T0_ES6_@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11d0:       48 89 d6                mo
</span></span><span style=display:flex><span>v    %rdx,%rsi
</span></span><span style=display:flex><span>    11d3:       48 89 c7                mo
</span></span><span style=display:flex><span>v    %rax,%rdi
</span></span><span style=display:flex><span>    11d6:       e8 85 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1060 &lt;_ZNSolsEPFRSoS_E@plt&gt;
</span></span><span style=display:flex><span>    11db:       b8 00 00 00 00          mo
</span></span><span style=display:flex><span>v    $0x0,%eax
</span></span><span style=display:flex><span>    11e0:       c9                      le
</span></span><span style=display:flex><span>ave
</span></span><span style=display:flex><span>    11e1:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .fini:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000011e4 &lt;_fini&gt;:
</span></span><span style=display:flex><span>    11e4:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    11e8:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    $0x8,%rsp
</span></span><span style=display:flex><span>    11ec:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    $0x8,%rsp
</span></span><span style=display:flex><span>    11f0:       c3                      re
</span></span><span style=display:flex><span>t
</span></span></code></pre></div><h5 id=intel-风格汇编>Intel 风格汇编</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d -M intel test_O0
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>est_O0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .init:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001000 &lt;_init&gt;:
</span></span><span style=display:flex><span>    1000:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1004:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    rsp,0x8
</span></span><span style=display:flex><span>    1008:       48 8b 05 e1 2f 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2fe1]        # 3
</span></span><span style=display:flex><span>ff0 &lt;__gmon_start__@Base&gt;
</span></span><span style=display:flex><span>    100f:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    1012:       74 02                   je
</span></span><span style=display:flex><span>     1016 &lt;_init+0x16&gt;
</span></span><span style=display:flex><span>    1014:       ff d0                   ca
</span></span><span style=display:flex><span>ll   rax
</span></span><span style=display:flex><span>    1016:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    rsp,0x8
</span></span><span style=display:flex><span>    101a:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001020 &lt;.plt&gt;:
</span></span><span style=display:flex><span>    1020:       ff 35 8a 2f 00 00       pu
</span></span><span style=display:flex><span>sh   QWORD PTR [rip+0x2f8a]        # 3fb0 
</span></span><span style=display:flex><span>&lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;
</span></span><span style=display:flex><span>    1026:       ff 25 8c 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f8c]        # 3fb8 
</span></span><span style=display:flex><span>&lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;
</span></span><span style=display:flex><span>    102c:       0f 1f 40 00             no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>    1030:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1034:       68 00 00 00 00          pu
</span></span><span style=display:flex><span>sh   0x0
</span></span><span style=display:flex><span>    1039:       e9 e2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    103e:       66 90                   xc
</span></span><span style=display:flex><span>hg   ax,ax
</span></span><span style=display:flex><span>    1040:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1044:       68 01 00 00 00          pu
</span></span><span style=display:flex><span>sh   0x1
</span></span><span style=display:flex><span>    1049:       e9 d2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    104e:       66 90                   xc
</span></span><span style=display:flex><span>hg   ax,ax
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.got:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001050 &lt;__cxa_finalize@plt&gt;:
</span></span><span style=display:flex><span>    1050:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1054:       ff 25 76 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f76]        # 3fd0 
</span></span><span style=display:flex><span>&lt;__cxa_finalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    105a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.sec:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001060 &lt;_ZNSolsEPFRSoS_E@plt&gt;:
</span></span><span style=display:flex><span>    1060:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1064:       ff 25 56 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f56]        # 3fc0 
</span></span><span style=display:flex><span>&lt;_ZNSolsEPFRSoS_E@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    106a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001070 &lt;_ZNSolsEi@plt&gt;:
</span></span><span style=display:flex><span>    1070:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1074:       ff 25 4e 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f4e]        # 3fc8 
</span></span><span style=display:flex><span>&lt;_ZNSolsEi@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    107a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .text:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001080 &lt;_start&gt;:
</span></span><span style=display:flex><span>    1080:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1084:       31 ed                   xo
</span></span><span style=display:flex><span>r    ebp,ebp
</span></span><span style=display:flex><span>    1086:       49 89 d1                mo
</span></span><span style=display:flex><span>v    r9,rdx
</span></span><span style=display:flex><span>    1089:       5e                      po
</span></span><span style=display:flex><span>p    rsi
</span></span><span style=display:flex><span>    108a:       48 89 e2                mo
</span></span><span style=display:flex><span>v    rdx,rsp
</span></span><span style=display:flex><span>    108d:       48 83 e4 f0             an
</span></span><span style=display:flex><span>d    rsp,0xfffffffffffffff0
</span></span><span style=display:flex><span>    1091:       50                      pu
</span></span><span style=display:flex><span>sh   rax
</span></span><span style=display:flex><span>    1092:       54                      pu
</span></span><span style=display:flex><span>sh   rsp
</span></span><span style=display:flex><span>    1093:       45 31 c0                xo
</span></span><span style=display:flex><span>r    r8d,r8d
</span></span><span style=display:flex><span>    1096:       31 c9                   xo
</span></span><span style=display:flex><span>r    ecx,ecx
</span></span><span style=display:flex><span>    1098:       48 8d 3d ea 00 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0xea]        # 1189 &lt;main&gt;
</span></span><span style=display:flex><span>    109f:       ff 15 3b 2f 00 00       ca
</span></span><span style=display:flex><span>ll   QWORD PTR [rip+0x2f3b]        # 3fe0 
</span></span><span style=display:flex><span>&lt;__libc_start_main@GLIBC_2.34&gt;
</span></span><span style=display:flex><span>    10a5:       f4                      hl
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10a6:       66 2e 0f 1f 84 00 00    cs
</span></span><span style=display:flex><span> nop WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>    10ad:       00 00 00 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010b0 &lt;deregister_tm_clones&gt;:
</span></span><span style=display:flex><span>    10b0:       48 8d 3d 61 2f 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0x2f61]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10b7:       48 8d 05 5a 2f 00 00    le
</span></span><span style=display:flex><span>a    rax,[rip+0x2f5a]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10be:       48 39 f8                cm
</span></span><span style=display:flex><span>p    rax,rdi
</span></span><span style=display:flex><span>    10c1:       74 15                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10c3:       48 8b 05 1e 2f 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2f1e]        # 3
</span></span><span style=display:flex><span>fe8 &lt;_ITM_deregisterTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    10ca:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    10cd:       74 09                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10cf:       ff e0                   jm
</span></span><span style=display:flex><span>p    rax
</span></span><span style=display:flex><span>    10d1:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>    10d8:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10d9:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010e0 &lt;register_tm_clones&gt;:
</span></span><span style=display:flex><span>    10e0:       48 8d 3d 31 2f 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0x2f31]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10e7:       48 8d 35 2a 2f 00 00    le
</span></span><span style=display:flex><span>a    rsi,[rip+0x2f2a]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10ee:       48 29 fe                su
</span></span><span style=display:flex><span>b    rsi,rdi
</span></span><span style=display:flex><span>    10f1:       48 89 f0                mo
</span></span><span style=display:flex><span>v    rax,rsi
</span></span><span style=display:flex><span>    10f4:       48 c1 ee 3f             sh
</span></span><span style=display:flex><span>r    rsi,0x3f
</span></span><span style=display:flex><span>    10f8:       48 c1 f8 03             sa
</span></span><span style=display:flex><span>r    rax,0x3
</span></span><span style=display:flex><span>    10fc:       48 01 c6                ad
</span></span><span style=display:flex><span>d    rsi,rax
</span></span><span style=display:flex><span>    10ff:       48 d1 fe                sa
</span></span><span style=display:flex><span>r    rsi,1
</span></span><span style=display:flex><span>    1102:       74 14                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1104:       48 8b 05 ed 2e 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2eed]        # 3
</span></span><span style=display:flex><span>ff8 &lt;_ITM_registerTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    110b:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    110e:       74 08                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1110:       ff e0                   jm
</span></span><span style=display:flex><span>p    rax
</span></span><span style=display:flex><span>    1112:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>    1118:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1119:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001120 &lt;__do_global_dtors_aux&gt;:
</span></span><span style=display:flex><span>    1120:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1124:       80 3d 25 30 00 00 00    cm
</span></span><span style=display:flex><span>p    BYTE PTR [rip+0x3025],0x0        # 41
</span></span><span style=display:flex><span>50 &lt;completed.0&gt;
</span></span><span style=display:flex><span>    112b:       75 2b                   jn
</span></span><span style=display:flex><span>e    1158 &lt;__do_global_dtors_aux+0x38&gt;
</span></span><span style=display:flex><span>    112d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    112e:       48 83 3d 9a 2e 00 00    cm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2e9a],0x0        # 3
</span></span><span style=display:flex><span>fd0 &lt;__cxa_finalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    1135:       00 
</span></span><span style=display:flex><span>    1136:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1139:       74 0c                   je
</span></span><span style=display:flex><span>     1147 &lt;__do_global_dtors_aux+0x27&gt;
</span></span><span style=display:flex><span>    113b:       48 8b 3d c6 2e 00 00    mo
</span></span><span style=display:flex><span>v    rdi,QWORD PTR [rip+0x2ec6]        # 4
</span></span><span style=display:flex><span>008 &lt;__dso_handle&gt;
</span></span><span style=display:flex><span>    1142:       e8 09 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1050 &lt;__cxa_finalize@plt&gt;
</span></span><span style=display:flex><span>    1147:       e8 64 ff ff ff          ca
</span></span><span style=display:flex><span>ll   10b0 &lt;deregister_tm_clones&gt;
</span></span><span style=display:flex><span>    114c:       c6 05 fd 2f 00 00 01    mo
</span></span><span style=display:flex><span>v    BYTE PTR [rip+0x2ffd],0x1        # 41
</span></span><span style=display:flex><span>50 &lt;completed.0&gt;
</span></span><span style=display:flex><span>    1153:       5d                      po
</span></span><span style=display:flex><span>p    rbp
</span></span><span style=display:flex><span>    1154:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1155:       0f 1f 00                no
</span></span><span style=display:flex><span>p    DWORD PTR [rax]
</span></span><span style=display:flex><span>    1158:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1159:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001160 &lt;frame_dummy&gt;:
</span></span><span style=display:flex><span>    1160:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1164:       e9 77 ff ff ff          jm
</span></span><span style=display:flex><span>p    10e0 &lt;register_tm_clones&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001169 &lt;_Z3Addii&gt;:
</span></span><span style=display:flex><span>    1169:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    116d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    116e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1171:       89 7d fc                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x4],edi
</span></span><span style=display:flex><span>    1174:       89 75 f8                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x8],esi
</span></span><span style=display:flex><span>    1177:       8b 55 fc                mo
</span></span><span style=display:flex><span>v    edx,DWORD PTR [rbp-0x4]
</span></span><span style=display:flex><span>    117a:       8b 45 f8                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0x8]
</span></span><span style=display:flex><span>    117d:       01 c2                   ad
</span></span><span style=display:flex><span>d    edx,eax
</span></span><span style=display:flex><span>    117f:       8b 05 8b 2e 00 00       mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rip+0x2e8b]        # 4
</span></span><span style=display:flex><span>010 &lt;g_value&gt;
</span></span><span style=display:flex><span>    1185:       01 d0                   ad
</span></span><span style=display:flex><span>d    eax,edx
</span></span><span style=display:flex><span>    1187:       5d                      po
</span></span><span style=display:flex><span>p    rbp
</span></span><span style=display:flex><span>    1188:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001189 &lt;main&gt;:
</span></span><span style=display:flex><span>    1189:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    118d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    118e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1191:       48 83 ec 10             su
</span></span><span style=display:flex><span>b    rsp,0x10
</span></span><span style=display:flex><span>    1195:       c7 45 f4 03 00 00 00    mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0xc],0x3
</span></span><span style=display:flex><span>    119c:       c7 45 f8 04 00 00 00    mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x8],0x4
</span></span><span style=display:flex><span>    11a3:       8b 55 f8                mo
</span></span><span style=display:flex><span>v    edx,DWORD PTR [rbp-0x8]
</span></span><span style=display:flex><span>    11a6:       8b 45 f4                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0xc]
</span></span><span style=display:flex><span>    11a9:       89 d6                   mo
</span></span><span style=display:flex><span>v    esi,edx
</span></span><span style=display:flex><span>    11ab:       89 c7                   mo
</span></span><span style=display:flex><span>v    edi,eax
</span></span><span style=display:flex><span>    11ad:       e8 b7 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1169 &lt;_Z3Addii&gt;
</span></span><span style=display:flex><span>    11b2:       89 45 fc                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x4],eax
</span></span><span style=display:flex><span>    11b5:       8b 45 fc                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0x4]
</span></span><span style=display:flex><span>    11b8:       89 c6                   mo
</span></span><span style=display:flex><span>v    esi,eax
</span></span><span style=display:flex><span>    11ba:       48 8d 05 7f 2e 00 00    le
</span></span><span style=display:flex><span>a    rax,[rip+0x2e7f]        # 4040 &lt;_ZSt4
</span></span><span style=display:flex><span>cout@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11c1:       48 89 c7                mo
</span></span><span style=display:flex><span>v    rdi,rax
</span></span><span style=display:flex><span>    11c4:       e8 a7 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1070 &lt;_ZNSolsEi@plt&gt;
</span></span><span style=display:flex><span>    11c9:       48 8b 15 08 2e 00 00    mo
</span></span><span style=display:flex><span>v    rdx,QWORD PTR [rip+0x2e08]        # 3
</span></span><span style=display:flex><span>fd8 &lt;_ZSt4endlIcSt11char_traitsIcEERSt13ba
</span></span><span style=display:flex><span>sic_ostreamIT_T0_ES6_@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11d0:       48 89 d6                mo
</span></span><span style=display:flex><span>v    rsi,rdx
</span></span><span style=display:flex><span>    11d3:       48 89 c7                mo
</span></span><span style=display:flex><span>v    rdi,rax
</span></span><span style=display:flex><span>    11d6:       e8 85 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1060 &lt;_ZNSolsEPFRSoS_E@plt&gt;
</span></span><span style=display:flex><span>    11db:       b8 00 00 00 00          mo
</span></span><span style=display:flex><span>v    eax,0x0
</span></span><span style=display:flex><span>    11e0:       c9                      le
</span></span><span style=display:flex><span>ave
</span></span><span style=display:flex><span>    11e1:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .fini:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000011e4 &lt;_fini&gt;:
</span></span><span style=display:flex><span>    11e4:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    11e8:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    rsp,0x8
</span></span><span style=display:flex><span>    11ec:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    rsp,0x8
</span></span><span style=display:flex><span>    11f0:       c3                      re
</span></span><span style=display:flex><span>t
</span></span></code></pre></div><h4 id=反汇编--源码对照>反汇编 + 源码对照</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -S -M intel test_O0
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>est_O0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .init:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001000 &lt;_init&gt;:
</span></span><span style=display:flex><span>    1000:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1004:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    rsp,0x8
</span></span><span style=display:flex><span>    1008:       48 8b 05 e1 2f 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2fe1]        # 3
</span></span><span style=display:flex><span>ff0 &lt;__gmon_start__@Base&gt;
</span></span><span style=display:flex><span>    100f:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    1012:       74 02                   je
</span></span><span style=display:flex><span>     1016 &lt;_init+0x16&gt;
</span></span><span style=display:flex><span>    1014:       ff d0                   ca
</span></span><span style=display:flex><span>ll   rax
</span></span><span style=display:flex><span>    1016:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    rsp,0x8
</span></span><span style=display:flex><span>    101a:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001020 &lt;.plt&gt;:
</span></span><span style=display:flex><span>    1020:       ff 35 8a 2f 00 00       pu
</span></span><span style=display:flex><span>sh   QWORD PTR [rip+0x2f8a]        # 3fb0 
</span></span><span style=display:flex><span>&lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;
</span></span><span style=display:flex><span>    1026:       ff 25 8c 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f8c]        # 3fb8 
</span></span><span style=display:flex><span>&lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;
</span></span><span style=display:flex><span>    102c:       0f 1f 40 00             no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>    1030:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1034:       68 00 00 00 00          pu
</span></span><span style=display:flex><span>sh   0x0
</span></span><span style=display:flex><span>    1039:       e9 e2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    103e:       66 90                   xc
</span></span><span style=display:flex><span>hg   ax,ax
</span></span><span style=display:flex><span>    1040:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1044:       68 01 00 00 00          pu
</span></span><span style=display:flex><span>sh   0x1
</span></span><span style=display:flex><span>    1049:       e9 d2 ff ff ff          jm
</span></span><span style=display:flex><span>p    1020 &lt;_init+0x20&gt;
</span></span><span style=display:flex><span>    104e:       66 90                   xc
</span></span><span style=display:flex><span>hg   ax,ax
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.got:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001050 &lt;__cxa_finalize@plt&gt;:
</span></span><span style=display:flex><span>    1050:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1054:       ff 25 76 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f76]        # 3fd0 
</span></span><span style=display:flex><span>&lt;__cxa_finalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    105a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.sec:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001060 &lt;_ZNSolsEPFRSoS_E@plt&gt;:
</span></span><span style=display:flex><span>    1060:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1064:       ff 25 56 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f56]        # 3fc0 
</span></span><span style=display:flex><span>&lt;_ZNSolsEPFRSoS_E@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    106a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001070 &lt;_ZNSolsEi@plt&gt;:
</span></span><span style=display:flex><span>    1070:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1074:       ff 25 4e 2f 00 00       jm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2f4e]        # 3fc8 
</span></span><span style=display:flex><span>&lt;_ZNSolsEi@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    107a:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .text:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001080 &lt;_start&gt;:
</span></span><span style=display:flex><span>    1080:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1084:       31 ed                   xo
</span></span><span style=display:flex><span>r    ebp,ebp
</span></span><span style=display:flex><span>    1086:       49 89 d1                mo
</span></span><span style=display:flex><span>v    r9,rdx
</span></span><span style=display:flex><span>    1089:       5e                      po
</span></span><span style=display:flex><span>p    rsi
</span></span><span style=display:flex><span>    108a:       48 89 e2                mo
</span></span><span style=display:flex><span>v    rdx,rsp
</span></span><span style=display:flex><span>    108d:       48 83 e4 f0             an
</span></span><span style=display:flex><span>d    rsp,0xfffffffffffffff0
</span></span><span style=display:flex><span>    1091:       50                      pu
</span></span><span style=display:flex><span>sh   rax
</span></span><span style=display:flex><span>    1092:       54                      pu
</span></span><span style=display:flex><span>sh   rsp
</span></span><span style=display:flex><span>    1093:       45 31 c0                xo
</span></span><span style=display:flex><span>r    r8d,r8d
</span></span><span style=display:flex><span>    1096:       31 c9                   xo
</span></span><span style=display:flex><span>r    ecx,ecx
</span></span><span style=display:flex><span>    1098:       48 8d 3d ea 00 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0xea]        # 1189 &lt;main&gt;
</span></span><span style=display:flex><span>    109f:       ff 15 3b 2f 00 00       ca
</span></span><span style=display:flex><span>ll   QWORD PTR [rip+0x2f3b]        # 3fe0 
</span></span><span style=display:flex><span>&lt;__libc_start_main@GLIBC_2.34&gt;
</span></span><span style=display:flex><span>    10a5:       f4                      hl
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10a6:       66 2e 0f 1f 84 00 00    cs
</span></span><span style=display:flex><span> nop WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>    10ad:       00 00 00 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010b0 &lt;deregister_tm_clones&gt;:
</span></span><span style=display:flex><span>    10b0:       48 8d 3d 61 2f 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0x2f61]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10b7:       48 8d 05 5a 2f 00 00    le
</span></span><span style=display:flex><span>a    rax,[rip+0x2f5a]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10be:       48 39 f8                cm
</span></span><span style=display:flex><span>p    rax,rdi
</span></span><span style=display:flex><span>    10c1:       74 15                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10c3:       48 8b 05 1e 2f 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2f1e]        # 3
</span></span><span style=display:flex><span>fe8 &lt;_ITM_deregisterTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    10ca:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    10cd:       74 09                   je
</span></span><span style=display:flex><span>     10d8 &lt;deregister_tm_clones+0x28&gt;
</span></span><span style=display:flex><span>    10cf:       ff e0                   jm
</span></span><span style=display:flex><span>p    rax
</span></span><span style=display:flex><span>    10d1:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>    10d8:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    10d9:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000010e0 &lt;register_tm_clones&gt;:
</span></span><span style=display:flex><span>    10e0:       48 8d 3d 31 2f 00 00    le
</span></span><span style=display:flex><span>a    rdi,[rip+0x2f31]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10e7:       48 8d 35 2a 2f 00 00    le
</span></span><span style=display:flex><span>a    rsi,[rip+0x2f2a]        # 4018 &lt;__TMC
</span></span><span style=display:flex><span>_END__&gt;
</span></span><span style=display:flex><span>    10ee:       48 29 fe                su
</span></span><span style=display:flex><span>b    rsi,rdi
</span></span><span style=display:flex><span>    10f1:       48 89 f0                mo
</span></span><span style=display:flex><span>v    rax,rsi
</span></span><span style=display:flex><span>    10f4:       48 c1 ee 3f             sh
</span></span><span style=display:flex><span>r    rsi,0x3f
</span></span><span style=display:flex><span>    10f8:       48 c1 f8 03             sa
</span></span><span style=display:flex><span>r    rax,0x3
</span></span><span style=display:flex><span>    10fc:       48 01 c6                ad
</span></span><span style=display:flex><span>d    rsi,rax
</span></span><span style=display:flex><span>    10ff:       48 d1 fe                sa
</span></span><span style=display:flex><span>r    rsi,1
</span></span><span style=display:flex><span>    1102:       74 14                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1104:       48 8b 05 ed 2e 00 00    mo
</span></span><span style=display:flex><span>v    rax,QWORD PTR [rip+0x2eed]        # 3
</span></span><span style=display:flex><span>ff8 &lt;_ITM_registerTMCloneTable@Base&gt;
</span></span><span style=display:flex><span>    110b:       48 85 c0                te
</span></span><span style=display:flex><span>st   rax,rax
</span></span><span style=display:flex><span>    110e:       74 08                   je
</span></span><span style=display:flex><span>     1118 &lt;register_tm_clones+0x38&gt;
</span></span><span style=display:flex><span>    1110:       ff e0                   jm
</span></span><span style=display:flex><span>p    rax
</span></span><span style=display:flex><span>    1112:       66 0f 1f 44 00 00       no
</span></span><span style=display:flex><span>p    WORD PTR [rax+rax*1+0x0]
</span></span><span style=display:flex><span>    1118:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1119:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001120 &lt;__do_global_dtors_aux&gt;:
</span></span><span style=display:flex><span>    1120:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1124:       80 3d 25 30 00 00 00    cm
</span></span><span style=display:flex><span>p    BYTE PTR [rip+0x3025],0x0        # 41
</span></span><span style=display:flex><span>50 &lt;completed.0&gt;
</span></span><span style=display:flex><span>    112b:       75 2b                   jn
</span></span><span style=display:flex><span>e    1158 &lt;__do_global_dtors_aux+0x38&gt;
</span></span><span style=display:flex><span>    112d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    112e:       48 83 3d 9a 2e 00 00    cm
</span></span><span style=display:flex><span>p    QWORD PTR [rip+0x2e9a],0x0        # 3
</span></span><span style=display:flex><span>fd0 &lt;__cxa_finalize@GLIBC_2.2.5&gt;
</span></span><span style=display:flex><span>    1135:       00 
</span></span><span style=display:flex><span>    1136:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1139:       74 0c                   je
</span></span><span style=display:flex><span>     1147 &lt;__do_global_dtors_aux+0x27&gt;
</span></span><span style=display:flex><span>    113b:       48 8b 3d c6 2e 00 00    mo
</span></span><span style=display:flex><span>v    rdi,QWORD PTR [rip+0x2ec6]        # 4
</span></span><span style=display:flex><span>008 &lt;__dso_handle&gt;
</span></span><span style=display:flex><span>    1142:       e8 09 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1050 &lt;__cxa_finalize@plt&gt;
</span></span><span style=display:flex><span>    1147:       e8 64 ff ff ff          ca
</span></span><span style=display:flex><span>ll   10b0 &lt;deregister_tm_clones&gt;
</span></span><span style=display:flex><span>    114c:       c6 05 fd 2f 00 00 01    mo
</span></span><span style=display:flex><span>v    BYTE PTR [rip+0x2ffd],0x1        # 41
</span></span><span style=display:flex><span>50 &lt;completed.0&gt;
</span></span><span style=display:flex><span>    1153:       5d                      po
</span></span><span style=display:flex><span>p    rbp
</span></span><span style=display:flex><span>    1154:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1155:       0f 1f 00                no
</span></span><span style=display:flex><span>p    DWORD PTR [rax]
</span></span><span style=display:flex><span>    1158:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>    1159:       0f 1f 80 00 00 00 00    no
</span></span><span style=display:flex><span>p    DWORD PTR [rax+0x0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001160 &lt;frame_dummy&gt;:
</span></span><span style=display:flex><span>    1160:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1164:       e9 77 ff ff ff          jm
</span></span><span style=display:flex><span>p    10e0 &lt;register_tm_clones&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001169 &lt;_Z3Addii&gt;:
</span></span><span style=display:flex><span># include &lt;iostream&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>int g_value = 10;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>__attribute__((noinline))
</span></span><span style=display:flex><span>    int Add(int a, int b) {
</span></span><span style=display:flex><span>    1169:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    116d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    116e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1171:       89 7d fc                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x4],edi
</span></span><span style=display:flex><span>    1174:       89 75 f8                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x8],esi
</span></span><span style=display:flex><span>        return a + b + g_value;
</span></span><span style=display:flex><span>    1177:       8b 55 fc                mo
</span></span><span style=display:flex><span>v    edx,DWORD PTR [rbp-0x4]
</span></span><span style=display:flex><span>    117a:       8b 45 f8                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0x8]
</span></span><span style=display:flex><span>    117d:       01 c2                   ad
</span></span><span style=display:flex><span>d    edx,eax
</span></span><span style=display:flex><span>    117f:       8b 05 8b 2e 00 00       mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rip+0x2e8b]        # 4
</span></span><span style=display:flex><span>010 &lt;g_value&gt;
</span></span><span style=display:flex><span>    1185:       01 d0                   ad
</span></span><span style=display:flex><span>d    eax,edx
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    1187:       5d                      po
</span></span><span style=display:flex><span>p    rbp
</span></span><span style=display:flex><span>    1188:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001189 &lt;main&gt;:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>int main() {
</span></span><span style=display:flex><span>    1189:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    118d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    118e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1191:       48 83 ec 10             su
</span></span><span style=display:flex><span>b    rsp,0x10
</span></span><span style=display:flex><span>    int x = 3;
</span></span><span style=display:flex><span>    1195:       c7 45 f4 03 00 00 00    mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0xc],0x3
</span></span><span style=display:flex><span>    int y = 4;
</span></span><span style=display:flex><span>    119c:       c7 45 f8 04 00 00 00    mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x8],0x4
</span></span><span style=display:flex><span>    int z = Add(x, y);
</span></span><span style=display:flex><span>    11a3:       8b 55 f8                mo
</span></span><span style=display:flex><span>v    edx,DWORD PTR [rbp-0x8]
</span></span><span style=display:flex><span>    11a6:       8b 45 f4                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0xc]
</span></span><span style=display:flex><span>    11a9:       89 d6                   mo
</span></span><span style=display:flex><span>v    esi,edx
</span></span><span style=display:flex><span>    11ab:       89 c7                   mo
</span></span><span style=display:flex><span>v    edi,eax
</span></span><span style=display:flex><span>    11ad:       e8 b7 ff ff ff          ca
</span></span><span style=display:flex><span>ll   1169 &lt;_Z3Addii&gt;
</span></span><span style=display:flex><span>    11b2:       89 45 fc                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x4],eax
</span></span><span style=display:flex><span>    std::cout &lt;&lt; z &lt;&lt; std::endl;
</span></span><span style=display:flex><span>    11b5:       8b 45 fc                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0x4]
</span></span><span style=display:flex><span>    11b8:       89 c6                   mo
</span></span><span style=display:flex><span>v    esi,eax
</span></span><span style=display:flex><span>    11ba:       48 8d 05 7f 2e 00 00    le
</span></span><span style=display:flex><span>a    rax,[rip+0x2e7f]        # 4040 &lt;_ZSt4
</span></span><span style=display:flex><span>cout@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11c1:       48 89 c7                mo
</span></span><span style=display:flex><span>v    rdi,rax
</span></span><span style=display:flex><span>    11c4:       e8 a7 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1070 &lt;_ZNSolsEi@plt&gt;
</span></span><span style=display:flex><span>    11c9:       48 8b 15 08 2e 00 00    mo
</span></span><span style=display:flex><span>v    rdx,QWORD PTR [rip+0x2e08]        # 3
</span></span><span style=display:flex><span>fd8 &lt;_ZSt4endlIcSt11char_traitsIcEERSt13ba
</span></span><span style=display:flex><span>sic_ostreamIT_T0_ES6_@GLIBCXX_3.4&gt;
</span></span><span style=display:flex><span>    11d0:       48 89 d6                mo
</span></span><span style=display:flex><span>v    rsi,rdx
</span></span><span style=display:flex><span>    11d3:       48 89 c7                mo
</span></span><span style=display:flex><span>v    rdi,rax
</span></span><span style=display:flex><span>    11d6:       e8 85 fe ff ff          ca
</span></span><span style=display:flex><span>ll   1060 &lt;_ZNSolsEPFRSoS_E@plt&gt;
</span></span><span style=display:flex><span>    return 0;
</span></span><span style=display:flex><span>    11db:       b8 00 00 00 00          mo
</span></span><span style=display:flex><span>v    eax,0x0
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>    11e0:       c9                      le
</span></span><span style=display:flex><span>ave
</span></span><span style=display:flex><span>    11e1:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .fini:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>00000000000011e4 &lt;_fini&gt;:
</span></span><span style=display:flex><span>    11e4:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    11e8:       48 83 ec 08             su
</span></span><span style=display:flex><span>b    rsp,0x8
</span></span><span style=display:flex><span>    11ec:       48 83 c4 08             ad
</span></span><span style=display:flex><span>d    rsp,0x8
</span></span><span style=display:flex><span>    11f0:       c3                      re
</span></span><span style=display:flex><span>t
</span></span></code></pre></div><h4 id=优化对比>优化对比</h4><p>test_O0的Add</p><h5 id=方法1推荐>方法1（推荐）</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d -M intel --disassemble<span style=color:#f92672>=</span>_Z3Addii test_O0
</span></span></code></pre></div><ul><li><code>_Z3Addii</code> Add的真实名称</li></ul><h5 id=方法2>方法2</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d -M intel test_O0 | grep -A20 <span style=color:#e6db74>&#34;&lt;Add&gt;&#34;</span>
</span></span></code></pre></div><ul><li><code>-A20</code>：多显示20行，函数过长可能截断</li></ul><h5 id=方法3>方法3</h5><p>先查函数地址</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -t test_O0 | grep <span style=color:#e6db74>&#34; Add</span>$<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>指定起止地址反汇编</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d -M intel <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --start-address<span style=color:#f92672>=</span>0x1149 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --stop-address<span style=color:#f92672>=</span>0x115e <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  test_O0
</span></span></code></pre></div><p>结果</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>test_O0:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .init:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.got:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.sec:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .text:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001169 &lt;_Z3Addii&gt;:
</span></span><span style=display:flex><span>    1169:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    116d:       55                      pu
</span></span><span style=display:flex><span>sh   rbp
</span></span><span style=display:flex><span>    116e:       48 89 e5                mo
</span></span><span style=display:flex><span>v    rbp,rsp
</span></span><span style=display:flex><span>    1171:       89 7d fc                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x4],edi
</span></span><span style=display:flex><span>    1174:       89 75 f8                mo
</span></span><span style=display:flex><span>v    DWORD PTR [rbp-0x8],esi
</span></span><span style=display:flex><span>    1177:       8b 55 fc                mo
</span></span><span style=display:flex><span>v    edx,DWORD PTR [rbp-0x4]
</span></span><span style=display:flex><span>    117a:       8b 45 f8                mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rbp-0x8]
</span></span><span style=display:flex><span>    117d:       01 c2                   ad
</span></span><span style=display:flex><span>d    edx,eax
</span></span><span style=display:flex><span>    117f:       8b 05 8b 2e 00 00       mo
</span></span><span style=display:flex><span>v    eax,DWORD PTR [rip+0x2e8b]        # 4
</span></span><span style=display:flex><span>010 &lt;g_value&gt;
</span></span><span style=display:flex><span>    1185:       01 d0                   ad
</span></span><span style=display:flex><span>d    eax,edx
</span></span><span style=display:flex><span>    1187:       5d                      po
</span></span><span style=display:flex><span>p    rbp
</span></span><span style=display:flex><span>    1188:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .fini:
</span></span></code></pre></div><p>查看test_O2的Add</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>test_O2:     file format elf64-x86-64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .init:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.got:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .plt.sec:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .text:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0000000000001270 &lt;_Z3Addii&gt;:
</span></span><span style=display:flex><span>    1270:       f3 0f 1e fa             en
</span></span><span style=display:flex><span>dbr64
</span></span><span style=display:flex><span>    1274:       8d 04 37                le
</span></span><span style=display:flex><span>a    eax,[rdi+rsi*1]
</span></span><span style=display:flex><span>    1277:       03 05 93 2d 00 00       ad
</span></span><span style=display:flex><span>d    eax,DWORD PTR [rip+0x2d93]        # 4
</span></span><span style=display:flex><span>010 &lt;g_value&gt;
</span></span><span style=display:flex><span>    127d:       c3                      re
</span></span><span style=display:flex><span>t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disassembly of section .fini:
</span></span></code></pre></div><h5 id=对比>对比</h5><table><thead><tr><th>对比点</th><th><code>-O0</code></th><th><code>-O2</code></th></tr></thead><tbody><tr><td>栈帧</td><td><strong>完整建立 / 销毁</strong></td><td><strong>完全消失</strong></td></tr><tr><td>参数</td><td>存栈再取</td><td><strong>直接用寄存器</strong></td></tr><tr><td>中间变量</td><td>全部落内存</td><td><strong>寄存器直算</strong></td></tr><tr><td>指令数</td><td>多</td><td><strong>极少（接近极限）</strong></td></tr><tr><td>可调试性</td><td>极好</td><td>很差</td></tr><tr><td>执行效率</td><td>低</td><td><strong>高</strong></td></tr></tbody></table><ul><li><code>O0</code>是“给人看的代码”</li><li><code>O2</code>是“给CPU吃的代码”</li></ul><h6 id=两者的共同点>两者的共同点</h6><p><code>endbr64</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>f3</span> <span style=color:#ae81ff>0</span><span style=color:#66d9ef>f</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>e</span> <span style=color:#66d9ef>fa</span> <span style=color:#66d9ef>endbr64</span>
</span></span></code></pre></div><ul><li>这是CET/IBT(Control-flow Enforcement Technology)</li><li>用来防ROP/JOP</li><li>和优化级别无关</li><li>GCC/Clang默认在支持的平台上会加</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>Add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b <span style=color:#f92672>+</span> g_value;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h6 id=-o0><code>-O0</code></h6><p>1.建立标准栈</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>push</span> <span style=color:#66d9ef>rbp</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>rbp</span>, <span style=color:#66d9ef>rsp</span>
</span></span></code></pre></div><p>强制生成栈，方便debugger,即使不需要，也要建</p><p>2.参数强制落栈</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rbp-0x4</span>], <span style=color:#66d9ef>edi</span>  <span style=color:#75715e>; a
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rbp-0x8</span>], <span style=color:#66d9ef>esi</span>  <span style=color:#75715e>; b
</span></span></span></code></pre></div><p>即使参数已经在寄存器里，也要写回内存</p><p>3.再从栈里取出来</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>edx</span>, <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rbp-0x4</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>eax</span>, <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rbp-0x8</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>add</span> <span style=color:#66d9ef>edx</span>, <span style=color:#66d9ef>eax</span>
</span></span></code></pre></div><p>这是典型的“O0冗余模式”：写->读->算</p><p>4.访问全局变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>mov</span> <span style=color:#66d9ef>eax</span>, <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rip</span><span style=color:#960050;background-color:#1e0010>+</span><span style=color:#ae81ff>0x2e8b</span>]  <span style=color:#75715e># g_value
</span></span></span></code></pre></div><ul><li>RIP-relative addressing</li><li>PIE友好</li><li>和优化级别关系不大</li></ul><p>5.返回值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>add</span> <span style=color:#66d9ef>eax</span>, <span style=color:#66d9ef>edx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>pop</span> <span style=color:#66d9ef>rbp</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ret</span>
</span></span></code></pre></div><p>O0本质目标：不要聪明，只要可追踪</p><h6 id=o2><code>O2</code></h6><p>1.直接算，不落栈</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>lea</span> <span style=color:#66d9ef>exa</span>, [<span style=color:#66d9ef>rdi</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#66d9ef>rsi</span>*<span style=color:#ae81ff>1</span>]
</span></span></code></pre></div><p>为什么是<code>lea</code></p><ul><li><code>lea</code>不影响flags</li><li>执行快</li><li>本质：<code>exa = a + b</code></li></ul><p>2.再加全局变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>add</span> <span style=color:#66d9ef>exa</span>, <span style=color:#66d9ef>DWORD</span> <span style=color:#66d9ef>PTR</span> [<span style=color:#66d9ef>rip</span><span style=color:#960050;background-color:#1e0010>+</span><span style=color:#ae81ff>0x2d93</span>] <span style=color:#75715e># g_value
</span></span></span></code></pre></div><ul><li>直接memory->register</li><li>没有任何中间变量</li></ul><p>3.直接返回</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-asm data-lang=asm><span style=display:flex><span><span style=color:#a6e22e>ret</span>
</span></span></code></pre></div><h4 id=-j-查看部分><code>-j</code> 查看部分</h4><ul><li>只反汇编<code>.text</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -d -j .text test_O0
</span></span></code></pre></div><ul><li>查看数据段内容（16进制）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>objdump -s -j .data test_O0
</span></span></code></pre></div></div><nav class=post-nav><a href=/unixlike/lib/notes/ class=hover:underline>pre: notes</a>
<a href=/unixlike/lib/objectmodel/ class=hover:underline>next: Object Model</a></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><a href=#objdump>objdump</a><ul><li><a href=#实际应用场景>实际应用场景</a></li><li><a href=#使用>使用</a><ul><li><a href=#主要功能>主要功能</a></li><li><a href=#重要选项>重要选项</a><ul><li><a href=#反汇编控制>反汇编控制</a></li><li><a href=#架构与格式>架构与格式</a></li><li><a href=#显示控制>显示控制</a></li><li><a href=#调试相关>调试相关</a></li><li><a href=#架构特定功能>架构特定功能</a><ul><li><a href=#x86x86_64>x86/x86_64</a></li><li><a href=#arm>ARM</a></li><li><a href=#mips>MIPS</a></li></ul></li></ul></li></ul></li><li><a href=#示例>示例</a><ul><li><a href=#测试程序>测试程序</a></li><li><a href=#编译>编译</a><ul><li><a href=#1-不优化--带调试信息>1. 不优化 + 带调试信息</a></li><li><a href=#2-开启优化>2. 开启优化</a></li></ul></li><li><a href=#查看elf基本结构>查看ELF基本结构</a><ul><li><a href=#分析>分析</a><ul><li><a href=#表头>表头</a></li><li><a href=#节区标志>节区标志</a></li><li><a href=#示例-1>示例</a></li><li><a href=#实际内存映射>实际内存映射</a></li><li><a href=#前后节区关系>前后节区关系</a><ul><li><a href=#前后节区>前后节区</a></li><li><a href=#地址计算>地址计算</a></li></ul></li></ul></li><li><a href=#查看符号表函数--变量>查看符号表（函数 & 变量）</a><ul><li><a href=#解析>解析</a></li></ul></li><li><a href=#反汇编>反汇编</a><ul><li><a href=#默认反汇编att风格>默认反汇编（AT&amp;T风格）</a></li><li><a href=#intel-风格汇编>Intel 风格汇编</a></li></ul></li><li><a href=#反汇编--源码对照>反汇编 + 源码对照</a></li><li><a href=#优化对比>优化对比</a><ul><li><a href=#方法1推荐>方法1（推荐）</a></li><li><a href=#方法2>方法2</a></li><li><a href=#方法3>方法3</a></li><li><a href=#对比>对比</a><ul><li><a href=#两者的共同点>两者的共同点</a></li><li><a href=#-o0><code>-O0</code></a></li><li><a href=#o2><code>O2</code></a></li></ul></li></ul></li><li><a href=#-j-查看部分><code>-j</code> 查看部分</a></li></ul></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
---
title: "Scripts"
layout: single
date: 2025-06-01
categories: [笔记]
tags: [Unity, Unity System]
author: "ljf12825"
---
Unity脚本就是你编写的C#类，它控制游戏中物体的行为、交互、动画、输入、碰撞、UI等逻辑

绝大多数脚本都继承自`MonoBehaviour`类

## C#如何运行这些脚本
- 将脚本挂载某个GameObject上
- Unity引擎自动为这个类创建实例（托管对象）
- Unity每帧调用该实例的生命周期函数

完全由Unity托管

## 脚本和Inspector的关系
可以使用`[SerializeField]`、`public`来让字段在Inspector中显示
```csharp
public float speed = 5f;

[SerializeField]
private GameObject bulletPrefab;
```
然后在Inspector中手动拖拽引用，或者编辑数值，来调整游戏行为

## 脚本间通信（引用其他组件）
```csharp
void Start()
{
    Rigidbody rb = GetComponent<Rigidbody>();
    rb.velocity = Vector3.up * 10;
}
```
也可以访问其他GameObject:
```csharp
public GameObject enemy;

void Update() => enemy.transform.LookAt(transform);
```

## 基类: MonoBehaviour

## Unity生命周期函数（MonoBehaviour）
[生命周期函数示意图](/assets/images/monobehaviour_flowchart.svg)
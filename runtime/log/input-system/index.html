<!doctype html><html lang=en><head><meta name=page-kind content="page"><meta charset=UTF-8><title>Input System</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-lua.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-rust.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/logsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>█</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/runtime/>★</a></li><li><a href=/runtime/lab/>Lab</a></li><li><a href=/runtime/log/>Log</a></li><li><a href=/runtime/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+——————————————————————————————————————————————————————————————+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> ———————————— <a class=nav-item data-path=/home/ href=/home/>Home</a> ————————————— <a class=nav-item data-path=/runtime/ href=/runtime/>Runtime</a>         |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |       <a class=nav-item data-path=/language/ href=/language/>Language</a>                 |
|                        /    |      /                         |
|                       /     |     /                          |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |    /           <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |   /            <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                        <a class=nav-item data-path=/leftbrain/ href=/leftbrain/>LeftBrain</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+——————————————————————————————————————————————————————————————+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a> |
<a href=https://isocpp.org/ target=_blank>isocpp</a> |
<a href=https://open-std.org target=_blank>open-std</a></p><p><a href=https://cmake.com/ target=_blank>cmake.org</a></p><p><a href=https://llvm.org/ target=_blank>llvm.org</a></p><p><a href=https://www.boost.org/ target=_blank>boost.org</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/ target=_blank>lua.org</a> |
<a href=https://www.luarocks.org/ target=_blank>luarocks.org</a> |
<a href=https://www.luajit.org/ target=_blank>luajit.org</a></p><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a></p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a></p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>Input System<div class=meta>Modified: 2025-06-01
| Author：ljf12825</div></div><div class=content><p>Unity目前存在新旧两个输入系统，旧输入系统（Input类）和新输入系统（Input System包）</p><h2 id=unity旧输入系统unityengineinput>Unity旧输入系统（UnityEngine.Input）</h2><p>这是Unity默认内建的输入方式，无配置即可用，使用非常直观，主要通过静态类<code>Input</code>获取各种输入信息</p><ul><li>适合快速开发与小型项目</li><li>不支持热插拔和玩家映射</li><li>键盘/鼠标输入最简单最稳定</li><li>建议仅在不考虑复杂输入要求的项目中使用</li></ul><h3 id=键盘输入>键盘输入</h3><p>基本方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Input.GetKey(KeyCode.X); <span style=color:#6272a4>//判断某键是否按住</span>
</span></span><span style=display:flex><span>Input.GetKeyDown(KeyCode.X); <span style=color:#6272a4>// 是否按下（只触发一帧）</span>
</span></span><span style=display:flex><span>Input.GetKeyUp(KeyCode.X)l <span style=color:#6272a4>// 是否刚抬起</span>
</span></span></code></pre></div><blockquote><p><code>KeyCode</code>是一个枚举，表示各种键盘和鼠标按键</p></blockquote><h3 id=鼠标输入>鼠标输入</h3><p>鼠标按钮</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Input.GetMouseButton(<span style=color:#8be9fd>int</span> button);      <span style=color:#6272a4>// 0左键，1右键，2中键</span>
</span></span><span style=display:flex><span>Input.GetMouseButtonDown(<span style=color:#8be9fd>int</span> button);
</span></span><span style=display:flex><span>Input.GetMouseButtonUp(<span style=color:#8be9fd>int</span> button);
</span></span></code></pre></div><p>鼠标位置和滚轮</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Vector3 mousePos = Input.mousePosition;    <span style=color:#6272a4>// 屏幕坐标</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>float</span> scrollDelta = Input.mouseScrollDelta.y; <span style=color:#6272a4>// 滚轮滑动</span>
</span></span></code></pre></div><h3 id=触摸屏输入touch>触摸屏输入（Touch）</h3><p>移动端专用，支持多点触控</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#8be9fd>int</span> count = Input.touchCount;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>if</span> (count &gt; <span style=color:#bd93f9>0</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    Touch touch = Input.GetTouch(<span style=color:#bd93f9>0</span>);
</span></span><span style=display:flex><span>    Debug.Log(touch.position); <span style=color:#6272a4>// 屏幕坐标</span>
</span></span><span style=display:flex><span>    Debug.Log(touch.phase); <span style=color:#6272a4>// Began, Moved, Stationary, Ended, Cancled</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=虚拟轴input-manager>虚拟轴（Input Manager）</h3><p>通过Unity的<code>Project Setting -> Input Manager</code>设置，可实现跨平台控制<br>它允许你用统一的名字来访问不同平台或设备上的输入<br>通过`Input.GetAxis(&ldquo;Horizontal&rdquo;)获取的是一个“横向控制”的抽象值，不需要关心是按了哪个具体按键或移动了哪个摇杆</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#8be9fd>float</span> h = Input.GetAxis(<span style=color:#f1fa8c>&#34;Horizontal&#34;</span>); <span style=color:#6272a4>// A/D 或 左/右</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>float</span> v = Input.GetAxis(<span style=color:#f1fa8c>&#34;Vertical&#34;</span>); <span style=color:#6272a4>// W/S 或 上/下</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>float</span> raw = Input.GetAxisRaw(<span style=color:#f1fa8c>&#34;Horizontal&#34;</span>); <span style=color:#6272a4>//不经过平滑处理</span>
</span></span></code></pre></div><p>常用默认名称列表</p><table><thead><tr><th>名称</th><th>类型</th><th>默认映射键</th><th>描述</th></tr></thead><tbody><tr><td><code>Horizontal</code></td><td>轴</td><td>A/D 键、←/→键、手柄左摇杆</td><td>左右移动轴，范围 -1 到 1</td></tr><tr><td><code>Vertical</code></td><td>轴</td><td>W/S 键、↑/↓键、手柄左摇杆</td><td>上下移动轴，范围 -1 到 1</td></tr><tr><td><code>Fire1</code></td><td>按钮</td><td>Ctrl、鼠标左键、手柄 A 键</td><td>攻击、射击等</td></tr><tr><td><code>Fire2</code></td><td>按钮</td><td>Alt、鼠标右键、手柄 B 键</td><td>次要攻击、取消</td></tr><tr><td><code>Fire3</code></td><td>按钮</td><td>Shift、鼠标中键、手柄 X 键</td><td>冲刺或特殊技能</td></tr><tr><td><code>Jump</code></td><td>按钮</td><td>空格键、手柄 Y 键</td><td>跳跃</td></tr><tr><td><code>Mouse X</code></td><td>轴</td><td>鼠标横向移动</td><td>相机/视角横向旋转</td></tr><tr><td><code>Mouse Y</code></td><td>轴</td><td>鼠标纵向移动</td><td>相机/视角纵向旋转</td></tr><tr><td><code>Mouse ScrollWheel</code></td><td>轴</td><td>鼠标滚轮上下滚动</td><td>放大缩小、切换武器等</td></tr><tr><td><code>Submit</code></td><td>按钮</td><td>Enter、手柄 A 键</td><td>UI确认</td></tr><tr><td><code>Cancel</code></td><td>按钮</td><td>Escape、手柄 B 键</td><td>UI取消</td></tr></tbody></table><h3 id=手柄支持旧系统的有限支持>手柄支持（旧系统的有限支持）</h3><p>手柄也通过虚拟轴或<code>KeyCode.JoystickButton0</code>等访问，但：</p><ul><li>设备不通用，配置复杂</li><li>不支持手柄热插拔</li><li>不支持多个玩家分开处理</li></ul><h2 id=unity新输入系统input-system-package>Unity新输入系统（Input System Package）</h2><p>Unity为了解决旧系统的局限，引入了新输入系统，是一个模块化、可配置、支持多设备的专业输入方案</p><h3 id=核心概念>核心概念</h3><p><strong>Input System</strong>包
你需要在Unity的Package Manager中安装<code>Input System</code>包</p><p><strong>与旧系统的对比</strong></p><table><thead><tr><th>对比项</th><th>旧系统（Input Manager）</th><th>新系统（Input System）</th></tr></thead><tbody><tr><td>支持设备</td><td>键鼠、手柄（有限）</td><td>键鼠、手柄、触控、移动传感器等</td></tr><tr><td>输入模式</td><td>较为被动，基于轮询</td><td>支持事件、轮询、回调</td></tr><tr><td>自定义操作</td><td>不支持</td><td>强大的 Action Map 系统</td></tr><tr><td>多玩家支持</td><td>手动管理</td><td>内建支持玩家输入分离</td></tr><tr><td>绑定方式</td><td>硬编码字符串</td><td>数据驱动 Asset 绑定</td></tr></tbody></table><h3 id=关键组成>关键组成</h3><p><strong>Input Action（输入动作）</strong><br>核心概念是“输入动作”，它是抽象层，将具体按键与游戏行为解耦<br>例如：Jump动作绑定Space键、Gamepad A键<br>你可以创建一个<code>.inputactions</code>文件来集中管理动作映射</p><p><strong>Action Map</strong><br>是Input Action的集合，例如：</p><ul><li><code>Player</code>：Move、Jump、Fire</li><li><code>UI</code>：Navigate、Click、Cancel</li></ul><p><strong>控制方案</strong>
用于支持不同设备类型的输入方案，如：</p><ul><li>Keyboard&amp;Mouse</li><li>Gamepad</li><li>Touch</li></ul><h3 id=使用流程常规项目>使用流程（常规项目）</h3><ul><li>安装 Input System
打开 Package Manager
安装 Input System 包
Unity 会提示是否启用新的输入系统（可双系统兼容）</li><li>创建 .inputactions 文件
Assets -> Create -> Input Actions
配置 Action Maps、Actions、Bindings</li><li>生成 C# 类
勾选 Generate C# Class
命名生成的类，如 PlayerInputActions.cs</li><li>在代码中使用</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#ff79c6>class</span> <span style=color:#50fa7b>PlayerController</span> : MonoBehaviour
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>private</span> PlayerInputActions inputActions;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>private</span> <span style=color:#ff79c6>void</span> Awake() =&gt; inputActions = <span style=color:#ff79c6>new</span> PlayerInputActions();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>private</span> <span style=color:#ff79c6>void</span> OnEnable()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        inputActions.Enable();
</span></span><span style=display:flex><span>        inputActions.Player.Jump.performed += OnJump;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>private</span> <span style=color:#ff79c6>void</span> OnDisable()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        inputActions.Disable();
</span></span><span style=display:flex><span>        inputActions.Player.Jump.performed -= OnJump;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>private</span> <span style=color:#ff79c6>void</span> OnJump(InputAction.CallbackContext context) =&gt; Debug.Log(<span style=color:#f1fa8c>&#34;Jump!&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=配合playerinput组件>配合PlayerInput组件</h3><p><code>PlayerInput</code>是Unity提供的MonoBehaviour，用于快速接入<code>.inputactions</code>资产，支持：</p><ul><li>自动绑定事件</li><li>自动识别控制器</li><li>支持多玩家分离（Join/Leave）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#ff79c6>void</span> OnMove(InputValue <span style=color:#ff79c6>value</span>) =&gt; Vector2 move = <span style=color:#ff79c6>value</span>.Get&lt;Vector2&gt;();
</span></span></code></pre></div><h3 id=事件类型>事件类型</h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>started</code></td><td>按下的那一帧</td></tr><tr><td><code>performed</code></td><td>动作生效（按住、滑动）</td></tr><tr><td><code>canceled</code></td><td>动作取消（松开、停止滑动）</td></tr></tbody></table><h3 id=实用技巧>实用技巧</h3><p><strong>动态绑定</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>inputActions.Player.Fire.start += ctx =&gt; Shoot();
</span></span></code></pre></div><p><strong>支持UI操作</strong>
Unity的<code>Input System UI Input Module</code>替代源EventSystem，需绑定Input Actions到UI</p><p><strong>多人输入管理</strong></p><ul><li>配合<code>PlayerInputManager</code></li><li>支持热插拔、多设备控制</li></ul></div><nav class=post-nav><a href=/runtime/log/gizmos/ class=hover:underline>pre: Gizmos</a>
<a href=/runtime/log/job-system/ class=hover:underline>next: Job System</a></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><ul><li><a href=#unity旧输入系统unityengineinput>Unity旧输入系统（UnityEngine.Input）</a><ul><li><a href=#键盘输入>键盘输入</a></li><li><a href=#鼠标输入>鼠标输入</a></li><li><a href=#触摸屏输入touch>触摸屏输入（Touch）</a></li><li><a href=#虚拟轴input-manager>虚拟轴（Input Manager）</a></li><li><a href=#手柄支持旧系统的有限支持>手柄支持（旧系统的有限支持）</a></li></ul></li><li><a href=#unity新输入系统input-system-package>Unity新输入系统（Input System Package）</a><ul><li><a href=#核心概念>核心概念</a></li><li><a href=#关键组成>关键组成</a></li><li><a href=#使用流程常规项目>使用流程（常规项目）</a></li><li><a href=#配合playerinput组件>配合PlayerInput组件</a></li><li><a href=#事件类型>事件类型</a></li><li><a href=#实用技巧>实用技巧</a></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
<!doctype html><html lang=en><head><meta name=page-kind content="page"><meta charset=UTF-8><title>WSL instructions for use</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-lua.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-rust.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/logsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>█</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/dotnetandwindows/>★</a></li><li><a href=/dotnetandwindows/lab/>Lab</a></li><li><a href=/dotnetandwindows/log/>Log</a></li><li><a href=/dotnetandwindows/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+——————————————————————————————————————————————————————————————+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> ———————————— <a class=nav-item data-path=/home/ href=/home/>Home</a> ————————————— <a class=nav-item data-path=/runtime/ href=/runtime/>Runtime</a>         |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |       <a class=nav-item data-path=/language/ href=/language/>Language</a>                 |
|                        /    |      /                         |
|                       /     |     /                          |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |    /           <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |   /            <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                        <a class=nav-item data-path=/leftbrain/ href=/leftbrain/>LeftBrain</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+——————————————————————————————————————————————————————————————+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a> |
<a href=https://isocpp.org/ target=_blank>isocpp</a> |
<a href=https://open-std.org target=_blank>open-std</a></p><p><a href=https://gcc.gnu.org/onlinedocs/ target=_blank>GCC Docs</a></p><p><a href=https://clang.llvm.org/docs/ target=_blank>Clang Docs</a></p><p><a href=https://www.boost.org/libraries/ target=_blank>Boost Library Docs</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/ target=_blank>lua.org</a> |
<a href=https://www.luarocks.org/ target=_blank>luarocks.org</a> |
<a href=https://www.luajit.org/ target=_blank>luajit.org</a></p><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a></p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a></p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a> |
<a href=https://git-scm.com/doc target=_blank>Docs</a> |
<a href=https://git-scm.com/community target=_blank>Community</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>WSL instructions for use<div class=meta>Modified: 2026-02-26
| Author：ljf12825</div></div><div class=content><p><a href=https://learn.microsoft.com/en-us/windows/wsl/>WSL</a>全称是Windows Subsystem for Linux</p><p>WSL可以在Windows里面“原生”运行Linux</p><h2 id=工作原理>工作原理</h2><p>它不是一个虚拟机，也不是一个Cygwin。它是一个更底层、更集成、更高效的解决方案。Linux内核与Windows内核通过一种轻量级的虚拟化技术协同工作，使得Linux系统调用能够被翻译并直接在Windows上执行，从而实现了近乎原生的性能</p><h3 id=wsl-两大版本>WSL 两大版本</h3><table><thead><tr><th>特性</th><th>WSL1</th><th>WSL2</th></tr></thead><tbody><tr><td>架构</td><td>翻译层。将Linux系统调用翻译为Windows内核的系统调用</td><td>轻量级实用工具。运行在由Hyper-V技术管理的轻量级虚拟机中，包含完整的Linux内核</td></tr><tr><td>文件系统性能</td><td>在跨操作系统的文件操作中表现较好（例如在Linux中访问<code>C:\</code>下的文件）</td><td>在Linux文件系统内部操作中表现极快（例如在Linux <code>home</code>目录下进行<code>git clone</code>, <code>npm install</code>）。跨OS文件操作较慢</td></tr><tr><td>系统调用兼容性</td><td>有限。并非所有Linux系统调用都被支持，某些应用可能无法运行</td><td>完全兼容。因为运行在真正的Linux内核上，可以运行绝大多数未修改的Linux应用，如Docker</td></tr><tr><td>与Windows的集成</td><td>无缝。可以直接在Windows的<code>C:\</code>路径下访问Linux文件</td><td>通过 <code>\\wsl$\</code>网络路径访问。Linux文件系统作为一个独立的网络位置挂载</td></tr><tr><td>启动时间</td><td>瞬时</td><td>极快（虚拟机从休眠状态恢复，通常在几秒内）</td></tr><tr><td>运行位置</td><td>与Windows共享同一个内核和文件系统</td><td>运行在轻量级虚拟机中，拥有自己的内核和完整的文件系统</td></tr></tbody></table><h2 id=wsl的局限性和注意事项>WSL的局限性和注意事项</h2><ol><li>GUI应用：虽然微软已经支持在WSL2中运行Linux GUI应用（需要安装相应的驱动和组件，且系统为Windows10或11的较新版本），但性能和兼容性仍在不断完善中。对于复杂的3D图形应用，可能不如原生Linux或虚拟机流畅</li><li>硬件访问：直接访问硬件（如GPU进行计算、USB设备）在WSL2中曾经是难题。现在，GPU计算(CUDA, OpenCL)和USB设备直通已经得到官方或社区解决方案的支持，但配置过程可能比原生系统复杂一些</li><li>文件系统性能的取舍：如果工作流需要频繁地在Windows和Linux文件系统之间移动文件，性能可能是一个需要权衡的因素。最佳实践是：将项目文件放在Linux的<code>home/</code>下，并实用VS Code的Remote-WSL打开它</li><li>系统资源占用：虽然比传统虚拟机轻量，但WSL2仍然会占用一部分内存。默认情况下，WSL2最多可使用主机总内存的50%或8GB（取较小值）。可以在Windows用户目录下创建一个<code>.wslconfig</code>文件来限制WSL2的内存和CPU使用</li></ol><h2 id=安装>安装</h2><p>Windows10/11里直接在PowerShell输入</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>wsl --install
</span></span></code></pre></div><p>这个命令会自动</p><ul><li>启动WSL功能</li><li>安装WSL2作为默认版本</li><li>安装一个默认的Linux发行版（通常是Ubuntu）</li><li>安装Linux内核更新包</li></ul><p>重启后，开始菜单中会出现安装的Linux发行版。点击打开，它会继续初始化，并提示创建一个新的用户名和密码（Linux用户名和<code>sudo</code>密码）</p><h2 id=使用>使用</h2><h3 id=基本命令管理>基本命令管理</h3><ul><li>列出已安装的发行版：<code>wsl --list --verbose</code>或<code>wsl -l -v</code></li><li>设置默认发行版：<code>wsl --setdefault &lt;发行版名称></code></li><li>设置特定发行版的WSL版本：<code>wsl --set-version &lt;发行版名称> 2</code></li><li>终止所有正在运行的WSL实例：<code>wsl --shutdown</code></li><li>导出某个发行版为tar文件（用于备份）：<code>wsl --export &lt;发行版名称> &lt;文件名.tar></code></li><li>从tar文件导入发行版：<code>wsl --import &lt;发行版名称> &lt;安装目录> &lt;文件名.tar></code></li><li>运行特定的发行版：<code>wsl -d &lt;发行版名称></code></li></ul><h3 id=打开>打开</h3><p>打开方式有三种</p><ul><li>开始菜单搜索 <code>Ubuntu</code></li><li>在PowerShell里输入 <code>wsl</code></li><li>在VSCode里安装插件 <code>WSL</code></li></ul><h3 id=文件系统>文件系统</h3><p>WSL有两个文件系统</p><h4 id=linux-文件系统wsl内部>Linux 文件系统（WSL内部）</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>/
</span></span><span style=display:flex><span>├── bin
</span></span><span style=display:flex><span>├── etc
</span></span><span style=display:flex><span>├── home
</span></span><span style=display:flex><span>├── usr
</span></span><span style=display:flex><span>├── var
</span></span><span style=display:flex><span>└── mnt
</span></span></code></pre></div><p>这部分属于Linux原生文件系统(ext4)</p><p>在WSL2里，它实际存储在一个虚拟磁盘文件里<code>ext4.vhdx</code>，位置大概在<code>C:\Users\Yourusername\AppData\Local\Packages\</code></p><h4 id=windows文件系统被挂载进来>Windows文件系统（被挂载进来）</h4><p>在Linux里，<code>/mnt/c</code>代表Windows的C盘，例如<code>/mnt/c/Users</code>就是Windows用户目录</p><h4 id=文件系统桥接原理>文件系统桥接原理</h4><p>WSL2的结构是</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>Windows
</span></span><span style=display:flex><span>   │
</span></span><span style=display:flex><span>   ├── ext4.vhdx（Linux虚拟磁盘）
</span></span><span style=display:flex><span>   │
</span></span><span style=display:flex><span>   └── drvfs（挂载Windows文件系统）
</span></span></code></pre></div><h5 id=linux---windows>Linux -> Windows</h5><p>通过<code>/mnt/c</code>访问Windows文件</p><h5 id=windows---linux>Windows -> Linux</h5><p>通过<code>\\wsl$\Ubuntu\</code>访问Linux文件</p><p><code>explorer.exe .</code>这个命令可以在WSL里打开Windows资源管理器，打开当前目录</p><h4 id=性能差异>性能差异</h4><p>存放在<code>/home</code>中的文件访问速度快，存放在<code>/mnt/c</code>中的文件访问速度慢<br>因为</p><ul><li>Linux文件系统是ext4（原生）</li><li>Windows文件系统是NTFS</li><li>WSL需要跨文件系统翻译</li></ul><h4 id=权限模型>权限模型</h4><p>Linux有<code>rwxr-xr-x</code>权限体系，Windows有<code>ACL</code>权限模型<br>当访问<code>/mnt/c</code>时</p><ul><li>权限会被映射</li><li>可能出现chmod不生效</li></ul></div><nav class=post-nav></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><ul><li><a href=#工作原理>工作原理</a><ul><li><a href=#wsl-两大版本>WSL 两大版本</a></li></ul></li><li><a href=#wsl的局限性和注意事项>WSL的局限性和注意事项</a></li><li><a href=#安装>安装</a></li><li><a href=#使用>使用</a><ul><li><a href=#基本命令管理>基本命令管理</a></li><li><a href=#打开>打开</a></li><li><a href=#文件系统>文件系统</a><ul><li><a href=#linux-文件系统wsl内部>Linux 文件系统（WSL内部）</a></li><li><a href=#windows文件系统被挂载进来>Windows文件系统（被挂载进来）</a></li><li><a href=#文件系统桥接原理>文件系统桥接原理</a><ul><li><a href=#linux---windows>Linux -> Windows</a></li><li><a href=#windows---linux>Windows -> Linux</a></li></ul></li><li><a href=#性能差异>性能差异</a></li><li><a href=#权限模型>权限模型</a></li></ul></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
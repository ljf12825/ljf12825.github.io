<!doctype html><html lang=en><head><meta name=page-kind content="page"><meta charset=UTF-8><title>Control Blocks</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-ini.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/logsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>â–ˆ</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/dotnetandwindows/>â˜…</a></li><li><a href=/dotnetandwindows/lab/>Lab</a></li><li><a href=/dotnetandwindows/log/>Log</a></li><li><a href=/dotnetandwindows/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” <a class=nav-item data-path=/home/ href=/home/>Home</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” <a class=nav-item data-path=/runtime/ href=/runtime/>Runtime</a>         |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |       <a class=nav-item data-path=/language/ href=/language/>Language</a>                 |
|                        /    |      /                         |
|                       /     |     /                          |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |    /           <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |   /            <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                        <a class=nav-item data-path=/leftbrain/ href=/leftbrain/>LeftBrain</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a></p><p><a href=https://gcc.gnu.org/onlinedocs/ target=_blank>GCC Docs</a></p><p><a href=https://clang.llvm.org/docs/ target=_blank>Clang Docs</a></p><p><a href=https://www.boost.org/libraries/ target=_blank>Boost Library Docs</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/manual/5.4/ target=_blank>Lua 5.4 Reference Manual</a><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a> : eBook Library</p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a> : manuals, philosophy, FAQ</p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a> |
<a href=https://git-scm.com/doc target=_blank>Docs</a> |
<a href=https://git-scm.com/community target=_blank>Community</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>Control Blocks<div class=meta>Modified: 2025-06-01
| Authorï¼šljf12825</div></div><div class=content><h3 id=while--do-while>while / do while</h3><h4 id=while><code>while</code></h4><p>ÓÃÓÚÊÂÇ°¼ì²éĞÍÑ­»·£¬³£¼ûÓÚ£º</p><ul><li><p>µÈ´ıÌõ¼ş³ÉÁ¢</p></li><li><p>µü´úÆ÷±éÀú</p></li><li><p>Á÷Ê½¶ÁÈ¡</p></li><li><p>»ù±¾½á¹¹</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>while</span> (condition)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// loop body</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol><li>ÏÈÅĞ¶ÏÌõ¼ş</li><li>Ìõ¼şÎª<code>true</code> -> Ö´ĞĞÑ­»·Ìå</li><li>Ìõ¼şÎª<code>false</code> -> Ö±½ÓÌø³öÑ­»·</li></ol><h4 id=do-while><code>do while</code></h4><p>ÓÃÓÚ±ØĞëÏÈÖ´ĞĞÒÀ´ÎµÄ³¡¾°£¬ÀıÈç</p><ul><li>²Ëµ¥ÊäÈëÑ­»·</li><li>ÓÃ»§ÊäÈëÑéÖ¤</li><li>ÓÎÏ·Ö÷Ñ­»·£¨update-loopÔ­ĞÍ£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// loop body</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (condition)
</span></span></code></pre></div><p>Ö´ĞĞÂß¼­£º</p><ol><li>ÏÈÖ´ĞĞÑ­»·ÌåÒ»´Î</li><li>ÔÙÅĞ¶ÏÌõ¼ş</li><li>Ìõ¼şÎª<code>true</code> -> ¼ÌĞøÑ­»·</li><li>·ñÔòÌø³ö</li></ol><h3 id=for-foreach-getenumerator><code>for</code>, <code>foreach</code>, <code>GetEnumerator()</code></h3><h4 id=for><code>for</code></h4><p>×îÔ­Ê¼£¬×î½Ó½ü»úÆ÷Ä£ĞÍµÄÑ­»·<br>Óï·¨±¾ÖÊ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>init</span>; condition; iterator)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	body
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÊÇ´¿Óï·¨½á¹¹£¬²»ÊÇ·½·¨£¬Ò²²»ÊÇ½Ó¿ÚÇı¶¯µÄ<br>±àÒëÆ÷×öµÄÊÂÇé·Ç³£Ö±½Ó</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>init</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (condition)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	body;
</span></span><span style=display:flex><span>	iterator;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=heading>ºËĞÄÌØĞÔ</h5><ul><li>ÍêÈ«³ÌĞòÔ±¿ØÖÆ<ul><li>Ñ­»·±äÁ¿ÉúÃüÖÜÆÚ</li><li>²½½ø·½Ê½</li><li>ÖÕÖ¹Ìõ¼ş</li></ul></li><li>²»ÒÀÀµÈÎºÎ½Ó¿Ú</li><li>¿É±»JIT¼«¶ÈÓÅ»¯<ul><li>±ß½ç¼ì²éÏû³ı£¨bounds check elimination£©</li><li>ÏòÁ¿»¯£¨SIMD£©</li><li>Ñ­»·Õ¹¿ª£¨unrolling£©</li></ul></li></ul><h5 id=Ú´Ó½>ĞÔÄÜÓëÄÚ´æÊÓ½Ç</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>0</span>; i &lt; arr.Length; i++)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	sum += arr[i];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>JITÔÚÕâÀï¿ÉÒÔ×öµ½</p><ul><li><code>arr.Length</code>hoistµ½Ñ­»µÍâ</li><li>Ïû³ıÖØ¸´bounds check</li><li>Ê¹ÓÃ¼Ä´æÆ÷±£´æ<code>i</code></li><li>¼¸ºõµÈ¼ÛÓÚC/C++Ñ­»·</li></ul><p>ÕâÒ²ÊÇÎªÊ²Ã´ÊıÖµ¼ÆËã¡¢ÒıÇæ´úÂë¡¢ÈÈÂ·¾¶¼¸ºõÖ»ÓÃ<code>for</code></p><h4 id=foreachgetenumerator><code>foreach</code>Óë<code>GetEnumerator</code></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> collection)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	body;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>foreach</code>ÊÇ±àÒëÆ÷¼¶±ğµÄÓï·¨ÌÇ£¬ºËĞÄÒÀÀµ<code>GetEnumerator()</code>Ğ­Òé£¬µ«Ëü²»ÊÇ¼òµ¥µØµ÷ÓÃ½Ó¿Ú</p><h5 id=foreachÒ¹><code>foreach</code>²éÕÒ¹æÔò</h5><p>×¢Òâ£º<code>foreach</code>²»ÒªÇóÀàĞÍÊµÏÖ<code>IEnumerable</code>½Ó¿Ú**<br>±àÒëÆ÷ÔÚ¿´µ½ <code>foreach (var x in expr)</code> Ê±£¬»á°´Ë³Ğò³¢ÊÔ</p><h6 id=1-Æ¿Ú¿É·ÊµÊµ>1. ÊÇ·ñ´æÔÚ¿É·ÃÎÊµÄÊµÀı·½·¨</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>GetEnumerator()
</span></span></code></pre></div><p>·µ»ØµÄÀàĞÍ£¨Enumerator£©±ØĞëÂú×ã</p><ul><li>ÓĞ<code>bool MoveNext</code></li><li>ÓĞ<code>Current</code>ÊôĞÔ£¨»ò×Ö¶Î£©</li></ul><p>²»ÒªÇó½Ó¿Ú£¬²»ÒªÇó¼Ì³Ğ£¬Ö»Òª¡°ĞÎ×´Æ¥Åä¡±£¬¼´duck typing£¬µ«·¢ÉúÔÚ±àÒëÆÚ</p><h6 id=2-Ã»Êµ>2. Èç¹ûÃ»ÓĞÊµÀı·½·¨</h6><p>³¢ÊÔÀ©Õ¹·½·¨<code>GetEnumerator()</code></p><h6 id=3-Ã»>3. Èç¹û¶¼Ã»ÓĞ</h6><p>²ÅÍË»¯Îª</p><ul><li><code>IEnumerable</code></li><li><code>IEnumerable&lt;T></code></li></ul><h5 id=Ò»Ç½Ó¿Ú¡Ã¶>Ò»¸ö¡°·Ç½Ó¿Ú¡±µÄÃ¶¾ÙÆ÷Àı×Ó</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MyCollection</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> Enumerator GetEnumerator() =&gt; <span style=color:#66d9ef>new</span> Enumerator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Enumerator</span>
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> i;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Current =&gt; i;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> MoveNext()
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			i++;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> i &lt; <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÍêÈ«ºÏ·¨µÄ<code>foreach</code>¶ÔÏó£¬Ã»ÓĞ½Ó¿Ú£¬Ã»ÓĞ¼Ì³Ğ£¬Ã»ÓĞ×°Ïä£¬±àÒëÆ÷ÔÚ±àÒëÆÚÍ¨¹ıĞÎ×´Æ¥ÅäÊ¶±ğÃ¶¾ÙÆ÷</p><h5 id=foreachÄµ>±àÒëÆ÷¶Ô<code>foreach</code>µÄ´¦Àí</h5><ol><li>Ô´´úÂë</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> collection)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	Do(x);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>±àÒëÆ÷Õ¹¿ª£¨¸ÅÄîµÈ¼Û£©</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>var</span> enumerator = collection.GetEnumerator();
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (enumerator.MoveNext())
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> x = enumerator.Current;
</span></span><span style=display:flex><span>		Do(x);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>finally</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (enumerator <span style=color:#66d9ef>is</span> IDisposable d)
</span></span><span style=display:flex><span>		d.Dispose();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=getenumerator><code>GetEnumerator()</code></h5><h6 id=heading-1>»ù±¾¸ÅÄî</h6><p><code>GetEnumerator()</code>ÊÇÒ»¸ö·½·¨£¬ÓÃÀ´»ñÈ¡¼¯ºÏµÄÃ¶¾ÙÆ÷£¨Enumerator£©¡£Ã¶¾ÙÆ÷ÊÇ¶ÔÏó»ò½á¹¹Ìå£¬¸ºÔğÔÚÑ­»·ÖĞÌá¹©¡°µ±Ç°ÔªËØ¡±ºÍµü´ú×´Ì¬</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>List&lt;<span style=color:#66d9ef>int</span>&gt; list = <span style=color:#66d9ef>new</span>() { <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> };
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> enumerator = list.GetEnumerator();
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (enumerator.MoveNext())
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> x = enumerator.Current;
</span></span><span style=display:flex><span>	Console.WriteLine(x);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>foreach</code>¾ÍÊÇ±àÒëÆ÷°ÑÑ­»·Õ¹¿ª³Éµ÷ÓÃ<code>GetEnumerator()</code> + <code>MoveNext()</code> + <code>Current</code></li></ul><h6 id=Õ¢ã¶¨>ÓïÑÔ²ã¶¨Òå</h6><p>ÔÚC#ÖĞ£¬<code>GetEnumerator()</code>ÓĞÁ½ÖÖ³£¼ûÇ©Ãû</p><ol><li>·Ç·ºĞÍ°æ±¾£¨<code>IEnumerable</code>£©</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>IEnumerator IEnumerable.GetEnumerator();
</span></span></code></pre></div><p>·µ»ØIEnumerator£¬Ö»Ìá¹©<code>object Current</code></p><ol start=2><li>·ºĞÍ°æ±¾£¨<code>IEnumerable&lt;T></code>£©</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>IEnumerator&lt;T&gt; IEnumerable&lt;T&gt;.GetEnumerator();
</span></span></code></pre></div><p>·µ»ØIEnumerator<t>£¬Ìá¹©ÀàĞÍ°²È«µÄ<code>T Current</code></p><h6 id=getenumeratorÃ¶Ñ><code>GetEnumerator()</code>ÓëÃ¶¾ÙÆ÷Ğ­Òé</h6><p>Ã¶¾ÙÆ÷Ğ­Òé£ºC#±àÒëÆ÷¹æ¶¨£¬Ö»Òª·µ»Ø¶ÔÏóÂú×ãÒÔÏÂÌõ¼ş¾Í¿ÉÒÔÓÃÓÚ<code>foreach</code></p><ul><li>ÓĞ<code>MoveNext()</code>·½·¨£¬·µ»Ø<code>bool</code></li><li>ÓĞ<code>Current</code>ÊôĞÔ£¨ÀàĞÍ¿ÉÒÔÊÇ<code>T</code>»ò<code>object</code>£©</li><li>¿ÉÑ¡£ºÊµÏÖIDisposable£¬±àÒëÆ÷»áÔÚ<code>finally</code>×Ô¶¯µ÷ÓÃ</li></ul><blockquote><p>²»ÒªÇóÊµÏÖ<code>IEnumerator</code>½Ó¿Ú£¬Ö»Òª¡°ĞÎ×´Æ¥Åä¡±¼´¿É</p></blockquote><h6 id=getenumeratorÊµÊ½><code>GetEnumerator()</code>µÄÁ½ÖÖÊµÏÖ·½Ê½</h6><ol><li>ÀàËÆÊı×é<code>List&lt;T></code>µÄ½á¹¹ÌåÃ¶¾ÙÆ÷<ul><li>·µ»Østruct£¬±ÜÃâ×°Ïä</li><li>JIT¿ÉÄÚÁª<code>MoveNext()</code>ºÍ<code>Current</code>£¬ĞÔÄÜ½Ó½ü<code>for</code></li><li>±£´æË÷ÒıºÍ°æ±¾ºÅ</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Enumerator</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> List&lt;T&gt; _list;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> _index;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> _version;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> T Current =&gt; _list[_index];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> MoveNext() { ... }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>yield / iterator Éú³ÉÆ÷<ul><li>±àÒëÆ÷×Ô¶¯Éú³É state machineÀà</li><li><code>GetEnumerator()</code>·µ»ØclassÀàĞÍµÄÃ¶¾ÙÆ÷</li><li><code>MoveNext</code>ÄÚ²¿¿ØÖÆ×´Ì¬»ú</li><li>Ö§³ÖÑÓ³Ù¼ÆËã</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>IEnumerable&lt;<span style=color:#66d9ef>int</span>&gt; Numbers()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>yield</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>yield</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Êµ¼ÊÉú³É</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>sealed</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>NumbersIterator</span> : IEnumerable&lt;<span style=color:#66d9ef>int</span>&gt;, IEnumerator&lt;<span style=color:#66d9ef>int</span>&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> state;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> current;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> MoveNext() { ... }
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Current =&gt; current;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> IEnumerator&lt;<span style=color:#66d9ef>int</span>&gt; GetEnumerator() =&gt; <span style=color:#66d9ef>this</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=getenumeratorÚµ><code>GetEnumerator</code>´æÔÚµÄÒâÒå</h5><p>»Øµ½×î¿ªÊ¼µÄÎÊÌâ£¬<code>foreach</code>²»ÒªÇóÀàĞÍÊµÏÖ<code>IEnumerable</code>½Ó¿Ú£¬¿ÉÒÔÍ¨¹ı<code>GetEnumerator</code>£¬¶ø²»ÊÇÖ»¿¿½Ó¿Ú<br>Ô­ÒòÖ»ÓĞÒ»¸ö£ºĞÔÄÜ + ±í´ïÁ¦</p><ul><li>½Ó¿Ú -> ±ØÈ»Ğéµ÷ÓÃ</li><li>ÖµÀàĞÍ + ½Ó¿Ú -> ±ØÈ»×°Ïä</li></ul><p>ÕâÊÇ¸ßĞÔÄÜ³¡¾°ÎŞ·¨½ÓÊÜµÄ<br>ËùÓĞC#Ñ¡Ôñ£º±àÒëÆÚĞ­Òé£¬¶ø·ÇÔËĞĞÊ±</p><h5 id=Ã¶-vs-Ó¿Ã¶>ÖµÀàĞÍÃ¶¾ÙÆ÷ vs ½Ó¿ÚÃ¶¾ÙÆ÷</h5><p>ÎªÊ²Ã´<code>List&lt;T>.foreach</code>ºÜ¿ì</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> list)
</span></span></code></pre></div><p>ÒòÎª</p><ul><li><code>List&lt;T>.Enumerator</code>ÊÇstruct</li><li><code>GetEnumerator()</code>·µ»Ø¾ßÌåÀàĞÍ</li><li>Ã»ÓĞ½Ó¿Úµ÷ÓÃ</li><li>Ã»ÓĞ×°Ïä</li><li>JIT¿ÉÒÔÄÚÁª<code>MoveNext()</code></li></ul><p>ÂıµÄÇé¿ö</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>IEnumerable&lt;<span style=color:#66d9ef>int</span>&gt; e = list;
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> e)
</span></span></code></pre></div><p>´ËÊ±</p><ul><li>Ê¹ÓÃ<code>IEnumerator&lt;int></code>½Ó¿Ú</li><li><code>struct Enumerator</code>±»×°Ïä</li><li><code>MoveNext</code>ÊÇĞéµ÷ÓÃ</li><li>ĞÔÄÜÏÔÖøÏÂ½µ</li></ul><h5 id=heading-2>Ö»¶Á±éÀú</h5><p>ÕâÊÇÒ»¸öÓïÑÔÉè¼Æ²ãÃæµÄ¡°Ó²Ô¼Êø¡±ÎÊÌâ£¬C#ÎŞ·¨¡¢Ò²²»Ô¸Òâ£¬Îª<code>foreach</code>±£Ö¤¡°¿ÉĞ´ÓïÒå¡±ÔÚËùÓĞÃ¶¾ÙÆ÷Ä£ĞÍÏÂ³ÉÁ¢</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> list)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	x = <span style=color:#ae81ff>10</span> ; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>»ò</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>int</span> x <span style=color:#66d9ef>in</span> array)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	x++; <span style=color:#75715e>// ï¿½ï¿½Ó°ï¿½ï¿½Ô­ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>x = ...</code>Ö±½Ó±¨´í£¨Óï·¨²ã£©</li><li><code>x++</code>²»ÉúĞ§£¨ÓïÒå²ã£©</li></ul><p>Ô­Òò²»ÍêÈ«ÏàÍ¬µ«±¾ÖÊÒ»ÖÂ</p><h6 id=foreachÄº><code>foreach</code>µÄºËĞÄÓïÒå</h6><p>±àÒëÆ÷¶Ô<code>foreach</code>µÄÕ¹¿ªÖĞ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>var</span> x = enumerator.Current;
</span></span></code></pre></div><p><code>Current</code>ÊÇÒ»¸öÊôĞÔ£¬ÊôĞÔ·µ»ØÖµ£¬²»ÊÇ¿ÉĞ´ÒıÓÃ¡£<code>foreach</code>¸ù±¾²»ÖªµÀÄãÃ¶¾ÙµÄÊÇÊ²Ã´¶«Î÷</p><p><code>GetEnumerator</code>Ğ­ÒéÖ»ÒªÇó</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>bool</span> MoveNext();
</span></span><span style=display:flex><span>T Current { <span style=color:#66d9ef>get</span>; }
</span></span></code></pre></div><ul><li>Ã»ÓĞ<code>set</code></li><li>Ã»ÓĞ¡°»ØĞ´¡±ÓïÒå</li></ul><p>Òò´Ë£¬ÓïÑÔ²ãÃæÖ»ÄÜ³ĞÅµ£º¿ÉÒÔ¶Áµ½Ò»¸öÔªËØ£¬¶ø²»ÊÇ¿ÉÒÔĞŞ¸Ä¼¯ºÏÖĞµÄÕâ¸öÎ»ÖÃ</p><h6 id=ÏŠÊ²Ã´Æ´É¡Ğ´foreach>ÎªÊ²Ã´²»ÄÜÉè¼Æ³É¡°¿ÉĞ´foreach¡±</h6><ol><li>ÒòÎªºÜ¶à¼¯ºÏ¸ù±¾²»´æÔÚ¡°¿ÉĞ´Î»ÖÃ¡±</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>IEnumerable&lt;<span style=color:#66d9ef>int</span>&gt; Numbers()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>yield</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>yield</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÀïµÄ<code>Current</code>²»ÊÇÊı×éÔªËØ£¬²»ÊÇÄÚ´æÎ»ÖÃ£¬ÊÇ×´Ì¬»ú¼ÆËã³öÀ´µÄÁÙÊ±Öµ</p><ol start=2><li>¼´Ê¹ÊÇÊı×é£¬Ò²´æÔÚÆçÒå</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> GetArray())
</span></span><span style=display:flex><span>{ 
</span></span><span style=display:flex><span>	x = <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>GetArray()</code>ÊÇÊ²Ã´£¿Î´Öª</p><h6 id=Ã¶>ÖµÀàĞÍÃ¶¾ÙÆ÷</h6><p>³£¼ûÃ¶¾ÙÆ÷ÊÇ<code>struct</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>List&lt;T&gt;.Enumerator : <span style=color:#66d9ef>struct</span>
</span></span></code></pre></div><p>Èç¹ûÔÊĞí</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> list)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	x = ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÄÇµÈ¼ÛÓÚ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>enumerator.Current = ...
</span></span></code></pre></div><p>µ«ÎÊÌâÊÇ</p><ul><li><code>enumerator</code>ÊÇÖµÀàĞÍ</li><li><code>Current</code>ÊÇÊôĞÔ</li><li>ÊôĞÔ·µ»ØµÄÊÇ¸±±¾</li></ul><p>Èç¹ûÇ¿ĞĞÖ§³Ö£¬»áµ¼ÖÂÔÖÄÑĞÔ²»Ò»ÖÂ£ºÖµÀàĞÍ¿É¸Ä£¬ÒıÓÃÀàĞÍ²»¿É¸Ä£¬ÕâÔÚÓïÑÔÉè¼ÆÉÏÊÇ²»¿É½ÓÊÜµÄ<br>C#µÄÉè¼ÆÔ­ÔòÊÇ£ºÄş¿ÉÍ³Ò»½ûÖ¹£¬Ò²²»ÖÆÔì¡°¿´ÆğÀ´ÄÜÓÃ¡¢µ«Êµ¼ÊÉÏ²»¿É¿¿¡±µÄÓïÒå</p><h6 id=foreachÄ·><code>foreach</code>ÖĞÔÊĞíĞŞ¸Ä¶ÔÏóµÄ×Ö¶Î</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> obj <span style=color:#66d9ef>in</span> list)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	obj.Value = <span style=color:#ae81ff>10</span>; <span style=color:#75715e>// ï¿½Ï·ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>obj</code>ÊÇÒıÓÃµÄ¿½±´£¬¿½±´µÄÊÇµØÖ·£¬ĞŞ¸ÄµÄÊÇ¶ÔÏó±¾Ìå£»Ã»ÓĞĞŞ¸Ä¡°Ã¶¾Ù±äÁ¿¡±£¬¶øÊÇĞŞ¸ÄËüÖ¸ÏòµÄ¶ÔÏó£¬ÕâºÍ<code>foreach</code>µÄÖ»¶Á¹æÔò²»³åÍ»</p><h6 id=ref-foreach><code>ref foreach</code></h6><p>C# 7.3 ÒıÈëÌØÀı</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>var</span> x <span style=color:#66d9ef>in</span> array)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	x = <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÀï³ÉÁ¢ÊÇÒòÎª</p><ul><li>Êı×éÔªËØÓĞÎÈ¶¨ÄÚ´æµØÖ·</li><li>±àÒëÆ÷ÄÜÄÃµ½<code>ref T</code></li><li>ÍêÈ«Ã»ÓĞÃ¶¾ÙÆ÷³éÏó</li></ul><p>ÕâÊÇ×¨ÃÅÎªÊı×éºÍSpanÉè¼ÆµÄ¡°ÊÜÏŞÌÓÉú¿Ú¡±</p><p>ÎªÊ²Ã´²»ÄÜ¶ÔËùÓĞIEnumerableÉúĞ§£¿<br>ÒòÎª</p><ul><li>´ó¶àÊıÃ¶¾ÙÆ÷ÎŞ·¨Ìá¹©ref·µ»Ø</li><li><code>ref T Current</code>»áÆÆ»µÏÖÓĞĞ­Òé</li><li>»áÇ¿ÆÈËùÓĞ¼¯ºÏ±©Â¶ÄÚ²¿´æ´¢</li></ul><p>ÕâÊÇ²»¿É½ÓÊÕµÄAPIÆÆ»µ</p><h5 id=æ±¾>°æ±¾¼ì²é</h5><h6 id=heading-3>¶¨Òå</h6><ul><li>¼¸ºõËùÓĞ¿É±ä¼¯ºÏ(<code>List&lt;T></code>, <code>Dictionary&lt;TKey, TValue></code>µÈ)¶¼ÓĞÒ»¸öÄÚ²¿ÕûĞÍ×Ö¶Î£¬Í¨³£½Ğ<code>_version</code>»òÀàËÆÃû×Ö</li><li>³õÊ¼Öµ£ºÍ¨³£´Ó0¿ªÊ¼</li><li>Ã¿´ÎĞŞ¸Ä¼¯ºÏ¶¼»áÈÃ<code>_version</code>Ôö¼Ó</li></ul><h6 id=heading-4>×÷ÓÃ</h6><p>¼ì²âÃ¶¾ÙÆ÷ÔÚÃ¶¾ÙÆÚ¼äÊÇ·ñ±»ĞŞ¸Ä</p><ul><li>Èç¹ûÔÚ<code>foreach</code>µü´ú¹ı³ÌÖĞĞŞ¸ÄÁË¼¯ºÏ£¬Ã¶¾ÙÆ÷»áÍ¨¹ı¶Ô±È°æ±¾ºÅ·¢ÏÖ²»Ò»ÖÂ£¬È»ºóÅ×³ö<code>InvalidOperationException</code></li><li>ÕâÊÇfail-fast£¨Ã¶¾ÙÆ÷Ò»ÖÂĞÔ¼ì²é£©»úÖÆ£¬·ÀÖ¹Òş²ØµÄbug£¨±ÈÈçÊı×éÔ½½ç¡¢ÒıÓÃÊ§Ğ§£©</li></ul><h6 id=Ğ»>ÔËĞĞ»úÖÆ</h6><p>Ã¶¾Ù¿ªÊ¼Ç°±£´æÃ¶¾ÙÆ÷¿ªÊ¼Ê±µÄ¼¯ºÏ°æ±¾£¬Ã¿´Î<code>MoveNext()</code>¼ì²é<code>_version</code>ÊÇ·ñÆ¥Åä£¬²»Æ¥ÅäÔòÅ×³öÒì³£</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>List</span>&lt;T&gt; : IEnumerable&lt;T&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> _version;  <span style=color:#75715e>// Ã¿ï¿½ï¿½ï¿½Ş¸Ä¼ï¿½ï¿½ï¿½Ê±ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> T[] _items;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Add(T item)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ... ï¿½ï¿½ï¿½ï¿½ï¿½ß¼ï¿½</span>
</span></span><span style=display:flex><span>        _version++;  <span style=color:#75715e>// ï¿½Ş¸Äºï¿½ï¿½æ±¾ï¿½Åµï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Enumerator</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> List&lt;T&gt; _list;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> _index;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>int</span> _version;  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼Ê±ï¿½Ä°æ±¾ï¿½ï¿½</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> Enumerator(List&lt;T&gt; list)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            _list = list;
</span></span><span style=display:flex><span>            _index = <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            _version = list._version;  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç°ï¿½æ±¾</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> MoveNext()
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// ï¿½Ø¼ï¿½ï¿½ï¿½ï¿½é£¡</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (_version != _list._version)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> InvalidOperationException(
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;Collection was modified; enumeration operation may not execute.&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e>// ... ï¿½ï¿½ï¿½ï¿½ï¿½Äµï¿½ï¿½ï¿½ï¿½ß¼ï¿½</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Õı³£Çé¿ö£¨Ã»ÓĞĞŞ¸Ä£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>List&lt;<span style=color:#66d9ef>int</span>&gt; list = <span style=color:#66d9ef>new</span> List&lt;<span style=color:#66d9ef>int</span>&gt; { <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> item <span style=color:#66d9ef>in</span> list) <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½Ã¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½_version = 1</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	Console.WriteLine(item); <span style=color:#75715e>// MoveNext() ï¿½ï¿½ï¿½é£º1 == 1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// Ë³ï¿½ï¿½Ö´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><ul><li>Òì³£Çé¿ö</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>List&lt;<span style=color:#66d9ef>int</span>&gt; list = <span style=color:#66d9ef>new</span> List&lt;<span style=color:#66d9ef>int</span>&gt; { <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> item <span style=color:#66d9ef>in</span> list) <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½Ã¶ï¿½ï¿½ï¿½ï¿½ _version = 1</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	Console.WriteLine(item);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (item == <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		lsit.Add(<span style=color:#ae81ff>4</span>); <span style=color:#75715e>// ï¿½Ş¸Ä¼ï¿½ï¿½Ï£ï¿½_version = 2</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>// ï¿½Â´ï¿½ MoveNext() ï¿½ï¿½ï¿½ï¿½Ê§ï¿½Ü£ï¿½ï¿½×³ï¿½ï¿½ì³£</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// InvalidOperationException</span>
</span></span></code></pre></div><h4 id=structÂµÏŠ>ÖµÀàĞÍ£¨struct£©ÏÂµÄĞĞÎª²»Í¬µã</h4><p><code>foreach</code>ÖĞ½á¹¹ÌåÊÇ¿½±´¸±±¾</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MyStruct</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> X;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mystruct[] arr = { <span style=color:#66d9ef>new</span> MyStruct { X = <span style=color:#ae81ff>1</span> } };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> s <span style=color:#66d9ef>in</span> arr) s.X = <span style=color:#ae81ff>999</span>; <span style=color:#75715e>// ï¿½Ä±ï¿½ï¿½ï¿½ï¿½Ç¸ï¿½ï¿½ï¿½Ô­ï¿½ï¿½ï¿½é²»ï¿½ï¿½ï¿½Ä±ï¿½</span>
</span></span></code></pre></div><p>¶ø<code>for</code>ÖĞÊÇÍ¨¹ıË÷ÒıÆ÷·ÃÎÊ£¬Ö±½ÓĞŞ¸ÄÔ­Ê¼½á¹¹Ìå</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>0</span>; i &lt; arr.Length; ++i) arr[i].X = <span style=color:#ae81ff>999</span>; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½Ş¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ğµï¿½Ôªï¿½ï¿½</span>
</span></span></code></pre></div><h4 id=Ã³>ÊÊÓÃ³¡¾°</h4><ul><li><p><code>for</code></p><ul><li>ĞÔÄÜ¹Ø¼üÂ·¾¶</li><li>ĞèÒªĞŞ¸Ä¼¯ºÏÔªËØ£¬¿ÉÔÚ±éÀúÊ±Ö±½ÓĞŞ¸Ä</li><li>¸´ÔÓµü´úÂß¼­</li></ul></li><li><p><code>foreach</code></p><ul><li>Ö»¶Á±éÀú</li><li>²»È·¶¨¼¯ºÏÀàĞÍÊ±</li><li>×Ô¶¨Òå¼¯ºÏ£¨ÊµÏÖÁËGetEnumerator£©</li></ul></li><li><p><code>GetEnumerator()</code></p><ul><li>Éè¼Æ×Ô¶¨Òå¼¯ºÏÊ±</li></ul></li></ul><h3 id=if>if</h3><h4 id=á¹¹>»ù±¾½á¹¹</h4><p><code>if</code>ÊÇC#ÖĞ×î³£¼ûµÄÌõ¼ş·ÖÖ§Óï¾ä</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (condition expr)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½Îª true Ê±Ö´ï¿½ĞµÄ´ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>¿ÉÒÔ¼ÓÉÏ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (expr1)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// expr1 ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (expr2)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// expr2 ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Ç°ï¿½ï¿½ï¿½Ä¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=Ê½Ò«>Ìõ¼ş±í´ïÊ½µÄÒªÇó</h4><p>C#ÖĞ<code>if</code>ºóÃæ±ØĞëÊÇÒ»¸ö²¼¶ûÀàĞÍ±í´ïÊ½£¨<code>bool</code>£©<br>²»ÏñC/C++ÄÇÑù¿ÉÒÔ°Ñ<code>int</code>µ±³ÉÕæ¼Ù</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> x = <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// if (x) // Error: Cannot implicitly convert type &#39;int&#39; to &#39;bool&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (x != <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>&#34;x is not zero&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÌåÏÖÁËC#¸üÇ¿µÄÀàĞÍ°²È«Éè¼ÆÀíÄî</p><h4 id=Ğ´Æ•>¼òĞ´ÓëÇ¶Ì×</h4><ol><li>µ¥ĞĞ¼òĞ´
Èç¹ûÖ»ÓĞÒ»ÌõÓï¾ä£¬¿ÉÒÔÊ¡ÂÔ»¨À¨ºÅ£¨µ«²»ÍÆ¼ö£©</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (score &gt; <span style=color:#ae81ff>90</span>)
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>&#34;Excellent&#34;</span>);
</span></span></code></pre></div><ol start=2><li>Ç¶Ì×if</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (age &gt; <span style=color:#ae81ff>18</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (hasID)
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>&#34;Access granted&#34;</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ç¶Ì×Ì«¶à»áÈÃÂß¼­»ìÂÒ£¬½¨ÒéÊ¹ÓÃ<code>&&</code>¡¢<code>||</code>ºÏ²¢Âß¼­»òÌáÈ¡º¯Êı</p><h4 id=Ğ´>½ø½×Ğ´·¨</h4><ol><li>Ìõ¼ş±í´ïÊ½£¨ÈıÔªÔËËã·û£©</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> msg = (score &gt;= <span style=color:#ae81ff>60</span>) ? <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½&#34;</span> : <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>;
</span></span></code></pre></div><p>Ïàµ±ÓÚ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (score &gt;= <span style=color:#ae81ff>60</span>)
</span></span><span style=display:flex><span>	msg = <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>	msg=<span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>;
</span></span></code></pre></div><ol start=2><li><code>if</code>Óë<code>var</code>½áºÏ</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>int</span>.TryParse(input, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>var</span> number))
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>$&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ {number}&#34;</span>)<span style=color:#960050;background-color:#1e0010>ï¿½ï¿½</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> Console.WriteLine(<span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ğ§&#34;</span>)<span style=color:#960050;background-color:#1e0010>ï¿½ï¿½</span>
</span></span></code></pre></div><p>ÕâÀïµÄ<code>number</code>Ö»ÔÚ<code>if</code>µÄ×÷ÓÃÓòÄÚÓĞĞ§</p><h4 id=heading-5>³£¼ûÏİÚå</h4><ol><li>¶àĞĞÊ¡ÂÔ»¨À¨ºÅÏİÚå</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>&#34;Yes&#34;</span>);
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>&#34;No&#34;</span>); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½Ü»ï¿½Ö´ï¿½ï¿½</span>
</span></span></code></pre></div><ol start=2><li>»ìÓÃ<code>=</code>ºÍ<code>==</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (a = <span style=color:#66d9ef>true</span>) <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><p>C#ÌØÒâÉè¼ÆÎª´íÎó£¬·ÀÖ¹C·ç¸ñµÄµÍ¼¶´íÎó</p><p><code>if</code>ÊÇ¿ØÖÆÁ÷µÄ×îĞ¡µ¥Ôª£¬µ«³ÉÊìµÄ´úÂë¾¡Á¿¼õÉÙÏÔÊ½if</p><ul><li>Í¨¹ı²ßÂÔÄ£Ê½¡¢¶àÌ¬¡¢×ÖµäÓ³Éä¡¢switch±í´ïÊ½Ìæ´ú¸´ÔÓ·ÖÖ§</li><li><code>if</code>Ó¦¸Ã±í´ï¡°¾ö²ßµã¡±£¬¶ø²»ÊÇ¡°Á÷³ÌÄàÌ¶¡±</li></ul><h3 id=switch>switch</h3><h4 id=cÚ°æ±¾>»ù´¡Óï·¨£¨C#ÔçÆÚ°æ±¾£©</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>switch</span> (day)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>&#34;Monday&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>&#34;Tuesday&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>&#34;Unknown&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><code>switch</code>±í´ïÊ½ÀïµÄÖµ±ØĞëÊÇÕûĞÍ¡¢Ã¶¾Ù»ò×Ö·û´®£¨ÔçÆÚÏŞÖÆ£¬ÏÖÔÚ·Å¿í£©</li><li>Ã¿¸ö<code>case</code>ºó±ØĞë<code>break</code>£¨»ò<code>return</code>¡¢<code>throw</code>£©</li><li><code>default</code>ÊÇ¿ÉÑ¡µÄ£¬ÓÃÀ´¶µµ×</li></ul><h4 id=Ã¶-1>×Ö·û´®ÓëÃ¶¾ÙÖ§³Ö</h4><p>C#´ÓÔçÆÚ°æ±¾¾ÍÖ§³Ö</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>switch</span> (command)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;start&#34;</span>:
</span></span><span style=display:flex><span>		Start();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;stop&#34;</span>:
</span></span><span style=display:flex><span>		Stop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ã¶¾Ù¸ü³£¼û</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>enum</span> Direction { Up, Down, Left, Right }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> (dir)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> Direction.Up:
</span></span><span style=display:flex><span>		MoveUp();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=c7Ä£Ê½Æ¥>C#7+Ä£Ê½Æ¥Åä</h4><p>C# 7¿ªÊ¼£¬<code>switch</code>²»ÔÙ¾ÖÏŞÓÚ¡°ÏàµÈ±È½Ï¡±£¬¶øÊÇÄÜ×öÀàĞÍÆ¥ÅäÓëÌõ¼şÅĞ¶Ï</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#ae81ff>42</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> (obj)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#66d9ef>int</span> i when i &gt; <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>$&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½: {i}&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#66d9ef>string</span> s:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>$&#34;ï¿½Ö·ï¿½ï¿½ï¿½: {s}&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#66d9ef>null</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>$&#34;null Öµ&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>		Console.WriteLine(<span style=color:#e6db74>$&#34;Î´Öªï¿½ï¿½ï¿½ï¿½&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÀïÒıÈëÁËÁ½¸ö¹Ø¼üµã</p><ol><li>ÀàĞÍÄ£Ê½£¨<code>case int i</code>£©
×Ô¶¯¼ì²âÀàĞÍ²¢ÉùÃ÷¾Ö²¿±äÁ¿</li><li>Ìõ¼ş±£»¤(when)
ÈÃ<code>case</code>¿ÉÒÔ¸½¼ÓÂß¼­ÅĞ¶Ï</li></ol><h4 id=c-8-Ğ´switch-Ê½>C# 8+ ĞÂĞ´·¨£º<code>switch ±í´ïÊ½</code></h4><p><code>switch</code>²»ÔÙÊÇÓï¾ä(statement)£¬¶øÊÇ±í´ïÊ½(expression)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> GetDayType(<span style=color:#66d9ef>int</span> day) =&gt;
</span></span><span style=display:flex><span>	day <span style=color:#66d9ef>switch</span>
</span></span><span style=display:flex><span>	{
</span></span><span style=display:flex><span>		<span style=color:#ae81ff>1</span> or <span style=color:#ae81ff>2</span> or <span style=color:#ae81ff>3</span> or <span style=color:#ae81ff>4</span> or <span style=color:#ae81ff>5</span> =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#ae81ff>6</span> or <span style=color:#ae81ff>7</span> =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½Ä©&#34;</span>
</span></span><span style=display:flex><span>		_ =&gt; <span style=color:#e6db74>&#34;Î´Öª&#34;</span>
</span></span><span style=display:flex><span>	};
</span></span></code></pre></div><ul><li>²»ĞèÒª<code>break</code></li><li>ÓÃ¼ıÍ·±í´ïÊ½(<code>=></code>)</li><li>Ö§³ÖÂß¼­Ä£Ê½£¨<code>or</code>/<code>and</code>/<code>_</code>Í¨Åä·û£©</li><li>·µ»ØÖµÖ±½Ó±í´ïÂß¼­½á¹û£¬¸üº¯ÊıÊ±¡¢¸ü¸É¾»</li></ul><h5 id=statementÊ½expression>Óï¾ä(statement)Óë±í´ïÊ½(expression)</h5><table><thead><tr><th>¸ÅÄî</th><th>¶¨Òå</th><th>ÌØµã</th><th>½á¹û</th></tr></thead><tbody><tr><td>±í´ïÊ½£¨Expression£©</td><td>ÄÜ¼ÆËã³öÒ»¸öÖµµÄ´úÂëµ¥Ôª</td><td>ÓĞÖµ¡¢ÓĞÀàĞÍ¡¢¿ÉÇ¶Ì×</td><td>²úÉúÒ»¸ö½á¹û</td></tr><tr><td>Óï¾ä£¨Statement£©</td><td>Ö´ĞĞÄ³ÖÖ²Ù×÷»òĞĞÎªµÄ´úÂëµ¥Ôª</td><td>ÎŞÖµ¡¢¿ØÖÆÁ÷³Ì¡¢×÷ÓÃÓÚ×´Ì¬</td><td>²»²úÉúÖµ£¨»òÖµ±»¶ªÆú£©</td></tr></tbody></table><blockquote><p>±í´ïÊ½ÊÇ¡°ÓĞ½á¹ûµÄ¶«Î÷¡±£¬Óï¾äÊÇ¡°×öÊÂµÄ¶«Î÷¡±</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> x = <span style=color:#ae81ff>3</span> + <span style=color:#ae81ff>4</span>;
</span></span></code></pre></div><ul><li><code>3 + 4</code> ±í´ïÊ½£¨ËüÓĞÖµ£º7£©</li><li><code>int x = 3 + 4</code> Óï¾ä£¨Ëü×öÁËÒ»¼şÊÂ£º¶¨Òå²¢¸³Öµ±äÁ¿£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>x = y * <span style=color:#ae81ff>2</span>;
</span></span></code></pre></div><ul><li><code>y * 2</code>ÊÇ±í´ïÊ½£¨ÓĞÖµ£©</li><li>Õû¾ä<code>x = y * 2</code>ÊÇÓï¾ä£¨Ö´ĞĞ¸³Öµ¶¯×÷£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (x &gt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>	y = <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><ul><li><code>(x > 0)</code>ÊÇ±í´ïÊ½£¨·µ»Ø<code>true</code>»ò<code>false</code>£©</li><li><code>if (...) y = 1;</code>ÊÇÓï¾ä£¨¿ØÖÆÖ´ĞĞÁ÷³Ì£©</li></ul><ol><li>±í´ïÊ½¿ÉÒÔÇ¶Ì×¡¢×éºÏ</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> z = (x + y) * max(<span style=color:#ae81ff>3</span>, f(<span style=color:#ae81ff>2</span>));
</span></span></code></pre></div><p>Õû¸ö¶¼ÊÇ±í´ïÊ½£¬Ç¶Ì×ÁËº¯Êıµ÷ÓÃ¡¢ËãÊõÔËËã¡¢³£Á¿µÈ</p><ol start=2><li>Óï¾ä¿ØÖÆÖ´ĞĞË³Ğò</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>if</span> (...) { ... }
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (...) { ... }
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> ...;
</span></span></code></pre></div><p>ËüÃÇ¾ö¶¨´úÂë¡°Ê²Ã´Ê±ºò×öÊ²Ã´ÊÂ¡±£¬µ«×ÔÉí²»·µ»ØÖµ</p><ol start=3><li>²¿·ÖÓïÑÔÄ£ºıÁ½Õß½çÏŞ</li></ol><ul><li>ÔÚC¡¢C++¡¢C#Àï£ºÓï¾äºÍ±í´ïÊ½ÊÇ·Ö¿ªµÄ</li><li>ÔÚPython¡¢Rust¡¢Scala¡¢F#Àï£ººÜ¶àÓï¾äÆäÊµ¶¼ÊÇ±í´ïÊ½</li></ul><p>ÏÖ´úÓïÑÔÉè¼ÆÇ÷ÏòÓÚ¡°ÈÃÓï¾ä±í´ïÊ½»¯¡±£¬ÕâÑù¿ÉÒÔĞ´³ö¸ü¼ò½àµÄ´úÂë</p><h4 id=c-912Ä¾Ò»Ç¿>C# 9~12µÄ½øÒ»²½Ç¿»¯</h4><ol><li>¹ØÏµÄ£Ê½</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> GetTempDesc(<span style=color:#66d9ef>double</span> t) =&gt; t <span style=color:#66d9ef>switch</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	&lt; <span style=color:#ae81ff>0</span> =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	&gt;= <span style=color:#ae81ff>0</span> and &lt; <span style=color:#ae81ff>30</span> =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	&gt;= <span style=color:#ae81ff>30</span> =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><ol start=2><li>ÊôĞÔÄ£Ê½</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Person p = <span style=color:#66d9ef>new</span> Person { Name = <span style=color:#e6db74>&#34;Tom&#34;</span>, Age = <span style=color:#ae81ff>20</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> type = p <span style=color:#66d9ef>switch</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	{ Age: &lt; <span style=color:#ae81ff>18</span> } =&gt; <span style=color:#e6db74>&#34;Î´ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	{ Age: &gt;= <span style=color:#ae81ff>18</span> and &lt; <span style=color:#ae81ff>65</span> } =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	{ Age: &gt;= <span style=color:#ae81ff>65</span> } =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>Ç¶Ì×½â¹¹Ä£Ê½</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>var</span> result = point <span style=color:#66d9ef>switch</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	{ X: <span style=color:#ae81ff>0</span>, Y: <span style=color:#ae81ff>0</span> } =&gt; <span style=color:#e6db74>&#34;Ô­ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	{ X: &gt; <span style=color:#ae81ff>0</span>, Y: &gt; <span style=color:#ae81ff>0</span> } =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½&#34;</span>,
</span></span><span style=display:flex><span>	_ =&gt; <span style=color:#e6db74>&#34;ï¿½ï¿½ï¿½ï¿½&#34;</span>, 
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>ÕâĞ©ĞÂÌØĞÔÈÃ<code>switch</code>±ä³ÉÒ»ÖÖÄ£Ê½Æ¥ÅäÒıÇæ£¬¶ø²»½ö½öÊÇ·ÖÖ§Óï¾ä</p><h4 id=heading-6>³£¼ûÏİÚå</h4><ol><li>ÍüÁË<code>break</code>£¨ÀÏÓï·¨»áµ¼ÖÂ´©Í¸£©</li><li>»ìÓÃÖµÀàĞÍºÍÒıÓÃÀàĞÍµ¼ÖÂÆ¥ÅäÊ§°Ü</li><li>ÔçÆÚC#²»Ö§³Ö¶à¸ö<code>case</code>ºÏ²¢£¬ÏÖÔÚ¿ÉÓÃ<code>or</code></li></ol><h4 id=Ñ§>ºËĞÄÕÜÑ§</h4><p>C#µÄ<code>switch</code>´ÓÃüÁîÊ½×ßÏòÉùÃ÷Ê½£¬´Ó¡°ÅĞ¶ÏË­¡±±ä³É¡°ÃèÊöÄ£Ê½¡±<br>ÕâÖÖ±ä»¯µÄ±¾ÖÊ£¬ÊÇ°Ñ¿ØÖÆÁ÷Âß¼­½á¹¹»¯¡¢Êı¾İ»¯¡¢º¯Êı»¯</p></div><nav class=post-nav><a href=/dotnetandwindows/log/clr/ class=hover:underline>pre: CLR</a>
<a href=/dotnetandwindows/log/datastructure/ class=hover:underline>next: Data Structure</a></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#while--do-while>while / do while</a><ul><li><a href=#while><code>while</code></a></li><li><a href=#do-while><code>do while</code></a></li></ul></li><li><a href=#for-foreach-getenumerator><code>for</code>, <code>foreach</code>, <code>GetEnumerator()</code></a><ul><li><a href=#for><code>for</code></a><ul><li><a href=#heading>ºËĞÄÌØĞÔ</a></li><li><a href=#Ú´Ó½>ĞÔÄÜÓëÄÚ´æÊÓ½Ç</a></li></ul></li><li><a href=#foreachgetenumerator><code>foreach</code>Óë<code>GetEnumerator</code></a><ul><li><a href=#foreachÒ¹><code>foreach</code>²éÕÒ¹æÔò</a><ul><li><a href=#1-Æ¿Ú¿É·ÊµÊµ>1. ÊÇ·ñ´æÔÚ¿É·ÃÎÊµÄÊµÀı·½·¨</a></li><li><a href=#2-Ã»Êµ>2. Èç¹ûÃ»ÓĞÊµÀı·½·¨</a></li><li><a href=#3-Ã»>3. Èç¹û¶¼Ã»ÓĞ</a></li></ul></li><li><a href=#Ò»Ç½Ó¿Ú¡Ã¶>Ò»¸ö¡°·Ç½Ó¿Ú¡±µÄÃ¶¾ÙÆ÷Àı×Ó</a></li><li><a href=#foreachÄµ>±àÒëÆ÷¶Ô<code>foreach</code>µÄ´¦Àí</a></li><li><a href=#getenumerator><code>GetEnumerator()</code></a><ul><li><a href=#heading-1>»ù±¾¸ÅÄî</a></li><li><a href=#Õ¢ã¶¨>ÓïÑÔ²ã¶¨Òå</a></li><li><a href=#getenumeratorÃ¶Ñ><code>GetEnumerator()</code>ÓëÃ¶¾ÙÆ÷Ğ­Òé</a></li><li><a href=#getenumeratorÊµÊ½><code>GetEnumerator()</code>µÄÁ½ÖÖÊµÏÖ·½Ê½</a></li></ul></li><li><a href=#getenumeratorÚµ><code>GetEnumerator</code>´æÔÚµÄÒâÒå</a></li><li><a href=#Ã¶-vs-Ó¿Ã¶>ÖµÀàĞÍÃ¶¾ÙÆ÷ vs ½Ó¿ÚÃ¶¾ÙÆ÷</a></li><li><a href=#heading-2>Ö»¶Á±éÀú</a><ul><li><a href=#foreachÄº><code>foreach</code>µÄºËĞÄÓïÒå</a></li><li><a href=#ÏŠÊ²Ã´Æ´É¡Ğ´foreach>ÎªÊ²Ã´²»ÄÜÉè¼Æ³É¡°¿ÉĞ´foreach¡±</a></li><li><a href=#Ã¶>ÖµÀàĞÍÃ¶¾ÙÆ÷</a></li><li><a href=#foreachÄ·><code>foreach</code>ÖĞÔÊĞíĞŞ¸Ä¶ÔÏóµÄ×Ö¶Î</a></li><li><a href=#ref-foreach><code>ref foreach</code></a></li></ul></li><li><a href=#æ±¾>°æ±¾¼ì²é</a><ul><li><a href=#heading-3>¶¨Òå</a></li><li><a href=#heading-4>×÷ÓÃ</a></li><li><a href=#Ğ»>ÔËĞĞ»úÖÆ</a></li></ul></li></ul></li><li><a href=#structÂµÏŠ>ÖµÀàĞÍ£¨struct£©ÏÂµÄĞĞÎª²»Í¬µã</a></li><li><a href=#Ã³>ÊÊÓÃ³¡¾°</a></li></ul></li><li><a href=#if>if</a><ul><li><a href=#á¹¹>»ù±¾½á¹¹</a></li><li><a href=#Ê½Ò«>Ìõ¼ş±í´ïÊ½µÄÒªÇó</a></li><li><a href=#Ğ´Æ•>¼òĞ´ÓëÇ¶Ì×</a></li><li><a href=#Ğ´>½ø½×Ğ´·¨</a></li><li><a href=#heading-5>³£¼ûÏİÚå</a></li></ul></li><li><a href=#switch>switch</a><ul><li><a href=#cÚ°æ±¾>»ù´¡Óï·¨£¨C#ÔçÆÚ°æ±¾£©</a></li><li><a href=#Ã¶-1>×Ö·û´®ÓëÃ¶¾ÙÖ§³Ö</a></li><li><a href=#c7Ä£Ê½Æ¥>C#7+Ä£Ê½Æ¥Åä</a></li><li><a href=#c-8-Ğ´switch-Ê½>C# 8+ ĞÂĞ´·¨£º<code>switch ±í´ïÊ½</code></a><ul><li><a href=#statementÊ½expression>Óï¾ä(statement)Óë±í´ïÊ½(expression)</a></li></ul></li><li><a href=#c-912Ä¾Ò»Ç¿>C# 9~12µÄ½øÒ»²½Ç¿»¯</a></li><li><a href=#heading-6>³£¼ûÏİÚå</a></li><li><a href=#Ñ§>ºËĞÄÕÜÑ§</a></li></ul></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>Â© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
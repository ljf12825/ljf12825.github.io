<!doctype html><html lang=en><head><meta name=page-kind content="page"><meta charset=UTF-8><title>Data Type and Convert</title><link rel=stylesheet href=/css/style.css><link href=https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/prism.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-ini.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><link rel=stylesheet href=/css/logsingle.css></head><body><header class=site-header><div class=container><div class=terminal-overlay aria-label=terminal-prompt><span id=typed-line></span><span class=cursor>â–ˆ</span></div></div></header><nav class=topnav><div class=container><ul><li><a href=/dotnetandwindows/>â˜…</a></li><li><a href=/dotnetandwindows/lab/>Lab</a></li><li><a href=/dotnetandwindows/log/>Log</a></li><li><a href=/dotnetandwindows/file/>File</a></li></ul></div></nav><nav id=star-nav><div id=star-header><span class="title open">>> >> >> Navigation &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Nav>>>>>></span></div><pre class=ascii>
+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+
|                        <a class=nav-item data-path=/rightbrain/ href=/rightbrain/>RightBrain</a>                            |
|                             |                                |
|                             |     <a class=nav-item data-path=/dotnetandwindows/ href=/dotnetandwindows/>.NET-Windows</a>               |
|                             |    /                           |
|                             |   /                            |
|                             |  /                             |
|                             | /                              |
|                             |/                               |
|      <a class=nav-item data-path=/graphic/ href=/graphic/>Graphic</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” <a class=nav-item data-path=/home/ href=/home/>Home</a> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” <a class=nav-item data-path=/runtime/ href=/runtime/>Runtime</a>         |
|                            /|                                |
|                           / |                                |
|                          /  |                                |
|                         /   |       <a class=nav-item data-path=/language/ href=/language/>Language</a>                 |
|                        /    |      /                         |
|                       /     |     /                          |
|              <a class=nav-item data-path=/unixlike/ href=/unixlike/>Unix-like</a>      |    /           <a class=nav-item data-path=/project/ href=/project/>Project</a>         |
|                             |   /            <a class=nav-item data-path=/miscellaneous/ href=/miscellaneous/>Miscellaneous</a>   |
|                        <a class=nav-item data-path=/leftbrain/ href=/leftbrain/>LeftBrain</a>             <a class=nav-item data-path=/ai/ href=/ai/>AI</a>              |
+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+
    </pre></nav><script defer src=/js/star-nav.js></script><script defer src=/js/site.js></script><script defer src=/js/star-active.js></script><div id=ref-window class="float-window open"><div class=float-header><span class="title open">>> >> >> Reference &lt;&lt; &lt;&lt; &lt;&lt;</span>
<span class="title closed">&lt;&lt;&lt;&lt;&lt;&lt;Ref>>>>>></span></div><div class=float-body><div class=ref-list><a href=https://www.mixamo.com/ target=_blank>Mixamo</a> |
<a href=https://opengameart.org/ target=_blank>OpenGameArt</a><p><a href=https://sharplab.io/ target=_blank>SharpLab</a> |
<a href=https://godbolt.org/ target=_blank>Compiler Explorer</a></p><p><a href="https://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type+Something+&x=none&v=4&h=4&w=80&we=false" target=_blank>ASCII Graph Generator</a></p><p><a href=https://mermaid.js.org/ target=_blank>Mermaid</a></p><a href=https://www.vim.org/ target=_blank>Vim</a> | <a href=https://vimdoc.sourceforge.net/ target=_blank>Vim Manual Source</a> |
<a href=https://vimcdoc.sourceforge.net/ target=_blank>Vimcdoc</a> | <a href=https://vimcdoc.sourceforge.net/doc/help.html target=_blank>Vimdoc read online</a><p><a href=https://shields.io/ target=_blank>Shields.io</a></p><p><a href=https://emojidb.org/ target=_blank>EmojiDB</a></p><p><a href=https://cppreference.com/ target=_blank>cppreference</a></p><p><a href=https://gcc.gnu.org/onlinedocs/ target=_blank>GCC Docs</a></p><p><a href=https://clang.llvm.org/docs/ target=_blank>Clang Docs</a></p><p><a href=https://www.boost.org/libraries/ target=_blank>Boost Library Docs</a></p><p><a href=https://learn.microsoft.com/en-us/dotnet/csharp/ target=_blank>Microsoft Learn</a><p><a href=https://www.lua.org/manual/5.4/ target=_blank>Lua 5.4 Reference Manual</a><p><a href=https://docs.unity3d.com/Manual/index.html target=_blank>Unity Manual</a> |
<a href=https://docs.unity3d.com/ScriptReference/index.html target=_blank>Unity API</a></p><p><a href=https://docs.unrealengine.com/ target=_blank>Unreal Engine Docs</a></p><p><a href=https://godotengine.org target=_blank>Godot</a> |
<a href=https://docs.godotengine.org/en/stable/ target=_blank>Godot Docs</a></p><p><a href=https://z-library.sk/ target=_blank>Z-Library</a> : eBook Library</p><p><a href=https://docs.kernel.org/ target=_blank>Linux Kernel Docs</a></p><p><a href=https://www.gnu.org/ target=_blank>GNU</a> : manuals, philosophy, FAQ</p><a href=https://archlinux.org/ target=_blank>ArchLinux</a><p><a href=https://help.ubuntu.com/ target=_blank>Ubuntu Doc</a> |
<a href=https://ubuntu.com/server/docs target=_blank>Ubuntu Server Guide</a></p><p><a href=https://www.vulkan.org/ target=_blank>Vulkan</a> |
<a href=https://docs.vulkan.org/ target=_blank>Vulkan Docs</a></p><p><a href=https://www.opengl.org/ target=_blank>OpenGL</a> |
<a href=https://registry.khronos.org/OpenGL target=_blank>OpenGL API</a> |
<a href=https://www.khronos.org/opengl/wiki/ target=_blank>OpenGL Wiki</a></p><p><a href=https://learn.microsoft.com/en-us/windows/win32/directx target=_blank>DirectX</a></p><p><a href=https://www.realtimerendering.com/ target=_blank>Real-Time Rendering</a></p><p><a href=https://www.pbr-book.org/ target=_blank>Physically Based Rendering</a></p><p><a href=https://www.scratchapixel.com/ target=_blank>Scratchapixel</a></p><p><a href=https://learnopengl.com/ target=_blank>LearnOpenGL</a></p><p><a href=https://raytracing.github.io/ target=_blank>Ray Tracing in One Weekend</a></p><p><a href=https://www.shadertoy.com/ target=_blank>Shadertoy</a></p><p><a href=https://arxiv.org/list/cs.GR/recent target=_blank>arXiv Graphics</a></p><p><a href=https://www.siggraph.org/ target=_blank>SIGGRAPH</a> |
<a href=https://dl.acm.org/conference/siggraph target=_blank>SIGGRAPH Digital Library</a></p><p><a href=https://git-scm.com/ target=_blank>Git</a> |
<a href=https://git-scm.com/doc target=_blank>Docs</a> |
<a href=https://git-scm.com/community target=_blank>Community</a></p></div></div></div><script src=/js/ref-window.js></script><article class=single_article><div class=title>Data Type and Convert<div class=meta>Modified: 2025-06-01
| Authorï¼šljf12825</div></div><div class=content><p>C#ÖĞµÄÊı¾İÀàĞÍ¿ÉÒÔ·ÖÎªÖµÀàĞÍ¡¢ÒıÓÃÀàĞÍ¡¢Ö¸ÕëÀàĞÍ</p><h2 id=value-types>ÖµÀàĞÍ£¨Value Types£©</h2><p>±äÁ¿Ö±½Ó°üº¬ÆäÖµ£¬¶ø²»ÊÇÒıÓÃ</p><p>ËüÃÇÍ¨³£·ÖÅäÔÚÕ»ÉÏ£¨Ò²¿ÉÄÜÔÚ¶ÑÉÏ£¬È¡¾öÓÚÉÏÏÂÎÄ£©</p><h3 id=Øµ>ÌØµã</h3><ul><li>´æ´¢Î»ÖÃ£ºÍ¨³£ÔÚstackÉÏ·ÖÅä</li><li>ÖµµÄ¸´ÖÆ·½Ê½£º¸³ÖµÊ±¸´ÖÆÕû¸öÖµ±¾Éí£¬Á½¸ö±äÁ¿»¥²»Ó°Ïì</li><li>Ä¬ÈÏÖµ£ºÃ»ÓĞÏÔÊ¾³õÊ¼»¯Ê±£¬¾ßÓĞÄ¬ÈÏÖµ</li><li>¼Ì³ĞÏŞÖÆ£º²»ÄÜ´ÓÁíÒ»¸öÖµÀàĞÍ¼Ì³Ğ£¬Ö»ÄÜ¼Ì³Ğ×Ô<code>System.ValueType</code></li></ul><h3 id=heading>³£¼ûµÄÖµÀàĞÍ</h3><ol><li>ÄÚÖÃ»ù±¾ÀàĞÍ£¨C#¹Ø¼ü×Ö£©</li></ol><ul><li><p>ÕûÊıÀàĞÍ Ä¬ÈÏÖµ£º0</p><ul><li>int 4Byte</li><li>uint 4Byte</li><li>short 2Byte</li><li>ushort 2Byte</li><li>long 8Byte</li><li>ulong 8Byte</li><li>byte 1Byte (uint)</li><li>sbyte 1Byte (signed)</li></ul></li><li><p>¸¡µãÀàĞÍ Ä¬ÈÏÖµ£º0.0</p><ul><li>float 4Byte</li><li>double 8Byte</li><li>decimal 16Byte</li></ul></li><li><p>²¼¶ûÀàĞÍ Ä¬ÈÏÖµ£ºflase</p><ul><li>bool 1Byte</li></ul></li></ul><ol start=2><li>Ã¶¾ÙÀàĞÍ(<code>enum</code>)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>enum</span> Day { Sunday, Monday, Tuesday }
</span></span></code></pre></div><ul><li>±¾ÖÊÉÏÊ±ÕûÊıÀàĞÍ£¨Ä¬ÈÏÎª<code>int</code>£©</li><li>ÊÇÖµÀàĞÍ£¬´æ´¢Îª¶ÔÓ¦µÄÊıÖµ</li></ul><ol start=3><li>½á¹¹ÌåÀàĞÍ(<code>struct</code>)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Point</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> X;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Y;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>ÓÃ»§×Ô¶¨ÒåµÄ¸´ºÏÖµÀàĞÍ</li><li>²»Ö§³Ö¼Ì³ĞÆäËû½á¹¹Ìå£¬µ«¿ÉÊµÏÖ½Ó¿Ú</li><li>ÊÇ<code>System.ValueType</code>µÄ×ÓÀà</li></ul><ol start=4><li><code>Nullable&lt;T></code>£¨¿É¿ÕÖµÀàĞÍ£©
¿É¿ÕÖµÀàĞÍÊÇC#ÖĞÓÃÓÚ¸øÖµÀàĞÍÌí¼Ó<code>null</code>±íÊ¾ÄÜÁ¦µÄÒ»ÖÖÓï·¨ºÍÓïÒåÀ©Õ¹£¬Ö÷Òª½â¾ö¡°ÖµÀàĞÍ²»ÄÜÎªnull¡±µÄÏŞÖÆ
ºÜ¶àÇé¿öÏÂ£¬ÖµÀàĞÍĞèÒªÒ»¸ö¡°Î´¸³Öµ¡±»ò¡°ÎŞÖµ¡±µÄ×´Ì¬£¬ÀıÈç\</li></ol><ul><li>Êı¾İ¿âÖĞµÄ<code>int?</code>×Ö¶Î</li><li>UIÊäÈë¿òÖĞµÄ¿ÉÑ¡ÊıÖµ</li><li>ÍøÂç´«ÊäÖĞµÄ¿ÉÄÜÈ±Ê§µÄ×Ö¶Î</li></ul><p>¶¨Òå·½Ê½£¨Á½ÖÖµÈ¼Û£©</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int?</span> x = <span style=color:#66d9ef>null</span>; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½Ğ´ï¿½ï¿½ï¿½ï¿½ï¿½ï·¨ï¿½Ç£ï¿½</span>
</span></span><span style=display:flex><span>Nullale&lt;<span style=color:#66d9ef>int</span>&gt; x = <span style=color:#66d9ef>null</span>; <span style=color:#75715e>// ï¿½È¼ï¿½Ğ´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê£ï¿½</span>
</span></span></code></pre></div><p>¿ÉÒÔÓÃÔÚÈÎºÎÖµÀàĞÍÉÏ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>bool?</span> b;
</span></span><span style=display:flex><span><span style=color:#66d9ef>float?</span> f;
</span></span><span style=display:flex><span><span style=color:#66d9ef>decimal?</span> money;
</span></span><span style=display:flex><span>DateTime? birthday;
</span></span></code></pre></div><p>Nullable<t>µÄ±¾ÖÊ<br>±àÒëÆ÷±³ºóµÄÔ­ÀíÊÇÕâ¸ö½á¹¹Ìå</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Nullable</span>&lt;T&gt; <span style=color:#66d9ef>where</span> T : <span style=color:#66d9ef>struct</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> T Value { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> HasValue { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ËùÒÔ<code>int?</code>±¾ÖÊÉÏÊÇ<code>Nullable&lt;int></code>£¬°üº¬Á½²¿·Ö</p><ul><li><code>Value</code>£º´æ´¢Êµ¼ÊÊıÖµ</li><li><code>HasValue</code>£ºÊÇ·ñÓĞÖµ£¨²»ÊÇnull£©</li></ul><p><code>HasValue</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int?</span> a = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>Console.WriteLine(a.HasValue); <span style=color:#75715e>// false</span>
</span></span></code></pre></div><p><code>Value</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int?</span> b = <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (b.HasValue)
</span></span><span style=display:flex><span>	Console.WriteLine(b.<span style=color:#66d9ef>value</span>); <span style=color:#75715e>// 10</span>
</span></span></code></pre></div><p>Èç¹û·ÃÎÊ<code>null</code>ÖµµÄ<code>.Value</code>£¬»áÅ×³öÒì³£<code>InvalidOperationException</code></p><p>¿ÕºÏ²¢ÔËËã·û<code>??</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int?</span> age = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> realAge = age ?? <span style=color:#ae81ff>18</span>; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ageï¿½ï¿½nullï¿½ï¿½ï¿½ï¿½Ê¹ï¿½ï¿½18</span>
</span></span></code></pre></div><p>¿É¿ÕÖµÔËËã</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int?</span> a = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int?</span> b = <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int?</span> c = a + b; <span style=color:#75715e>// c == null, ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½nullï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½null</span>
</span></span></code></pre></div><p><strong>ÅĞ¶ÏÒ»¸öÀàĞÍÊÇ·ñÊÇÖµÀàĞÍ</strong><br>¿ÉÒÔÊ¹ÓÃ<code>typeof(T).IsValueType</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Console.WriteLine(<span style=color:#66d9ef>typeof</span>(<span style=color:#66d9ef>int</span>).IsValueType); <span style=color:#75715e>// True</span>
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#66d9ef>typeof</span>(stirng).IsValueType); <span style=color:#75715e>// False</span>
</span></span></code></pre></div><p><strong>ÅĞ¶ÏÒ»¸öÀàĞÍµÄ´óĞ¡</strong><br>¿ÉÒÔÊ¹ÓÃ<code>sizeof(T)</code></p><p><strong>»ñÈ¡ÀàĞÍÃû</strong><br><code>this.GetType().Name</code>, <code>typeof(T).Name</code></p><h3 id=systemvaluetype>System.ValueType</h3><p><code>System.ValueType</code>ÊÇ.NETÀàĞÍÏµÍ³ÖĞµÄÒ»¸ö»ù´¡Àà£¬Î»ÓÚ<code>System</code>ÃüÃû¿Õ¼äÖĞ£¬ËüÊÇËùÓĞÖµÀàĞÍ(value types)µÄ»ùÀà£¬Æä´æÔÚÒâÒåÖ÷ÒªÊÇÎªÁËÈÃÖµÀàĞÍ¿ÉÒÔ×÷Îª¶ÔÏó(object)Ê¹ÓÃ</p><p><code>System.ValueType</code>ÊÇÖµÀàĞÍµÄ³éÏó¸¸Àà£¬±¾ÉíÊÇÒ»¸öÒıÓÃÀàĞÍ£¬Ëü¼Ì³Ğ×Ô<code>System.Object</code>£¬µ«×¨ÃÅÎªÖµÀàĞÍÌá¹©ÁËÒ»Ğ©ÌØĞÔ</p><blockquote><p>ËùÓĞÓÃ<code>struct</code>¹Ø¼ü×Ö¶¨ÒåµÄÀàĞÍ£¬¶¼»á×Ô¶¯¼Ì³Ğ<code>System.ValueType</code>£¬ÕâÓë<code>class</code>×Ô¶¯¼Ì³Ğ<code>System.Object</code>ÀàËÆ</p></blockquote><h3 id=valuetype>ValueTypeµÄ×÷ÓÃ</h3><ol><li>ÊµÏÖÖµÀàĞÍºÍÒıÓÃÀàĞÍµÄÇÅÁº</li></ol><ul><li>ËäÈ»ÖµÀàĞÍ±¾ÖÊ²»ÊÇ¶ÔÏó£¬µ«ÒòÎª¼Ì³ĞÁË<code>ValueType</code>£¬ËüÃÇ¿ÉÒÔ±»×°Ïä(Boxing)£¬´Ó¶øÒÔ<code>object</code>µÄĞÎÊ½Ê¹ÓÃ</li></ul><ol start=2><li>ÖØĞ´ÁË<code>Object</code>µÄ·½·¨
<code>ValueType</code>ÖØĞ´ÁË<code>Equals</code>¡¢<code>GetHashCode</code>ºÍ<code>ToStirng</code>·½·¨£¬Ê¹µÃ½á¹¹ÌåÄÜ¹»ÕıÈ·µØ±È½ÏºÍÏÔÊ¾ÄÚÈİ</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Point</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> X;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Y;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>Point p1 = <span style=color:#66d9ef>new</span> Point { X = <span style=color:#ae81ff>1</span>, Y = <span style=color:#ae81ff>2</span> };
</span></span><span style=display:flex><span>Point p2 = <span style=color:#66d9ef>new</span> Point { X = <span style=color:#ae81ff>1</span>, Y = <span style=color:#ae81ff>2</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Console.WriteLine(p1.Equals(p2)); <span style=color:#75715e>// ï¿½È½ï¿½ï¿½Ö¶Î¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><p>ÎªËùÓĞÖµÀàĞÍÍ³Ò»Ìá¹©¶Ô<code>System.Object</code>µÄ·½·¨µÄ¡°Ä¬ÈÏÌØ»¯ÊµÏÖ¡±</p><ul><li><code>System.Object.Equals()</code>Ä¬ÈÏÊÇÒıÓÃ±È½Ï(==)</li><li><code>System.Object.GetHashCOde()</code>Ä¬ÈÏ»ùÓÚÒıÓÃµØÖ·Éú³Éhash</li><li><code>System.Object.ToString()</code>Ä¬ÈÏ·µ»ØÀàĞÍÃû</li></ul><p>¶øÕâĞ©¶ÔÓÚÖµÀàĞÍÀ´ËµÊÇ²»ºÏÀíµÄ</p><p>ÔÚÄÚ²¿£¬<code>System.ValueType</code>ÖØĞ´ÁËÕâĞ©·½·¨</p><ol><li><code>Equals(object obj)</code></li></ol><ul><li>·´Éä·½Ê½£º±È½ÏÁ½¸öÖµÀàĞÍÊµÀıµÄÃ¿¸ö×Ö¶ÎÊÇ·ñÏàµÈ</li><li>Èç¹ûÃ»ÓĞÊÖ¶¯ÖØĞ´½á¹¹ÌåµÄ<code>Equals</code>£¬Ëü»á×Ô¶¯±È½Ï×Ö¶ÎÖµ</li></ul><ol start=2><li><code>GetHashCode()</code></li></ol><ul><li>»ùÓÚ×Ö¶Î¼ÆËã¹şÏ£Öµ£¬¶ø²»ÊÇÏñ<code>Object</code>ÄÇÑù»ùÓÚµØÖ·</li></ul><ol start=3><li><code>ToString()</code></li></ol><ul><li>Ä¬ÈÏĞĞÎªÊÇ´òÓ¡×Ö¶ÎÁĞ±í£¨²»ÈçÀàÄÇÑùÏêÏ¸£¬½¨ÒéÊÖ¶¯ÖØĞ´£©</li></ul><p>ËäÈ»<code>ValueType</code>×öÁË×Ö¶Î±È½Ï£¬µ«ĞÔÄÜ²»Ëã¸ß£¬ÒòÎªÊ¹ÓÃµÄÊÇ·´Éä£¨ÓÈÆäÔÚ<code>Equals()</code>ÖĞ)</p><p>ËùÒÔÔÚĞÔÄÜÃô¸Ğ³¡¾°£¨Èç´óÁ¿½á¹¹Ìå±È½Ï£©ÍÆ¼öÊÖ¶¯ÖØĞ´</p><h2 id=reference-types>ÒıÓÃÀàĞÍ(Reference Types)</h2><p>ÔÚC#ÖĞ£¬ÒıÓÃÀàĞÍ±íÊ¾±äÁ¿ÖĞ´æ´¢µÄÊÇ¶ÔÏóµÄÒıÓÃµØÖ·£¬¶ø²»ÊÇ¶ÔÏó±¾Éí¡£¶ÔÏóµÄÊµ¼ÊÊı¾İ´æ´¢ÔÚÍĞ¹Ü¶ÑÖĞ</p><table><thead><tr><th>ÌØĞÔ</th><th>ÖµÀàĞÍ£¨Value Type£©</th><th>ÒıÓÃÀàĞÍ£¨Reference Type£©</th></tr></thead><tbody><tr><td>´æ´¢Î»ÖÃ</td><td>Õ»»òÇ¶Èëµ½¶ÔÏóÖĞ</td><td>¶Ñ£¨Êµ¼Ê¶ÔÏó£©£¬Õ»ÖĞ´æ´¢ÒıÓÃ</td></tr><tr><td>ÊÇ·ñ¸´ÖÆ¶ÔÏó</td><td>ÊÇ£¬°´Öµ¸´ÖÆ</td><td>·ñ£¬¸´ÖÆµÄÊÇÒıÓÃ</td></tr><tr><td>¿ÉÎª null</td><td>·ñ£¨³ı·ÇÊÇ <code>Nullable&lt;T></code>£©</td><td>ÊÇ</td></tr><tr><td>¼Ì³Ğ</td><td>²»ÄÜ¼Ì³Ğ£¨Ö»ÄÜ¼Ì³Ğ×Ô <code>System.ValueType</code>£©</td><td>¿É¼Ì³Ğ</td></tr><tr><td>Ä¬ÈÏ±È½ÏĞĞÎª</td><td>±È½ÏÄÚÈİ</td><td>±È½ÏÒıÓÃµØÖ·£¨³ı·ÇÖØĞ´ <code>Equals</code>£©</td></tr></tbody></table><table><thead><tr><th>ÀàĞÍÖÖÀà</th><th>ËµÃ÷</th><th>Ê¾Àı</th></tr></thead><tbody><tr><td><code>class</code></td><td>Àà£¬ÊÇ×î³£ÓÃµÄÒıÓÃÀàĞÍ</td><td><code>class Person {}</code></td></tr><tr><td><code>interface</code></td><td>½Ó¿Ú£¬Ò²ÊÇÒıÓÃÀàĞÍ</td><td><code>interface IMovable {}</code></td></tr><tr><td><code>delegate</code></td><td>Î¯ÍĞ£¬ÓÃÓÚº¯Êı¶ÔÏó</td><td><code>delegate void Action();</code></td></tr><tr><td><code>object</code></td><td>ËùÓĞÒıÓÃÀàĞÍµÄ»ùÀà</td><td><code>object obj = new Person();</code></td></tr><tr><td><code>string</code></td><td>×Ö·û´®ÊÇÌØÊâµÄÒıÓÃÀàĞÍ£¨**²»¿É±ä**£©</td><td><code>string s = "hello";</code></td></tr></tbody></table><p>ÄÚ´æ½á¹¹£ºÒıÓÃÀàĞÍµÄÉúÃüÖÜÆÚ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½:
</span></span><span style=display:flex><span>Person p = new Person();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ï¿½Ú´æ²¼ï¿½ï¿½:
</span></span><span style=display:flex><span>+--------------------+
</span></span><span style=display:flex><span>| Õ»ï¿½Ú´ï¿½             |
</span></span><span style=display:flex><span>|--------------------|
</span></span><span style=display:flex><span>| p (ï¿½ï¿½ï¿½Ãµï¿½Ö·) ------|------+
</span></span><span style=display:flex><span>+--------------------+      |
</span></span><span style=display:flex><span>                            |
</span></span><span style=display:flex><span>+--------------------+      |
</span></span><span style=display:flex><span>| ï¿½ï¿½ï¿½Ú´ï¿½             | &lt;----+
</span></span><span style=display:flex><span>|--------------------|
</span></span><span style=display:flex><span>| Person Êµï¿½ï¿½        |
</span></span><span style=display:flex><span>| name = &#34;Jeff&#34;      |
</span></span><span style=display:flex><span>+--------------------+
</span></span></code></pre></div><p>Õ»ÖĞ±£´æ±äÁ¿<code>p</code>µÄÒıÓÃµØÖ·£¬¶ÑÖĞ´æ´¢Êµ¼ÊµÄ<code>Person</code>¶ÔÏó¡£µ±ÒıÓÃÊ§Ğ§£¬GC»á×Ô¶¯ÇåÀí¶ÔÏó</p><h3 id=Ç³>Éî¿½±´ÓëÇ³¿½±´</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> { <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Name; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Person p1 = <span style=color:#66d9ef>new</span> Person { Name = <span style=color:#e6db74>&#34;Alice&#34;</span> };
</span></span><span style=display:flex><span>Person p2 = p1; <span style=color:#75715e>// p2ï¿½ï¿½ï¿½ï¿½Í¬Ò»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>p2.Name = <span style=color:#e6db74>&#34;Bob&#34;</span>;
</span></span><span style=display:flex><span>Console.WriteLine(p1.Name); <span style=color:#75715e>// Bob</span>
</span></span></code></pre></div><blockquote><p>Á½¸ö±äÁ¿Ö¸ÏòÍ¬Ò»¿é¶ÑÄÚ´æ£¬ĞŞ¸ÄÆäÖĞÒ»¸ö±äÁ¿µÄ×Ö¶Î£¬ÁíÒ»¸ö±äÁ¿Ò²»á·´Ó³Õâ¸öĞŞ¸Ä</p></blockquote><ul><li>Ç³¿½±´£º¸´ÖÆÒıÓÃ£¨Ä¬ÈÏĞĞÎª£¬Ê¹ÓÃ<code>MemberwiseClone()</code>£©</li><li>Éî¿½±´£º¸´ÖÆÕû¸ö¶ÔÏóÄÚÈİ£¨ĞèÊÖ¶¯ÊµÏÖ£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> Person DeepCopy() =&gt; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Person { Name = <span style=color:#66d9ef>string</span>.Copy(<span style=color:#66d9ef>this</span>.Name) };
</span></span></code></pre></div><p>»òÕßÊ¹ÓÃĞòÁĞ»¯¼¼ÊõÊµÏÖÉî¿½±´£¨Èç<code>JsonSerializer</code>/<code>BinaryFormatter</code>£©</p><h3 id=Ä­ÏŠ>ÒıÓÃÀàĞÍµÄÄ¬ÈÏĞĞÎª</h3><table><thead><tr><th>·½·¨</th><th>Ä¬ÈÏĞĞÎª</th></tr></thead><tbody><tr><td><code>Equals()</code></td><td>±È½ÏÒıÓÃµØÖ·£¨¿ÉÖØĞ´£©</td></tr><tr><td><code>GetHashCode()</code></td><td>ÓëÒıÓÃÏà¹Ø£¨¿ÉÖØĞ´£©</td></tr><tr><td><code>==</code> ÔËËã·û</td><td>±È½ÏµØÖ·£¨³ı·Ç±»ÖØÔØ£¬ÀıÈç <code>string</code>£©</td></tr></tbody></table><h3 id=gc>ÒıÓÃÀàĞÍÓëGC</h3><p>ÒıÓÃÀàĞÍ¶ÔÏóÎ»ÓÚÍĞ¹Ü¶ÑÖĞ£¬ÓÉCLRµÄGC¹ÜÀíÄÚ´æ</p><p><strong>GC»ØÊÕÌõ¼ş</strong></p><ul><li>Ã»ÓĞÈÎºÎ»î¶¯ÒıÓÃÖ¸Ïò¸Ã¶ÔÏó</li><li>²»ÊÇ±»¸ù¶ÔÏó£¨Èç¾Ö²¿±äÁ¿¡¢¾²Ì¬×Ö¶Î£©ÒıÓÃµÄ¶ÔÏó</li></ul><p>C#µÄÎö¹¹º¯Êı²»È·¶¨ºÎÊ±µ÷ÓÃ£¬ÓÉGC¿ØÖÆ</p><h3 id=ÏŠÊ²Ã´Ò«Ã¶>ÎªÊ²Ã´ĞèÒªÒıÓÃ¶ÔÏó</h3><p>ÓĞºÜ¶àÊµ¼ÊĞèÇóÎŞ·¨Í¨¹ıÖµÀàĞÍ£¨¿½±´£©À´Íê³É£¬±ØĞëÒÀÀµ¶ÔÏó¹²Ïí¡¢¶¯Ì¬ĞĞÎª¡¢³éÏóÄÜÁ¦¡¢¸´ÔÓ½á¹¹µÈÌØĞÔ£¬¶øÕâĞ©ÌØĞÔÖ»ÄÜÓÉÒıÓÃ¶ÔÏóÌá¹©</p><p>ÖµÀàĞÍĞ§ÂÊ¸ßµ«Áé»îĞÔµÍ£¬ÒıÓÃÀàĞÍÎşÉüÁËÒ»Ğ©Ğ§ÂÊ£¬»»À´ÁË¸üÇ¿´óµÄ±í´ïÁ¦Óë½¨Ä£ÄÜÁ¦</p><table><thead><tr><th>Ä¿µÄ</th><th>ÒıÓÃ¶ÔÏóµÄ×÷ÓÃ</th></tr></thead><tbody><tr><td>¹²ÏíÊı¾İ</td><td>¶à¸ö±äÁ¿/ÏµÍ³Ê¹ÓÃÍ¬Ò»¸ö¶ÔÏó</td></tr><tr><td>½¨Ä£¸´ÔÓÊµÌå</td><td>¶ÔÏó¿ÉÒÔÓµÓĞ×´Ì¬¡¢ĞĞÎª¡¢¼Ì³Ğ²ã´Î</td></tr><tr><td>¶¯Ì¬ĞÔÓë¶àÌ¬ĞÔ</td><td>Ö§³ÖĞé·½·¨¡¢½Ó¿Ú¡¢¶¯Ì¬ÅÉ·¢µÈ</td></tr><tr><td>±ÜÃâÄÚ´æ¸´ÖÆ</td><td>¶ÔÏóºÜ´óÊ±£¬¿½±´³É±¾¸ß£¬ÒıÓÃ¸üÇá±ã</td></tr><tr><td>Ö§³ÖÁ´Ê½½á¹¹</td><td>ÈçÍ¼½á¹¹¡¢Ê÷¡¢Í¼¡¢Á´±íµÈ</td></tr><tr><td>GC×Ô¶¯¹ÜÀí</td><td>¶Ñ·ÖÅä+GC¹ÜÀí£¬³ÌĞò¸ü°²È«ÎÈ¶¨</td></tr></tbody></table><h3 id=ÏŠÊ²Ã´Ú¶>ÎªÊ²Ã´ÒıÓÃÀàĞÍÄÚÈİÔÚ¶ÑÉÏ</h3><ol><li>ÒıÓÃÀàĞÍ´óĞ¡²»¿ÉÔ¤Öª
Õ»ÊÇÒ»¿éÁ¬ĞøµÄÄÚ´æÇøÓò£¬ÒªÇóÃ¿¸ö±äÁ¿ÔÚ±àÒëÆÚ¾ÍÈ·¶¨´óĞ¡<br>¶øÒıÓÃÀàĞÍÊÇ£º</li></ol><ul><li>¿ÉÒÔ¼Ì³Ğ£¨ÅÉÉúÀà¿ÉÄÜÌí¼Ó×Ö¶Î£©</li><li>×Ö¶Î¿ÉÒÔÊÇÒıÓÃÀàĞÍ£¨Ç¶Ì×£©</li><li>°üº¬¶ÔÏóÍ¼£¨Object Graph£©</li><li>¿É±ä½á¹¹£¨ÈçÊı×é¡¢Á´±í£©</li></ul><p>ËùÒÔ£¬ÒıÓÃÀàĞÍµÄ´óĞ¡Í¨³£ÔÚÔËĞĞÊ±²ÅÖªµÀ£¬ÎŞ·¨·ÅÔÚÕ»ÉÏ</p><ol start=2><li><p>Õ»µÄÉúÃüÖÜÆÚÓë·½·¨µ÷ÓÃÍ¬²½£¬Ì«¶Ì
Õ»ÉÏµÄ±äÁ¿ÔÚ·½·¨·µ»ØºóÁ¢¼´Ïú»Ù£¬Èç¹û¶ÔÏó´æÔÚÓÚÕ»ÉÏ£¬ÄÇÒ»µ©º¯Êı·µ»ØÁË£¬¶ÔÏóÒ²¾Í²»´æÔÚÁË<br>¶øÒıÓÃÀàĞÍ¾­³£ÔÚ·½·¨Ö®Íâ¼ÌĞøÊ¹ÓÃ£¨±ÈÈç£º×÷Îª³ÉÔ±±äÁ¿¡¢ÊÂ¼ş»Øµ÷¡¢È«¾ÖÊı¾İµÈ£©£¬±ØĞëÔÚ·½·¨Õ»Ö¡Ö®ÍâÉú´æ</p></li><li><p>ĞèÒªÖ§³Ö¶à¸öÒıÓÃÖ¸ÏòÍ¬Ò»¸ö¶ÔÏó
Èç¹û°Ñ¶ÔÏó·ÅÔÚÕ»ÖĞ£¬ÄÇÃ´Ö¸Ïò¸Ã¶ÔÏóµÄÒıÓÃ¾Í¿ÉÄÜÊ§Ğ§£¬ÎªÁË±£Ö¤ÒıÓÃ°²È«ºÍ¹²ÏíĞÔ£¬ÒıÓÃÀàĞÍµÄÊı¾İ±ØĞë·ÅÔÚÒ»¸ö²»»áËæº¯ÊıÍË³ö¶øÏûÊ§µÄµØ·½£ºÒ²¾ÍÊÇÍĞ¹Ü¶Ñ</p></li><li><p>Ö§³ÖGC
ÖµÀàĞÍ£¨ÔÚÕ»ÉÏ£©ÊÇ×Ô¶¯ÊÍ·ÅµÄ£¬±àÒëÆ÷¿ØÖÆÉúÃüÖÜÆÚ<br>ÒıÓÃÀàĞÍ£¨ÔÚ¶ÑÉÏ£©ĞèÒª¶¯Ì¬¹ÜÀí<br>ËùÒÔCLRÒıÈëÁËGC£¬×Ô¶¯ÇåÀíÃ»ÓĞÒıÓÃµÄ¶Ñ¶ÔÏó</p></li></ol><h3 id=object>Object</h3><p>ÔÚC#ÖĞ£¬<code>Object</code>Àà£¨Ò²½Ğ<code>System.Object</code>£©ÊÇÒ»ÇĞÀàĞÍµÄ¸ù»ù£¬ÊÇCLRÀàĞÍÏµÍ³µÄ¸ù»ù£¨Root Class£©£¬ÎŞÂÛÊÇÖµÀàĞÍ¡¢ÒıÓÃÀàĞÍ£¬×îÖÕ¶¼´Ó<code>Object</code>Ö±½Ó»ò¼ä½Ó¼Ì³Ğ¶øÀ´</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>namespace</span> System
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Object</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Object();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>virtual</span> <span style=color:#66d9ef>bool</span> Equals(<span style=color:#66d9ef>object</span> obj);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> Equals(<span style=color:#66d9ef>object</span> objA, <span style=color:#66d9ef>object</span> objB);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> ReferenceEquals(<span style=color:#66d9ef>object</span> objA, <span style=color:#66d9ef>object</span> objB);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>virtual</span> <span style=color:#66d9ef>int</span> GetHashCode();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>virtual</span> <span style=color:#66d9ef>string</span> ToString();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>virtual</span> <span style=color:#66d9ef>void</span> Finalize();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> Type GetType();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>ËùÓĞÀàĞÍ¶¼ÒşÊ½»òÏÔÊ½¼Ì³Ğ×Ô<code>System.Object</code></li><li>ÊÇCLRÀàĞÍÏµÍ³Í³Ò»µÄ³éÏó»ù´¡</li><li>ÊÇÊµÏÖ×°Ïä¡¢·´Éä¡¢¶àÌ¬µÄºËĞÄ</li></ul><ol><li><p><code>Equals()</code>
ÓÃÓÚÅĞ¶ÏÁ½¸ö¶ÔÏóÊÇ·ñ¡°ÖµÏàµÈ¡±£¨Ä¬ÈÏ±È½ÏµØÖ·£©£¬Èç¹ûĞèÒª±È½Ï¡°Öµ¡±£¬ĞèÒªÖØĞ´<code>Equals()</code></p></li><li><p><code>ReferenceEquals()</code>
±È½ÏÁ½¸öÒıÓÃÊÇ·ñÖ¸ÏòÍêÈ«ÏàÍ¬µÄ¶ÔÏó</p></li></ol><ul><li>Óë<code>==</code>²»Í¬£¬<code>ReferenceEquals</code>²»¿ÉÖØÔØ£¬¾ø¶Ô°²È«</li></ul><ol start=3><li><code>GetHashCode()</code>
·µ»ØÒ»¸öÕûÊı£¬ÓÃÓÚ±íÊ¾¶ÔÏóµÄ¹şÏ£Öµ<br>Ä¬ÈÏĞĞÎªÊÇ£º</li></ol><ul><li>ÒıÓÃÀàĞÍ£ºÊ¹ÓÃ¶ÔÏóµØÖ·»òÄÚ²¿ID</li><li>ÖµÀàĞÍ£ºÊ¹ÓÃ×Ö¶ÎÖµ×éºÏ¶ø³É</li></ul><p>Èç¹û×Ô¶¨ÒåÀà²¢ÖØĞ´<code>Equals()</code>£¬±ØĞëÒ²ÖØĞ´<code>GetHashCode()</code>£¬ÒÔ±£Ö¤ÔÚ¹şÏ£±íÖĞ¹¤×÷ÕıÈ·</p><ol start=4><li><p><code>ToString()</code>
·µ»Ø¶ÔÏóµÄ×Ö·û´®±íÊ¾£¬Ä¬ÈÏÊÇÀàÃû</p></li><li><p><code>GetType()</code>
»ñÈ¡µ±Ç°ÊµÀıµÄÔËĞĞÊ±ÀàĞÍ£¨·µ»Ø<code>System.Type</code>¶ÔÏó£©£¬ÊÇÊµÏÖ·´ÉäµÄ»ù´¡</p></li><li><p><code>Finalize()</code>
Îö¹¹º¯ÊıµÄµ×²ãĞÎÊ½</p></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>~MyClass() { ... } <span style=color:#75715e>// Êµï¿½ï¿½ï¿½Ï±ï¿½ï¿½ï¿½ï¿½ï¿½ override Finalize()</span>
</span></span></code></pre></div><ul><li><code>Finalize</code>ÊÇGC»ØÊÕÇ°µ÷ÓÃµÄ×îºó»ú»á</li><li>Ä¬ÈÏ<code>Object</code>ÊµÏÖÊÇ¿ÕµÄ</li><li>²»ÍÆ¼öÀÄÓÃ£¨ÍÆ¼öÊ¹ÓÃ<code>IDisposable</code>£©</li></ul><h4 id=objectobjectsystemobject><code>Object</code>¡¢<code>object</code>¡¢<code>System.Object</code></h4><p>ÔÚC#ÖĞ£¬<code>object</code>ÊÇÒ»¸öÓïÑÔ¹Ø¼ü×Ö£¬ËüµÈ¼ÛÓÚ<code>System.Object</code>£¬¶ø<code>Object</code>Í¨³£ÊÇÖ¸ÒıÈëÁË<code>System</code>ÃüÃû¿Õ¼äºó¶Ô<code>System.Object</code>µÄ¼òĞ´ÒıÓÃÃû</p><p>ËüÃÇÆäÊµ¶¼´ú±íÍ¬Ò»¸ö.NETÀàĞÍ£º<code>System.Object</code>£¬Çø±ğ½ö½öÊÇÉÏÏÂÎÄ²»Í¬</p><table><thead><tr><th>Ãû³Æ</th><th>ÀàĞÍ</th><th>º¬Òå</th><th>Ê¾Àı</th></tr></thead><tbody><tr><td><code>System.Object</code></td><td>ÍêÕûÀàĞÍÃû</td><td>BCLÖĞµÄÕæÕıÀàĞÍ£¬¶¨ÒåÔÚ <code>mscorlib.dll</code> ÖĞ</td><td><code>System.Object o = new System.Object();</code></td></tr><tr><td><code>Object</code></td><td>ÀàĞÍ±ğÃû£¨ÀàÃû£©</td><td>µ±ÒıÈëÁË <code>using System;</code> ºóµÄ¼òĞ´Ğ´·¨</td><td><code>Object o = new Object();</code></td></tr><tr><td><code>object</code></td><td>C# ¹Ø¼ü×Ö</td><td>±àÒëÆ÷¹Ø¼ü×Ö£¬µÈ¼ÛÓÚ <code>System.Object</code>£¬¾ÍÏñ<code>int</code>µÈ¼ÛÓÚ<code>System.Int32</code>Ò»Ñù</td><td><code>object o = new object();</code></td></tr></tbody></table><p><strong>±àÒëÆ÷½Ç¶È</strong>
ÕâÈıÖÖĞÎÊ½ÔÚILÖĞ¶¼ÊÇÒ»ÑùµÄ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> o = <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>object</span>();
</span></span><span style=display:flex><span>Object o2 = <span style=color:#66d9ef>new</span> Object();
</span></span><span style=display:flex><span>System.Object o3 = <span style=color:#66d9ef>new</span> System.Object();
</span></span></code></pre></div><p>±àÒëÖ®ºóµÄIL´úÂëÖĞ£¬ËüÃÇ¶¼»á´´½¨Ò»¸ö<code>System.Object</code>ÊµÀı</p><table><thead><tr><th>ÓÃ·¨</th><th>ÍÆ¼öĞ´·¨</th><th>Ô­Òò</th></tr></thead><tbody><tr><td>ÆÕÍ¨¿ª·¢</td><td><code>object</code></td><td>·ûºÏ C# ÓïÑÔÏ°¹ß£¬¼ò½à</td></tr><tr><td>µ×²ã¿ª·¢£¨Èç·´Éä¡¢Interop£©</td><td><code>System.Object</code></td><td>¸üÃ÷È·£¬±ÜÃâÃüÃû³åÍ»</td></tr><tr><td>Óï·¨ÌÇ³¡¾°</td><td><code>object</code></td><td>Óë <code>int</code>, <code>string</code> µÈÒ»ÖÂ</td></tr></tbody></table><p>Ò»°ãĞ´object¼´¿É£¬ËüÃÇÈı¸öÊÇÒ»¸ö¶«Î÷</p><h3 id=string>String</h3><p>StringÊÇC#ÖĞ×î³£ÓÃÒ²ÊÇ×îÖØÒªµÄÀàĞÍÖ®Ò»£¬Ëü²»½ö½öÊÇ×Ö·û´®µÄÈİÆ÷£¬¸üÌåÏÖÁËC#ÓïÑÔÉè¼ÆµÄ²»¿É±äĞÔ¡¢ÍĞ¹Ü°²È«¡¢ÓÅ»¯»úÖÆµÈÖî¶àÀíÄî</p><blockquote><p><code>string</code>ÊÇC#¹Ø¼ü×Ö£¬¶ÔÓ¦.NETÖĞµÄ<code>System.String</code>ÀàĞÍ£¬ËüÊÇÒ»¸ö²»¿É±ä£¨immutable£©µÄÒıÓÃÀàĞÍ£¬ÓÃÓÚ±íÊ¾Unicode×Ö·û</p></blockquote><table><thead><tr><th>ÌØĞÔ</th><th>ÃèÊö</th></tr></thead><tbody><tr><td>ÀàĞÍÃû</td><td><code>System.String</code></td></tr><tr><td>C# ¹Ø¼ü×Ö</td><td><code>string</code></td></tr><tr><td>ËùÊô³ÌĞò¼¯</td><td><code>mscorlib.dll</code></td></tr><tr><td>ÀàĞÍ·ÖÀà</td><td>ÒıÓÃÀàĞÍ£¬µ«ĞĞÎªÀàËÆÖµÀàĞÍ£¨²»¿É±ä + ÖµÓïÒå£©</td></tr><tr><td>´æ´¢ÄÚÈİ</td><td>UTF-16 ±àÂëµÄ Unicode ×Ö·ûÊı×é</td></tr></tbody></table><h4 id=stringÄ³É±>StringµÄ²»¿É±äĞÔ</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> s = <span style=color:#e6db74>&#34;Hello&#34;</span>;
</span></span><span style=display:flex><span>s += <span style=color:#e6db74>&#34; World&#34;</span>;
</span></span></code></pre></div><p>ËäÈ»¿´ÆğÀ´ÔÚĞŞ¸Ä×Ö·û´®£¬µ«ÆäÊµ</p><ul><li><code>Hello</code>ÊÇÔ­Ê¼×Ö·û´®</li><li><code>Hello World</code>ÊÇĞÂ´´½¨µÄ×Ö·û´®</li><li><code>s</code>Ö¸ÏòÁËÒ»¸öĞÂµÄ×Ö·û´®¶ÔÏó</li></ul><p>¾É×Ö·û´®ÈÔÈ»´æÔÚÓÚÄÚ´æÖĞ£¬µÈ´ıGC»ØÊÕ</p><p><strong>ÎªÊ²Ã´ÒªÉè¼Æ³É²»¿É±ä</strong></p><ol><li>Ïß³Ì°²È«£¨ÎŞËø¹²Ïí£©</li><li>¹şÏ£Öµ»º´æÎÈ¶¨</li><li>¿ÉÓÃÓÚ×Öµä¡¢¼¯ºÏµÈ¼üÀàĞÍ</li><li>ÌáÉıĞÔÄÜ£¨Èç×Ö·û´®×¤Áô£©</li><li>¼õÉÙ´íÎó£¨±ÜÃâ±»Íâ²¿ĞŞ¸Ä£©</li></ol><h4 id=×¤interning>×Ö·û´®×¤Áô£¨Interning£©</h4><p>C#±àÒëÆ÷»á°ÑÏàÍ¬×ÖÃæÖµµÄ×Ö·û´®³£Á¿Ö¸ÏòÍ¬Ò»ÄÚ´æ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> a = <span style=color:#e6db74>&#34;abc&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> b = <span style=color:#e6db74>&#34;abc&#34;</span>;
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#66d9ef>object</span>.ReferenceEquals(a, b)); <span style=color:#75715e>// True</span>
</span></span></code></pre></div><p>ËùÒÔ×Ö·û´®×ÖÃæÁ¿ÊÇ×¤ÁôµÄ£¬±ÜÃâÖØ¸´´´½¨</p><h5 id=Êµ>ÊµÏÖ»úÖÆ</h5><ol><li><p>±àÒëÆ÷½×¶ÎÓÅ»¯
µ±ÓĞ¶à¸öÏàÍ¬µÄ×Ö·û´®×ÖÃæÁ¿Ê±£¬±àÒëÆ÷»á×Ô¶¯ºÏ²¢ÎªÒ»¸ö×¤Áô×Ö·û´®</p></li><li><p>ÔËĞĞÊ±Í¨¹ıIntern PoolÅĞ¶Ï
CLRÍ¨¹ıÄÚ²¿µÄ×Ö·û´®³Ø£¨intern pool£©ÅĞ¶Ï×Ö·û´®ÊÇ·ñÒÑ´æÔÚ£¬²¢¾ö¶¨ÊÇ·ñ¸´ÓÃ</p></li></ol><p>µ±ÔÚÔËĞĞÊ±¶¯Ì¬´´½¨×Ö·û´®Ê±£¨ÈçÆ´½Ó¡¢¶ÁÈ¡£©Ê±£¬Ëü²»»á×Ô¶¯×¤Áô</p><p><strong>ÊÖ¶¯ÅĞ¶Ï/×¤Áô</strong>\</p><ol><li>Ê¹ÓÃ<code>string.IsInterned()</code>ÅĞ¶ÏÊÇ·ñ×¤Áô</li><li>Ê¹ÓÃ<code>string.Intern()</code>ÊÖ¶¯×¤Áô
<code>Intern()</code>»á</li></ol><ul><li>¼ì²é³ØÖĞÊÇ·ñÒÑ¾­ÓĞÏàÍ¬ÄÚÈİ×Ö·û´®</li><li>ÈôÓĞ£¬·µ»ØÏÖÓĞÊµÀı</li><li>ÈôÃ»ÓĞ£¬¼ÓÈë³Ø²¢·µ»ØÕâ¸öÊµÀı</li></ul><p><strong>×¤Áô³ØÉúÃüÖÜÆÚ</strong></p><ul><li>×¤Áô³Ø´æÔÚÓÚÓ¦ÓÃ³ÌĞòÓò£¨AppDomain£©ÖĞ</li><li>×Ö·û´®Ò»µ©±»×¤Áô£¬¾Í²»»á±»GC»ØÊÕ</li><li>ËùÒÔ²»ÒªÆµ·±¶¯Ì¬µ÷ÓÃ<code>Intern()</code>À´×¤ÁôÁÙÊ±×Ö·û´®£¬»áÔì³ÉÄÚ´æĞ¹Â¶</li></ul><h4 id=string-1>stringµÄÌØÊâĞÔ</h4><p>stringµÄ·ÖÀàÎªÒıÓÃÀàĞÍ£¨ÔÚ¶ÑÖĞ·ÖÅä£©£¬µ«ÊÇÓïÒåÈ±Ö´ĞĞÖµÓïÒåĞĞÎª£¨¸³Öµ¸´ÖÆÒıÓÃ£¬µ«²»¿É±ä£©£¬±È½ÏÊ±°´Öµ±È½Ï£¨¶ø²»ÊÇÒıÓÃ£©</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> s1 = <span style=color:#e6db74>&#34;abc&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> s2 = s1; <span style=color:#75715e>// s2Ö¸ï¿½ï¿½Í¬Ò»ï¿½ï¿½ï¿½Ö·ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>s2 = <span style=color:#e6db74>&#34;xyz&#34;</span>; <span style=color:#75715e>// s2ï¿½ï¿½Ö¸ï¿½ï¿½Ò»ï¿½ï¿½ï¿½Âµï¿½ï¿½Ö·ï¿½ï¿½ï¿½ï¿½ï¿½s1ï¿½ï¿½ï¿½ï¿½Ó°ï¿½ï¿½</span>
</span></span><span style=display:flex><span>Console.WriteLine(s1) <span style=color:#75715e>// abc</span>
</span></span></code></pre></div><h4 id=stringÊµ>stringµÄÊµÏÖ</h4><p>C#ÖĞµÄ<code>string</code>ÊÇÒ»¸öÀà£¨ÒıÓÃÀàĞÍ£©£¬ËüÄÚ²¿Ê¹ÓÃ<code>char[]</code>±íÊ¾×Ö·ûÄÚÈİ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>sealed</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>String</span> : IComparable, ICloneable, IEnumerable&lt;<span style=color:#66d9ef>char</span>&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>int</span> _stringLength;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>char</span> _firstChar;
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Êµï¿½ï¿½ï¿½Ï»ï¿½ï¿½ï¿½ï¿½Ú²ï¿½ï¿½Ö¶Î´æ´¢ï¿½Ö·ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÓÉÓÚÊÇ<code>sealed</code>£¬<code>String</code>²»ÄÜ±»¼Ì³Ğ</p><p><strong>²Ù×÷·ûÖØÔØ</strong></p><ul><li><code>==</code>/<code>!=</code>£º°´Öµ²»½Ğ×Ö·û´®ÄÚÈİ£¨ÒÑ¾­±»ÖØÔØ£©</li><li><code>+</code>£ºÁ¬½Ó×Ö·û´®£¨±àÒëÆ÷×Ô¶¯×ª»»Îª<code>Concat</code>»ò<code>StringBuilder</code>£©</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> s = <span style=color:#e6db74>&#34;Hello&#34;</span> + <span style=color:#e6db74>&#34;World&#34;</span>; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å»ï¿½Îªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Hello Worldï¿½ï¿½</span>
</span></span></code></pre></div><h4 id=Ñ‡>×Ö·û´®²Ù×÷Ğ§ÂÊÎÊÌâ</h4><p>ÓÉÓÚ²»¿É±ä£¬Æµ·±Æ´½Ó»á´´½¨´óÁ¿ĞÂ¶ÔÏó</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> result = <span style=color:#e6db74>&#34;&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>0</span>; i &lt; <span style=color:#ae81ff>1000</span>; ++i) result += i;
</span></span></code></pre></div><p>ĞÔÄÜ¼«²î</p><p>ÍÆ¼öÊ¹ÓÃ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>var</span> sb = <span style=color:#66d9ef>new</span> StringBuilder();
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>0</span>; i &lt; <span style=color:#ae81ff>1000</span>; i++) sb.Append(i);
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> result = sb.ToString();
</span></span></code></pre></div><h4 id=api>API</h4><table><thead><tr><th>·½·¨</th><th>¹¦ÄÜ</th></tr></thead><tbody><tr><td><code>Length</code></td><td>»ñÈ¡×Ö·û´®³¤¶È£¨×Ö·ûÊı£©</td></tr><tr><td><code>Substring(start, length)</code></td><td>½ØÈ¡×Ó´®</td></tr><tr><td><code>IndexOf(char/str)</code></td><td>²éÕÒ×Ö·û/×Ó´®Ë÷Òı</td></tr><tr><td><code>ToUpper()</code> / <code>ToLower()</code></td><td>×ÖÄ¸´óĞ¡Ğ´×ª»»</td></tr><tr><td><code>Trim()</code> / <code>TrimStart()</code> / <code>TrimEnd()</code></td><td>È¥³ı¿Õ°××Ö·û</td></tr><tr><td><code>Replace(old, new)</code></td><td>Ìæ»»×Ó´®</td></tr><tr><td><code>Split(char[])</code></td><td>²ğ·Ö³É×Ö·û´®Êı×é</td></tr><tr><td><code>Contains(string)</code></td><td>ÊÇ·ñ°üº¬×Ó´®</td></tr><tr><td><code>StartsWith()</code> / <code>EndsWith()</code></td><td>Ç°×º/ºó×ºÅĞ¶Ï</td></tr></tbody></table><h3 id=dynamicÃ£>Dynamic£¨É÷ÓÃ£©</h3><p>Ëü´ú±íÁË¶¯Ì¬ÀàĞÍÏµÍ³µÄÈë¿Ú£¬ÈÃC#ÓµÓĞÁËÀàËÆPython¡¢JavaScriptµÄÔËĞĞÊ±°ó¶¨µÄÄÜÁ¦</p><h2 id=pointer-types>Ö¸ÕëÀàĞÍ£¨Pointer Types£©</h2><p>ÕâÊÇC#ÖĞÒ»²¿·Ö²»³£ÓÃµ«·Ç³£µ×²ãµÄÌØĞÔ£¬ËüÈÃC#ÔÚÌØ¶¨³¡¾°ÏÂ¾ß±¸ÀàËÆC++µÄÂãÖ¸ÕëÄÜÁ¦</p><p>Ö¸ÕëÀàĞÍÊÇC#µÄunsafe¹¦ÄÜ£¬ËüÔÊĞíÖ±½Ó·ÃÎÊÄÚ´æµØÖ·¡¢²Ù×÷Ö¸Õë£¬¾ÍÏñÔÚC/C++ÖĞÒ»Ñù£¬µ«ĞèÒªÊ¹ÓÃ<code>unsafe</code>¹Ø¼ü×ÖÏÔÊ½¿ªÆô</p><h3 id=heading-1>Óï·¨</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>type* pointerName;
</span></span></code></pre></div><ul><li><code>type</code>¿ÉÒÔÊÇÈÎÒâ¿ÉÑ°Ö·ÀàĞÍ</li><li>±ØĞëĞ´ÔÚ<code>unsafe</code>ÉÏÏÂÎÄÖĞ</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>unsafe</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> x = <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span>* ptr = &amp;x;
</span></span><span style=display:flex><span>	Console.WriteLine(*ptr);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>¿ªÆôÌõ¼ş</strong><br>ÓÉÓÚC#ÊÇÀàĞÍ°²È«µÄÓïÑÔ£¬Ä¬ÈÏ²»ÔÊĞíÊ¹ÓÃÖ¸Õë£¬Òò´Ë±ØĞë£º</p><ol><li>ÏÔÊ½Ê¹ÓÃ<code>unsafe</code>ĞŞÊÎ´úÂë¿é»ò·½·¨</li><li>ÔÚÏîÄ¿ÊôĞÔÖĞ¿ªÆôÔÊĞí²»°²È«´úÂë</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>unsafe</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UnsafeClass</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> Main()
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x = <span style=color:#ae81ff>123</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span>* p = &amp;x;
</span></span><span style=display:flex><span>	Console.WriteLine(*p); <span style=color:#75715e>// 123</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ö¸Õë¿ÉÓÃÓÚËùÓĞÖµÀàĞÍ£¬²»¿ÉÓÃÓÚËùÓĞÒıÓÃÀàĞÍ£¬Ò²¾ÍÊÇËµ£¬Ö¸Õë±ÄÄêÖ¸ÏòÍĞ¹Ü¶ÑÉÏµÄ¶ÔÏó£¬ÕâÊÇ²»°²È«ĞĞÎª£¬¶ÑÉÏµÄ¶ÔÏó»á±»GCÒÆ¶¯</p><p>C#Ìá¹©ÁË¸ü°²È«µÄÌæ´ú·½Ê½</p><ul><li>Span<t>/ReadOnlySpan<t> ¸ßĞÔÄÜ¡¢Áã¿½±´ÄÚ´æ·ÃÎÊ</li><li>Memory<t> ¿ÉÓÃÓÚÒì²½³¡¾°</li><li>MarshalÀà ÓÚ·ÇÍĞ¹ÜÄÚ´æ½»»¥</li><li>fixed¹Ø¼ü×Ö ½«ÍĞ¹Ü±äÁ¿¹Ì¶¨ÒÔ·ÀÖ¹GCÒÆ¶¯</li></ul><h2 id=×ª>ÀàĞÍ×ª»»</h2><table><thead><tr><th>ÀàĞÍ×ª»»Àà±ğ</th><th>ÃèÊö</th></tr></thead><tbody><tr><td>ÒşÊ½×ª»»£¨implicit£©</td><td>°²È«¡¢×Ô¶¯Íê³É£¬ÎŞĞèÇ¿ÖÆ×ª»»·û</td></tr><tr><td>ÏÔÊ½×ª»»£¨cast£©</td><td>¿ÉÄÜ¶ªÊ§¾«¶È£¬ĞèÊ¹ÓÃÇ¿ÖÆ×ª»»·û <code>()</code></td></tr><tr><td>×°Ïä£¨Boxing£©</td><td>ÖµÀàĞÍ ¡ú ÒıÓÃÀàĞÍ£¨object£©</td></tr><tr><td>²ğÏä£¨Unboxing£©</td><td>ÒıÓÃÀàĞÍ ¡ú ÖµÀàĞÍ£¨ĞèÀàĞÍÆ¥Åä£©</td></tr><tr><td>Ê¹ÓÃ <code>Convert</code> Àà</td><td>°²È«µØ´¦ÀíÀàĞÍ×ª»»£¬º¬ null ¼ì²éµÈ</td></tr><tr><td><code>Parse</code> / <code>TryParse</code></td><td>½«×Ö·û´®×ª»»ÎªÊıÖµµÈ»ù±¾ÀàĞÍ</td></tr><tr><td>ÓÃ»§×Ô¶¨Òå×ª»»</td><td>×Ô¶¨Òå <code>implicit</code> »ò <code>explicit</code> ÔËËã·û</td></tr></tbody></table><h3 id=Ê½×ªimplicit>ÒşÊ½×ª»»£¨implicit£©</h3><p>ÒşÊ½×ª»»ÊÇÖ¸£º±àÒëÆ÷×Ô¶¯Íê³ÉÀàĞÍ×ª»»¶ø²»ÏÔÊ½Ê¹ÓÃ<code>cast</code>²Ù×÷·ûµÄÇé¿ö</p><p>ËüÊÇÓïÑÔµÄÀàĞÍºÍ²Ù×÷·ûÖØÔØ»úÖÆÖĞ·Ç³£ÖØÒªµÄÒ»²¿·Ö</p><p>ÌØµã£º</p><ul><li>±àÒëÆ÷×Ô¶¯Íê³É£¨ÎŞĞè(T)xxx£©</li><li>²»»áÔì³ÉÊı¾İ¶ªÊ§»òÔËĞĞÊ±Òì³£</li><li>³£ÓÃÓÚ¡°ÈİÁ¿Ğ¡¡±µ½¡°ÈİÁ¿´ó¡±µÄÊıÖµÀàĞÍ×ª»»</li></ul><h4 id=Ê½×ª>ÄÚÖÃÀàĞÍµÄÒşÊ½×ª»»</h4><p><strong>³£¼ûÊıÖµÀàĞÍÖ®¼äµÄÒşÊ½×ª»»</strong></p><table><thead><tr><th>À´Ô´ÀàĞÍ</th><th>Ä¿±êÀàĞÍ</th></tr></thead><tbody><tr><td><code>byte</code></td><td><code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>decimal</code></td></tr><tr><td><code>short</code></td><td><code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>decimal</code></td></tr><tr><td><code>int</code></td><td><code>long</code>, <code>float</code>, <code>double</code>, <code>decimal</code></td></tr><tr><td><code>float</code></td><td><code>double</code></td></tr><tr><td><code>char</code></td><td><code>ushort</code>, <code>int</code>, <code>uint</code>, <code>long</code>, <code>ulong</code>, <code>float</code>, <code>double</code>, <code>decimal</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> d = i; <span style=color:#75715e>// ï¿½ï¿½Ê½×ªï¿½ï¿½ï¿½ï¿½int -&gt; double</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> f = <span style=color:#ae81ff>3.14f</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> d2 = f; <span style=color:#75715e>// ï¿½ï¿½Ê½×ªï¿½ï¿½ï¿½ï¿½float -&gt; double</span>
</span></span></code></pre></div><h4 id=Õ¦ĞµÊ½×ª>×Ô¶¨ÒåÀàĞÍÖĞµÄÒşÊ½×ª»»</h4><p>Ê¹ÓÃ<code>implicit</code>¹Ø¼ü×ÖÀ´×Ô¶¨Òå×ª»»²Ù×÷·û</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Meter</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>double</span> <span style=color:#66d9ef>value</span> { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> Meter(<span style=color:#66d9ef>double</span> <span style=color:#66d9ef>value</span>) =&gt; Value = <span style=color:#66d9ef>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ï¿½Ô¶ï¿½ï¿½ï¿½ï¿½ï¿½doubleï¿½ï¿½Meterï¿½ï¿½ï¿½ï¿½Ê½×ªï¿½ï¿½</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>implicit</span> <span style=color:#66d9ef>operator</span> Meter(<span style=color:#66d9ef>double</span> <span style=color:#66d9ef>value</span>) =&gt; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Meter(<span style=color:#66d9ef>value</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ï¿½Ô¶ï¿½ï¿½ï¿½ï¿½ï¿½Meterï¿½ï¿½doubleï¿½ï¿½ï¿½ï¿½Ê½×ªï¿½ï¿½</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>implicit</span> <span style=color:#66d9ef>operator</span> <span style=color:#66d9ef>double</span>(Meter meter) =&gt; <span style=color:#66d9ef>return</span> meter.Value;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÓÃ·¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Meter m = <span style=color:#ae81ff>5.0</span>; <span style=color:#75715e>// ï¿½ï¿½Ê½double -&gt; Meter</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> d = m; <span style=color:#75715e>// ï¿½ï¿½Ê½Meter -&gt; double</span>
</span></span></code></pre></div><h4 id=×¢>×¢ÒâÊÂÏî</h4><ol><li>²»ÒªÀÄÓÃÒşÊ½×ª»»²Ù×÷·û£º¹ı¶ÈÊ¹ÓÃ¿ÉÄÜ»á½µµÍ´úÂëµÄ¿É¶ÁĞÔ£¬Ê¹µÃÀàĞÍÖ®¼äµÄ±ß½ç±äµÃÄ£ºı</li><li>±ÜÃâ×ª»»ÆçÒå£ºÈç¹ûÁ½¸öÀàĞÍÖ®¼äÍ¬Ê±¶¨ÒåÁË<code>implicit</code>ºÍ<code>explicit</code>£¬ÒªÃ÷È·Ñ¡Ôñ</li><li>½Ó¿ÚÓë¼Ì³Ğ½á¹¹ÖĞ£¬ÒşÊ½×ª»»Í¨³£ÓÃÓÚ¡°ÉÏ×ªĞÍ¡±</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Stream s = <span style=color:#66d9ef>new</span> FileStream(...); <span style=color:#75715e>// FileStream -&gt; Stream ï¿½ï¿½ï¿½ï¿½Ê½×ªï¿½ï¿½</span>
</span></span></code></pre></div><h4 id=Ê¾×°Î»ÏµÍ³>Ê¾Àı£º·â×°µ¥Î»ÏµÍ³</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Celsius</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>double</span> Degrees { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Celsius(<span style=color:#66d9ef>double</span> degrees)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        Degrees = degrees;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>implicit</span> <span style=color:#66d9ef>operator</span> Fahrenheit(Celsius c)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Fahrenheit(c.Degrees * <span style=color:#ae81ff>9</span> / <span style=color:#ae81ff>5</span> + <span style=color:#ae81ff>32</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Fahrenheit</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>double</span> Degrees { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Fahrenheit(<span style=color:#66d9ef>double</span> degrees)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        Degrees = degrees;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>implicit</span> <span style=color:#66d9ef>operator</span> Celsius(Fahrenheit f)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Celsius((f.Degrees - <span style=color:#ae81ff>32</span>) * <span style=color:#ae81ff>5</span> / <span style=color:#ae81ff>9</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ï¿½Ã·ï¿½</span>
</span></span><span style=display:flex><span>Celsius c = <span style=color:#66d9ef>new</span> Fahrenheit(<span style=color:#ae81ff>98.6</span>); <span style=color:#75715e>// ï¿½Ô¶ï¿½×ªÎª Celsius</span>
</span></span><span style=display:flex><span>Fahrenheit f = <span style=color:#66d9ef>new</span> Celsius(<span style=color:#ae81ff>37</span>);  <span style=color:#75715e>// ï¿½Ô¶ï¿½×ªÎª Fahrenheit</span>
</span></span></code></pre></div><h3 id=Ê½×ªcast>ÏÔÊ½×ª»»£¨cast£©</h3><p>¿ª·¢ÕßÊ¹ÓÃÇ¿ÖÆÀàĞÍ×ª»»(cast)Óï·¨ÊÖ¶¯½øĞĞµÄÀàĞÍ×ª»»</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> i = (<span style=color:#66d9ef>int</span>)<span style=color:#ae81ff>3.14</span>;
</span></span></code></pre></div><p>C#ÖĞµÄÏÔÊ½×ª»»ÓÃÓÚÄÇĞ©¿ÉÄÜ¶ªÊ§ĞÅÏ¢»òÊ§°ÜµÄ×ª»»£¬Òò´Ë±àÒëÆ÷²»»á×Ô¶¯Íê³É£¬±ØĞëÊ¹ÓÃ<code>(T)</code>µÄĞÎÊ½½øĞĞ×ª»»</p><h4 id=Ê½×ª-1>ÄÚÖÃÀàĞÍµÄÏÔÊ½×ª»»</h4><p>ÄÚÖÃÊıÖµÀàĞÍÖ®¼ä´æÔÚÒ»Ğ©ĞèÒªÏÔÊ½×ª»»µÄĞÎÊ½£º</p><table><thead><tr><th>À´Ô´ÀàĞÍ</th><th>Ä¿±êÀàĞÍ</th><th>ÊÇ·ñĞèÒªÏÔÊ½×ª»»</th><th>Ô­Òò</th></tr></thead><tbody><tr><td><code>double</code></td><td><code>int</code></td><td>ÊÇ</td><td>¿ÉÄÜ¶ªÊ§Ğ¡Êı²¿·Ö</td></tr><tr><td><code>long</code></td><td><code>int</code></td><td>ÊÇ</td><td>¿ÉÄÜÒç³ö</td></tr><tr><td><code>float</code></td><td><code>byte</code></td><td>ÊÇ</td><td>¿ÉÄÜ¾«¶ÈËğÊ§ºÍÒç³ö</td></tr></tbody></table><p>Ê¾Àı£º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>double</span> d = <span style=color:#ae81ff>3.14</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> i = (<span style=color:#66d9ef>int</span>)d; <span style=color:#75715e>// i = 3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> l = <span style=color:#ae81ff>9999999999</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> j = (<span style=color:#66d9ef>int</span>)l; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½jï¿½ï¿½Öµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><h4 id=Ê½×ªÄ±>ÏÔÊ½×ª»»µÄ±¾ÖÊ</h4><p>C#Í¨¹ı<code>explicit</code>¹Ø¼ü×ÖÀ´¶¨ÒåÀàÖĞµÄ×Ô¶¨ÒåÏÔÊ½ÀàĞÍ×ª»»²Ù×÷·û£¬ÓÃÀ´ÈÃ¿ª·¢ÕßÃ÷È·µØ´ÓÒ»ÖÖÀàĞÍ×ª»»ÎªÁíÒ»ÖÖÀàĞÍ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> TargetType(SourceType <span style=color:#66d9ef>value</span>)
</span></span></code></pre></div><p>Ê¾Àı£ºÏÔÊ½×ª»»Ò»¸ö×Ô¶¨ÒåÀàÎª<code>int</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyClass</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Value { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> MyClass(<span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span>) =&gt; Value = <span style=color:#66d9ef>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> <span style=color:#66d9ef>int</span>(MyClass obj)
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> obj.Value;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> MyClass(<span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span>)
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MyClass(<span style=color:#66d9ef>value</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÓÃ·¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>MyClass a = (MyClass)<span style=color:#ae81ff>42</span>; <span style=color:#75715e>// ï¿½ï¿½Ê½ï¿½ï¿½int×ªÎªMyClass</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> x = (<span style=color:#66d9ef>int</span>)a; <span style=color:#75715e>// ï¿½ï¿½Ê½ï¿½ï¿½MyClass×ªÎªint</span>
</span></span></code></pre></div><p>Èç¹û²»Ê¹ÓÃ<code>(int)</code>Ç¿ÖÆ×ª»»£¬ÉÏÃæ´úÂë½«ÎŞ·¨±àÒë</p><h4 id=Ê½×ª-vs-Ê½×ª>ÒşÊ½×ª»» vs ÏÔÊ½×ª»»</h4><table><thead><tr><th>¶Ô±ÈÏî</th><th>ÒşÊ½×ª»»£¨implicit£©</th><th>ÏÔÊ½×ª»»£¨explicit£©</th></tr></thead><tbody><tr><td>±àÒëÆ÷ĞĞÎª</td><td>×Ô¶¯½øĞĞ</td><td>±ØĞëÊÖ¶¯ <code>(T)value</code></td></tr><tr><td>°²È«ĞÔ</td><td>±ØĞëÊÇÎŞËğ×ª»»</td><td>¿ÉÒÔÊÇÓĞËğ»ò¿ÉÄÜÊ§°ÜµÄ×ª»»</td></tr><tr><td>ÓÃ»§ÌåÑé</td><td>¸ü¼Ó×ÔÈ»¡¢Ò×ÓÚÊ¹ÓÃ</td><td>¸ü°²È«£¬ÌáĞÑ¿ª·¢ÕßÈ·ÈÏ×ª»»Âß¼­</td></tr><tr><td>µäĞÍÓÃ·¨³¡¾°</td><td>Ğ¡ÀàĞÍ ¡ú ´óÀàĞÍ¡¢µ¥Î»°ü×°Àà¡¢ÓïÒåÔöÇ¿</td><td>´óÀàĞÍ ¡ú Ğ¡ÀàĞÍ¡¢×Ô¶¨ÒåÀà½á¹¹¡¢Ğè·ÀÎóÓÃµÄ³¡¾°</td></tr></tbody></table><h4 id=Ê¾>Ê¾Àı</h4><p>ÊıÖµºÍ°ü×°Àà</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Health</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Value;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Health(<span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span>) =&gt; Value = <span style=color:#66d9ef>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> <span style=color:#66d9ef>int</span>(Health h) =&gt; h.Value;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> Health(<span style=color:#66d9ef>int</span> v) =&gt; <span style=color:#66d9ef>new</span> Health(v);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ï¿½Ã·ï¿½</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> hp = (<span style=color:#66d9ef>int</span>)<span style=color:#66d9ef>new</span> Health(<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>Health h2 = (Health)hp;
</span></span></code></pre></div><p>´Ó×Ö·û´®½âÎö¶ÔÏó</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IPAddress</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Address { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> IPAddress(<span style=color:#66d9ef>string</span> addr) =&gt; Address = addr;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> IPAddress(<span style=color:#66d9ef>string</span> input)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê½ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (input.Contains(<span style=color:#e6db74>&#34;.&#34;</span>))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> IPAddress(input);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> FormatException(<span style=color:#e6db74>&#34;Invalid IP address&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=×ª-1>ÖµÀàĞÍÓëÒıÓÃÀàĞÍÖ®¼äµÄ×ª»»</h3><h4 id=×°ä£¨boxing---->×°Ïä£¨Boxing£©=> ÖµÀàĞÍ -> ÒıÓÃÀàĞÍ</h4><p>½«ÖµÀàĞÍ×ª»»ÎªÒıÓÃÀàĞÍ£¨Í¨³£ÊÇ<code>object</code>»ò½Ó¿ÚÀàĞÍ£©£¬¸ÃÖµ»á±»¿½±´Ò»·İ²¢·Åµ½¶ÑÉÏ£¬·µ»ØµÄÊÇÒıÓÃ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>42</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = i; <span style=color:#75715e>// ×°ï¿½ä£ºint -&gt; object</span>
</span></span></code></pre></div><p>±¾ÖÊ£º</p><ol><li>ÔÚ¶ÑÉÏ·ÖÅäÒ»¿éÄÚ´æ</li><li>°Ñ<code>i</code>µÄÖµ¿½±´µ½¶ÑÉÏ</li><li>°ü×°³ÉÒ»¸ö<code>System.ValueType</code>µÄÊµÀı</li><li>·µ»Ø¸ÃÒıÓÃ£¨µØÖ·£©</li></ol><p>×¢Òâ£º</p><ul><li>×°ÏäÊÇÒşÊ½µÄ£¬×Ô¶¯½øĞĞ</li><li>µ«ÊÇ¿ªÏúºÜ´ó£º¶Ñ·ÖÅä + ¸´ÖÆ + ÀàĞÍĞÅÏ¢·â×°</li></ul><h4 id=ä£¨unboxing---->²ğÏä£¨Unboxing£©=> ÒıÓÃÀàĞÍ -> ÖµÀàĞÍ</h4><p>½«Ò»¸öÒÑ¾­×°ÏäµÄ¶ÔÏó£¨Èç<code>object</code>£©ÖØĞÂ×ª»»ÎªÆäÔ­Ê¼µÄÖµÀàĞÍ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#ae81ff>42</span>; <span style=color:#75715e>// ×°ï¿½ï¿½</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> i = (<span style=color:#66d9ef>int</span>)obj; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> f = (<span style=color:#66d9ef>float</span>)obj; <span style=color:#75715e>// ï¿½×³ï¿½ï¿½ì³£ï¿½ï¿½ï¿½ï¿½ï¿½Ü²ï¿½ï¿½ï¿½Îªï¿½ï¿½Í¬ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><p>×¢Òâ£º</p><ul><li>²ğÏäÊÇÏÔÊ½µÄ£¬±ØĞëÓÃÇ¿ÖÆÀàĞÍ×ª»»<code>(T)</code></li><li>²ğÏä¹ı³ÌÖĞ±ØĞëÌá¹©Ô­Ê¼µÄÖµÀàĞÍ£¬·ñÔòÔËĞĞÊ±»áÅ×³ö<code>InvalidCastException</code></li></ul><h4 id=á¹¹Í½Ó¿×°>½á¹¹ÌåºÍ½Ó¿ÚÖ®¼äµÄ×°Ïä</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MyStruct</span> : IMyInterface
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Value;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> DoSomething() =&gt; Console.WriteLine(Value);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>IMyInterface iface = <span style=color:#66d9ef>new</span> MyStruct { Value = <span style=color:#ae81ff>10</span> }; <span style=color:#75715e>// ×°ï¿½ï¿½</span>
</span></span><span style=display:flex><span>iface.DoSometing(); <span style=color:#75715e>// ifaceï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><p>½á¹¹ÌåÊµÏÖ½Ó¿ÚÊ±£¬¸³Öµ¸ø½Ó¿ÚÀàĞÍ±äÁ¿»á´¥·¢×°Ïä£¬µ¼ÖÂ¿½±´ºÍĞÔÄÜËğºÄ</p><h4 id=×ªÊ½>ÖµÀàĞÍ×ªÒıÓÃÀàĞÍµÄÆäËûĞÎÊ½</h4><ol><li>ÖµÀàĞÍ -><code>object</code>/<code>dynamic</code>/½Ó¿ÚÀàĞÍ</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> a = <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = a; <span style=color:#75715e>// boxing</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>dynamic</span> d = a; <span style=color:#75715e>// boxing</span>
</span></span><span style=display:flex><span>IComparable cmp = a; <span style=color:#75715e>// boxing</span>
</span></span></code></pre></div><ol start=2><li>Ê¹ÓÃ·ºĞÍ×°ÏäÏİÚå</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>void</span> Print&lt;T&gt;(T <span style=color:#66d9ef>value</span>) =&gt; <span style=color:#66d9ef>object</span> obj = <span style=color:#66d9ef>value</span>; <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½Tï¿½ï¿½Öµï¿½ï¿½ï¿½Í£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½×°ï¿½ï¿½</span>
</span></span></code></pre></div><h4 id=×ªÏŠÕ¹Ê½>ÖµÀàĞÍ×ª»»ÎªÒıÓÃÀàĞÍµÄÀ©Õ¹·½Ê½</h4><p>³ıÁË<code>object</code>¡¢½Ó¿ÚµÈÄ¬ÈÏ»úÖÆ£¬Ò²¿ÉÒÔÔÚ×Ô¶¨ÒåÀàÖĞ×Ô¶¨ÒåÏÔÊ½»òÒşÊ½×ª»»</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Health</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>implicit</span> <span style=color:#66d9ef>operator</span> Health(<span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span>) =&gt; <span style=color:#66d9ef>new</span> Health { Value = <span style=color:#66d9ef>value</span>; };
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>explicit</span> <span style=color:#66d9ef>operator</span> <span style=color:#66d9ef>int</span>(Health h) =&gt; h.Value;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ÕâÑù¾Í¿ÉÒÔ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Health h = <span style=color:#ae81ff>100</span>; <span style=color:#75715e>// ï¿½ï¿½Ê½×°ï¿½ï¿½Îªï¿½á¹¹ï¿½å£¨ï¿½ï¿½ï¿½ï¿½ï¿½Ã£ï¿½</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#66d9ef>value</span> = (<span style=color:#66d9ef>int</span>)h;
</span></span></code></pre></div><h4 id=×°Å¼>±ÜÃâ×°ÏäµÄÓÅ»¯½¨Òé</h4><ul><li>½Ó¿Úµ÷ÓÃ½á¹¹Ìå£ºÊ¹ÓÃ·ºĞÍ½Ó¿Ú£¨Èç<code>IEquatable&lt;T></code>£¬»ò±ÜÃâ½Ó¿Ú·â×°</li><li>Unity ECS£ºÊ¹ÓÃ<code>struct</code> + <code>ref struct</code> + ·ºĞÍ£¬¾¡Á¿±ÜÃâ×°Ïä</li><li>±éÀú¼¯ºÏ£ºÊ¹ÓÃ<code>for</code>±éÀú´úÌæ<code>foreach</code>£¨ÓÈÆä¶Ô<code>struct</code>£©</li><li>×Ô¶¨ÒåÊı¾İ½á¹¹£ºÓÃ·ºĞÍ¼õÉÙÀàĞÍ²Á³ı¡¢¼õÉÙruntime×°Ïä¿ªÏú</li></ul><h3 id=string×ª>String×ª»ù±¾ÀàĞÍ</h3><p>ÈıÖÖ³£¼ûµÄ×ª»»·½Ê½</p><table><thead><tr><th>·½·¨</th><th>ÊÇ·ñ°²È«</th><th>Ê§°ÜĞĞÎª</th><th>±¸×¢</th></tr></thead><tbody><tr><td><code>Convert.ToXxx(string)</code></td><td>·ñ</td><td>Å×³öÒì³£</td><td>¿ì½İµ«²»°²È«</td></tr><tr><td><code>Xxx.Parse(string)</code></td><td>·ñ</td><td>Å×³öÒì³£</td><td>±È½Ï³£¼û£¬µ«Ğè×Ô¼º try-catch</td></tr><tr><td><code>Xxx.TryParse(string, out value)</code></td><td>ÊÇ</td><td>·µ»Ø <code>false</code></td><td>ÍÆ¼ö£¬ĞÔÄÜ¸üÎÈ½¡</td></tr></tbody></table><h4 id=parse><code>Parse</code></h4><p><code>Parse</code>ÊÇÒ»×éÓÃÓÚ½«×Ö·û´®×ª»»Îª¶ÔÓ¦»ù±¾ÀàĞÍµÄ·½·¨£¬ËüÃÇ´æÔÚÓÚÏàÓ¦ÀàĞÍµÄ¾²Ì¬·½·¨ÖĞ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span>.Parse(<span style=color:#66d9ef>string</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span>.Parse(<span style=color:#66d9ef>string</span>);
</span></span><span style=display:flex><span>DateTime.Parse(<span style=color:#66d9ef>string</span>);
</span></span><span style=display:flex><span>Enum.Parse(Type, <span style=color:#66d9ef>string</span>)
</span></span></code></pre></div><p><code>Parse</code>ÊÇÇ¿ÀàĞÍ×ª»»µÄÒ»ÖÖĞÎÊ½£¬ÒªÇóÊäÈë¸ñÊ½±ØĞëºÏ·¨£¬·ñÔò»áÅ×³öÒì³£</p><h5 id=parseÄ¼ÏŠ><code>Parse</code>µÄ»ù±¾ĞĞÎª</h5><ul><li>ÊôÓÚ¾²Ì¬·½·¨</li><li>ÊäÈë±ØĞëÊÇºÏ·¨¸ñÊ½µÄ×Ö·û´®</li><li>Ê§°ÜÊ±Å×³öÒì³£</li><li>²»°²È«£¬²»½¨ÒéÓÃÓÚ²»È·¶¨À´Ô´µÄ×Ö·û´®</li></ul><h5 id=×ª-2>³£¼ûÀàĞÍµÄ×ª»»</h5><ul><li><code>int.Parse</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>int</span> num = <span style=color:#66d9ef>int</span>.Parse(<span style=color:#e6db74>&#34;123&#34;</span>); <span style=color:#75715e>// OK</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> bad = <span style=color:#66d9ef>int</span>.Parse(<span style=color:#e6db74>&#34;abc&#34;</span>); <span style=color:#75715e>// FormatException</span>
</span></span></code></pre></div><ul><li><code>float.Parse</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>float</span> pi = <span style=color:#66d9ef>float</span>.Parse(<span style=color:#e6db74>&#34;3.14&#34;</span>);
</span></span></code></pre></div><ul><li><code>bool.Parse</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>bool</span> b1 = <span style=color:#66d9ef>bool</span>.Parse(<span style=color:#e6db74>&#34;true&#34;</span>); <span style=color:#75715e>// OK</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> b2 = <span style=color:#66d9ef>bool</span>.Parse(<span style=color:#e6db74>&#34;FALSE&#34;</span>); <span style=color:#75715e>// OK</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> b3 = <span style=color:#66d9ef>bool</span>.Parse(<span style=color:#e6db74>&#34;yes&#34;</span>); <span style=color:#75715e>// FormatException</span>
</span></span></code></pre></div><ul><li><code>DataTime.Parse</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>DataTime dt = DataTime.Parse(<span style=color:#e6db74>&#34;2025-07-29&#34;</span>);
</span></span></code></pre></div><p>Ö§³Ö¶àÖÖ¸ñÊ½£¬µ«ÓĞÇøÓòĞÔÒÀÀµ£¨ÊÜ<code>CultureInfo</code>¿ØÖÆ£©</p><ul><li><code>Enum.Parse</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>enum</span> Direction { Up, Down, Left, Right }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Dirction d = (Direction)Enum.Parse(<span style=color:#66d9ef>typeof</span>(Direction), <span style=color:#e6db74>&#34;Up&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Ò²ï¿½ï¿½ï¿½Ôºï¿½ï¿½Ô´ï¿½Ğ¡Ğ´</span>
</span></span><span style=display:flex><span>Enum.Parse(<span style=color:#66d9ef>typeof</span>(Direction), <span style=color:#e6db74>&#34;down&#34;</span>, <span style=color:#66d9ef>true</span>);  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ Direction.Down</span>
</span></span></code></pre></div><p><strong>³£¼ûÒì³£</strong></p><table><thead><tr><th>Òì³£ÀàĞÍ</th><th>ËµÃ÷</th></tr></thead><tbody><tr><td><code>FormatException</code></td><td>×Ö·û´®¸ñÊ½²»ºÏ·¨</td></tr><tr><td><code>ArgumentNullException</code></td><td>´«ÈëµÄÊÇ <code>null</code></td></tr><tr><td><code>OverflowException</code></td><td>ÊıÖµ³¬³öÀàĞÍ·¶Î§£¨Èç <code>int.Parse("999999999999")</code>£©</td></tr></tbody></table><h5 id=Õ¦Êµparse>×Ô¶¨ÒåÀàÖĞÊµÏÖParse</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Name;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> Person Parse(<span style=color:#66d9ef>string</span> s)
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> parts = s.Split(<span style=color:#e6db74>&#39;,&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Person
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      Name = parts[<span style=color:#ae81ff>0</span>], 
</span></span><span style=display:flex><span>      Age = <span style=color:#66d9ef>int</span>.Parse(parts[<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ê¹ÓÃ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span>Person p = Person.Parse(<span style=color:#e6db74>&#34;Jeff,24&#34;&#34;)
</span></span></span></code></pre></div><h4 id=tryparse><code>TryParse</code></h4><p><code>TryParse</code>ÊÇC#ÖĞÓÃÓÚ°²È«µØ½«×Ö·û´®×ª»»Îª»ù±¾ÀàĞÍµÄÒ»ÖÖ·½·¨£¬ËüÊÇ<code>Parse</code>µÄ°²È«Ìæ´ú·½°¸¡£<code>TryParse</code>²»»áÅ×³öÒì³££¬¶øÊÇ·µ»ØÒ»¸ö²¼¶ûÖµ±íÊ¾×ª»»ÊÇ·ñ³É¹¦£¬×ª»»½á¹ûÍ¨¹ı<code>out</code>²ÎÊı·µ»Ø</p><h5 id=heading-2>»ù±¾Óï·¨</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>bool</span> TryParse(<span style=color:#66d9ef>string</span> s, <span style=color:#66d9ef>out</span> T result)
</span></span></code></pre></div><ul><li><code>s</code>£ºÒª×ª»»µÄ×Ö·û´®</li><li><code>result</code>£ºÊä³ö²ÎÊı£¬×ª»»³É¹¦ºóµÄÖµ£¬×ª»»Ê§°ÜÎª0</li><li>·µ»ØÖµÎª<code>true</code>±íÊ¾×ª»»³É¹¦£¬<code>false</code>±íÊ¾Ê§°Ü</li></ul><h5 id=tryparse-1>»ù±¾ÀàĞÍµÄTryParse</h5><p><code>int.TryParse</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>string</span> input = <span style=color:#e6db74>&#34;123&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>int</span>.TryParse(input, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>int</span> number))
</span></span><span style=display:flex><span>    Console.WriteLine(<span style=color:#e6db74>&#34;×ªï¿½ï¿½ï¿½É¹ï¿½ï¿½ï¿½&#34;</span> + number);
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    Console.WriteLine(<span style=color:#e6db74>&#34;×ªï¿½ï¿½Ê§ï¿½ï¿½&#34;</span>);
</span></span></code></pre></div><p><code>float.TryParse</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>float</span>.TryParse(<span style=color:#e6db74>&#34;3.14&#34;</span>, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>float</span> pi); <span style=color:#75715e>// pi = 3.14</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span>.TryParse(<span style=color:#e6db74>&#34;abc&#34;</span>, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>float</span> pi); <span style=color:#75715e>// fail = 0</span>
</span></span></code></pre></div><p><code>bool.TryParse</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>bool</span>.TryParse(<span style=color:#e6db74>&#34;true&#34;</span>, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>bool</span> b1); <span style=color:#75715e>// true</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span>.TryParse(<span style=color:#e6db74>&#34;yes&#34;</span>, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>bool</span> b2); <span style=color:#75715e>// false</span>
</span></span></code></pre></div><h5 id=parse-vs-tryparse><code>Parse</code> vs <code>TryParse</code></h5><table><thead><tr><th>ÌØĞÔ</th><th><code>Parse</code></th><th><code>TryParse</code></th></tr></thead><tbody><tr><td>Ê§°Ü´¦Àí·½Ê½</td><td>Å×³öÒì³£</td><td>·µ»Ø false£¬²»Å×Òì³£</td></tr><tr><td>ÍÆ¼ö³Ì¶È</td><td>²»ÍÆ¼ö£¨³ı·ÇÄÜÈ·±£ÊäÈë£©</td><td>ÍÆ¼öÓÃÓÚËùÓĞÓÃ»§ÊäÈë»ò²»È·¶¨Öµ</td></tr><tr><td>·µ»ØÀàĞÍ</td><td>×ª»»ºóµÄÀàĞÍ</td><td><code>bool</code>£¨³É¹¦Óë·ñ£©</td></tr><tr><td>ĞÔÄÜ±íÏÖ</td><td>½Ï²î£¨Ê§°ÜÊ±Å×Òì³£¿ªÏú´ó£©</td><td>ÓÅĞã£¬ÌØ±ğÊÇÔÚÑ­»·ÖĞ</td></tr></tbody></table><h5 id=enumtryparsesÊ¾>Enum.TryParsesÊ¾Àı</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>enum</span> Direction { Up, Down, Left, Right }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Enum.TryParse(<span style=color:#e6db74>&#34;Left&#34;</span>, <span style=color:#66d9ef>out</span> Direction d); <span style=color:#75715e>// ï¿½É¹ï¿½</span>
</span></span><span style=display:flex><span>Enum.TryParse(<span style=color:#e6db74>&#34;INVALID&#34;</span>, <span style=color:#66d9ef>out</span> Dirction d2); <span style=color:#75715e>// Ê§ï¿½Ü£ï¿½d2 = default(Direction)</span>
</span></span><span style=display:flex><span>Enum.TryParse(<span style=color:#e6db74>&#34;up&#34;</span>, ignoreCase: <span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>out</span> Direction d3); <span style=color:#75715e>// ï¿½ï¿½ï¿½Ô´ï¿½Ğ¡Ğ´</span>
</span></span></code></pre></div><p><code>Enum.TryParse&lt;TEnum>(string, bool ignoreCase, out TEnum)</code>ÊÇ·ºĞÍĞÎÊ½£¬ÍÆ¼öÊ¹ÓÃ</p><h5 id=×°tryparse>·â×°Í¨ÓÃTryParse·½·¨</h5><p>Èç¹ûÆµ·±Ê¹ÓÃTryParse£¬»òÕßstringÒª×ª¸´ÔÓµÄ´óÁ¿µÄ×Ô¶¨ÒåÀàĞÍ£¬¿ÉÒÔ×öÒÔÏÂ·â×°£¬Ìá¸ß´úÂëÀ©Õ¹ĞÔ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ParseHelper</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>bool</span> TryParse&lt;T&gt;(<span style=color:#66d9ef>string</span> input, <span style=color:#66d9ef>out</span> T result)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        result = <span style=color:#66d9ef>default</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> type = <span style=color:#66d9ef>typeof</span>(T);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (type == <span style=color:#66d9ef>typeof</span>(<span style=color:#66d9ef>int</span>) &amp;&amp; <span style=color:#66d9ef>int</span>.TryParse(input, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>int</span> i)) { result = (T)(<span style=color:#66d9ef>object</span>)i; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (type == <span style=color:#66d9ef>typeof</span>(<span style=color:#66d9ef>float</span>) &amp;&amp; <span style=color:#66d9ef>float</span>.TryParse(input, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>float</span> f)) { result = (T)(<span style=color:#66d9ef>object</span>)f; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (type == <span style=color:#66d9ef>typeof</span>(<span style=color:#66d9ef>bool</span>) &amp;&amp; <span style=color:#66d9ef>bool</span>.TryParse(input, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>bool</span> b)) { result = (T)(<span style=color:#66d9ef>object</span>)b; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (type.IsEnum &amp;&amp; Enum.TryParse(type, input, <span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>out</span> <span style=color:#66d9ef>object</span> e)) { result = (T)e; <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=convert><code>Convert</code></h3><p><code>Convert</code>ÀàÊÇC#ÖĞÒ»¸ö·Ç³£Ç¿´óµÄ¹¤¾ß£¬ËüÌá¹©ÁËÒ»Ğ©ÁĞ¾²Ì¬·½·¨£¬ÓÃÓÚ½«¸÷ÖÖÀàĞÍÖ®¼ä½øĞĞ×ª»»</p><p>Ïà±ÈÓÚ<code>Parse</code>ºÍ<code>TryParse</code>£¬<code>Convert</code>ÔÚÀàĞÍ×ª»»ÉÏ¸üÎª¿íËÉ£¬Ö§³Ö¸ü¹ã·ºµÄÀàĞÍ×ª»»£¬²»½öÖ§³ÖÖµÀàĞÍºÍÒıÓÃÀàĞÍÖ®¼äµÄ×ª»»£¬»¹¿ÉÒÔ´¦Àí²»Í¬ÀàĞÍÖ®¼äµÄ×ª»»£¬Èç´Ó<code>int</code>µ½<code>double</code>£¬´Ó<code>DateTime</code>µ½<code>string</code>µÈ</p><h4 id=convert-1><code>Convert</code>ÀàµÄ×÷ÓÃ</h4><p><code>Convert</code>ÀàÎ»ÓÚ<code>System</code>ÃüÃû¿Õ¼äÏÂ£¬Ìá¹©ÁËÒ»Ğ©·Ç³£³£¼ûµÄ×ª»»·½·¨£¬ËüµÄ×÷ÓÃÖ÷Òª°üÀ¨£º</p><ol><li><p>ÀàĞÍ×ª»»£º Ö§³Ö ÖµÀàĞÍµ½ÖµÀàĞÍ¡¢ÒıÓÃÀàĞÍµ½ÖµÀàĞÍ¡¢ÖµÀàĞÍµ½ÒıÓÃÀàĞÍ µÄ×ª»»¡£</p></li><li><p>¼æÈİĞÔÇ¿£º ÄÜ¹»ÔÚºÜ¶àÇé¿öÏÂ½øĞĞÀàĞÍµÄ¿íËÉ×ª»»£¬ÀıÈç½«Êı×ÖÀàĞÍ£¨int¡¢double¡¢float£©»¥Ïà×ª»»£¬»òÕß½«ÈÕÆÚÀàĞÍ×ª»»Îª×Ö·û´®µÈ¡£</p></li><li><p>null ´¦Àí£º Óë Parse ²»Í¬£¬Convert ²»»áÅ×³öÒì³££¬¶øÊÇ½« null ×ª»»ÎªÊÊµ±µÄÄ¬ÈÏÖµ¡£</p></li></ol><h4 id=convert-2><code>Convert</code>³£ÓÃ·½·¨</h4><p><code>Convert</code>ÀàÌá¹©ÁË¶à¸ö¾²Ì¬·½·¨£¬ÒÔÏÂÊÇÆäÖĞÒ»Ğ©³£ÓÃµÄ·½·¨</p><ul><li><code>Convert.ToInt32</code> / <code>Convert.ToInt64</code> / <code>Convert.ToDouble</code> / <code>Convert.ToBoolean</code>
ÕâĞ©·½·¨»á³¢ÊÔ½«Ò»¸ö¶ÔÏó×ª»»ÎªÄ¿±êÀàĞÍ£¬Èç¹ûÎŞ·¨×ª»»£¬»áÅ×³öÒì³£</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#e6db74>&#34;123&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> num = Convert.ToInt32(obj); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> nullObj = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> result = Convert.ToInt32(nullObj); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0ï¿½ï¿½null ×ªÎªÄ¬ï¿½ï¿½Öµï¿½ï¿½</span>
</span></span></code></pre></div><ul><li><code>Convert.ToString</code>
½«¶ÔÏó×ª»»Îª×Ö·û´®£¬Èç¹û¶ÔÏóÊÇ<code>null</code>£¬Ôò·µ»Ø¿Õ×Ö·û´®</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj1 = <span style=color:#ae81ff>123</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> str1 = Convert.ToString(obj1); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#34;123&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> obj2 = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> str2 = Convert.ToString(obj2); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½&#34;&#34;ï¿½ï¿½ï¿½ï¿½ï¿½Ö·ï¿½ï¿½ï¿½ï¿½ï¿½</span>
</span></span></code></pre></div><ul><li><code>Convert.ToDateTime</code>
½«¶ÔÏó×ª»»Îª<code>DateTime</code>ÀàĞÍ</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#e6db74>&#34;2025-07-29&#34;</span>;
</span></span><span style=display:flex><span>DateTime date = Convert.ToDateTime(obj); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½2025/07/-29</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> obj2 = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>DateTime date2 = Convert.ToDateTime(obj2); <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½01/01/0001 00ï¿½ï¿½00ï¿½ï¿½00ï¿½ï¿½Ä¬ï¿½ï¿½Öµï¿½ï¿½</span>
</span></span></code></pre></div><ul><li><code>Convert.ToDecimal</code>
½«¶ÔÏó×ª»»Îª<code>decimal</code>ÀàĞÍ£¬ìø¹¦Óë½ğÈÚºÍ¸ß¾«¶È¼ÆËã</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#ae81ff>3.14f</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>decimal</span> dec = Convert.ToDecimal(obj);  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½3.14</span>
</span></span></code></pre></div><ul><li><code>Convert.ChangeType</code>
<code>Convert.ChangeType</code>ÊÇÒ»ÖÖ·Ç³£Ç¿´óµÄ·½·¨£¬ÔÊĞí½«¶ÔÏó×ª»»ÎªÈÎºÎÀàĞÍ£¬µ«±ØĞëÖ¸¶¨Ä¿±êÀàĞÍ¡£ÊÊºÏÓÚ¸ü¶¯Ì¬µÄ³¡¾°<br>ËüµÄÇ¿´óÖ®´¦ÔÚÓÚ¿ÉÒÔµÚ¶ş¸ö²ÎÊı£¬¿ÉÒÔÔÚÔËĞĞÊ±¶¯Ì¬»ñµÃ<br>Ëü·µ»ØÒ»¸öobjectÀàĞÍ</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#66d9ef>object</span> obj = <span style=color:#ae81ff>123</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> num = (<span style=color:#66d9ef>int</span>)Convert.ChangeType(obj, <span style=color:#66d9ef>typeof</span>(<span style=color:#66d9ef>int</span>));  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>object</span> strObj = <span style=color:#e6db74>&#34;2025-07-29&#34;</span>;
</span></span><span style=display:flex><span>DateTime date = (DateTime)Convert.ChangeType(strObj, <span style=color:#66d9ef>typeof</span>(DateTime));  <span style=color:#75715e>// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½2025/07/29</span>
</span></span></code></pre></div><p><code>Convert.ChangeType</code>ÊÇÍ¨¹ı·´ÉäÀ´ÊµÏÖµÄ£¬ÊÊÓÃÓÚĞèÒª¶¯Ì¬ÀàĞÍ×ª»»µÄÇé¿ö
<code>Convert.ChangeType</code>Ã»ÓĞ¶ÔnullµÄÌØÊâ´¦Àí£¬ËùÒÔµ±½«null×ª»»Îª·Ç¿ÕÀàĞÍÊ±»áÅ×³öÒì³££¬ĞèÒª½øĞĞÏÔÊ½´¦Àí</p><h4 id=convertÚ²Ô­>ConvertÄÚ²¿Ô­Àí</h4><ol><li>»ùÓÚ IConvertible ½Ó¿Ú£ºC# ÖĞµÄ´ó²¿·ÖÀàĞÍ£¨Èç int¡¢float¡¢double¡¢DateTime¡¢string µÈ£©¶¼ÊµÏÖÁË IConvertible ½Ó¿Ú£¬Convert ÀàÊ¹ÓÃ¸Ã½Ó¿ÚÌá¹©µÄ×ª»»·½·¨À´Ö´ĞĞÀàĞÍ×ª»»¡£</li><li>´¦Àí null Öµ£ºConvert Àà»á×Ô¶¯½« null ×ª»»Îª¸ÃÀàĞÍµÄÄ¬ÈÏÖµ¡£ÀıÈç£¬Convert.ToInt32(null) »á·µ»Ø 0£¬Convert.ToDateTime(null) »á·µ»Ø DateTime.MinValue£¬¶øConvert.ChangeTypeĞèÒªÏÔÊ½´¦Àí</li><li>ÀàĞÍÒç³ö´¦Àí£ºConvert »á¸ù¾İÄ¿±êÀàĞÍµÄ´óĞ¡·¶Î§Ö´ĞĞÊÊµ±µÄÀàĞÍÒç³ö¼ì²é¡£Èç¹ûÖµ³¬³öÄ¿±êÀàĞÍµÄ·¶Î§£¬Convert »áÅ×³ö OverflowException¡£</li><li>¿íËÉ×ª»»£ºConvert »á¾¡¿ÉÄÜµØ½øĞĞ¿íËÉµÄÀàĞÍ×ª»»£¬±ÈÈç½« int ×ª»»Îª double£¬½« float ×ª»»Îª decimal µÈ¡£µ«ÓĞĞ©ÀàĞÍÎŞ·¨×Ô¶¯×ª»»£¬Èç½« string ×ª»»Îª int£¨±ØĞëÊÇ¸ñÊ½ÕıÈ·µÄ×Ö·û´®£©¡£</li></ol></div><nav class=post-nav><a href=/dotnetandwindows/log/datastructure/ class=hover:underline>pre: Data Structure</a>
<a href=/dotnetandwindows/log/delegate/ class=hover:underline>next: Delegate</a></nav></article><aside class=toc><h3>TOC</h3><nav id=TableOfContents><ul><li><ul><li><a href=#value-types>ÖµÀàĞÍ£¨Value Types£©</a><ul><li><a href=#Øµ>ÌØµã</a></li><li><a href=#heading>³£¼ûµÄÖµÀàĞÍ</a></li><li><a href=#systemvaluetype>System.ValueType</a></li><li><a href=#valuetype>ValueTypeµÄ×÷ÓÃ</a></li></ul></li><li><a href=#reference-types>ÒıÓÃÀàĞÍ(Reference Types)</a><ul><li><a href=#Ç³>Éî¿½±´ÓëÇ³¿½±´</a></li><li><a href=#Ä­ÏŠ>ÒıÓÃÀàĞÍµÄÄ¬ÈÏĞĞÎª</a></li><li><a href=#gc>ÒıÓÃÀàĞÍÓëGC</a></li><li><a href=#ÏŠÊ²Ã´Ò«Ã¶>ÎªÊ²Ã´ĞèÒªÒıÓÃ¶ÔÏó</a></li><li><a href=#ÏŠÊ²Ã´Ú¶>ÎªÊ²Ã´ÒıÓÃÀàĞÍÄÚÈİÔÚ¶ÑÉÏ</a></li><li><a href=#object>Object</a><ul><li><a href=#objectobjectsystemobject><code>Object</code>¡¢<code>object</code>¡¢<code>System.Object</code></a></li></ul></li><li><a href=#string>String</a><ul><li><a href=#stringÄ³É±>StringµÄ²»¿É±äĞÔ</a></li><li><a href=#×¤interning>×Ö·û´®×¤Áô£¨Interning£©</a><ul><li><a href=#Êµ>ÊµÏÖ»úÖÆ</a></li></ul></li><li><a href=#string-1>stringµÄÌØÊâĞÔ</a></li><li><a href=#stringÊµ>stringµÄÊµÏÖ</a></li><li><a href=#Ñ‡>×Ö·û´®²Ù×÷Ğ§ÂÊÎÊÌâ</a></li><li><a href=#api>API</a></li></ul></li><li><a href=#dynamicÃ£>Dynamic£¨É÷ÓÃ£©</a></li></ul></li><li><a href=#pointer-types>Ö¸ÕëÀàĞÍ£¨Pointer Types£©</a><ul><li><a href=#heading-1>Óï·¨</a></li></ul></li><li><a href=#×ª>ÀàĞÍ×ª»»</a><ul><li><a href=#Ê½×ªimplicit>ÒşÊ½×ª»»£¨implicit£©</a><ul><li><a href=#Ê½×ª>ÄÚÖÃÀàĞÍµÄÒşÊ½×ª»»</a></li><li><a href=#Õ¦ĞµÊ½×ª>×Ô¶¨ÒåÀàĞÍÖĞµÄÒşÊ½×ª»»</a></li><li><a href=#×¢>×¢ÒâÊÂÏî</a></li><li><a href=#Ê¾×°Î»ÏµÍ³>Ê¾Àı£º·â×°µ¥Î»ÏµÍ³</a></li></ul></li><li><a href=#Ê½×ªcast>ÏÔÊ½×ª»»£¨cast£©</a><ul><li><a href=#Ê½×ª-1>ÄÚÖÃÀàĞÍµÄÏÔÊ½×ª»»</a></li><li><a href=#Ê½×ªÄ±>ÏÔÊ½×ª»»µÄ±¾ÖÊ</a></li><li><a href=#Ê½×ª-vs-Ê½×ª>ÒşÊ½×ª»» vs ÏÔÊ½×ª»»</a></li><li><a href=#Ê¾>Ê¾Àı</a></li></ul></li><li><a href=#×ª-1>ÖµÀàĞÍÓëÒıÓÃÀàĞÍÖ®¼äµÄ×ª»»</a><ul><li><a href=#×°ä£¨boxing---->×°Ïä£¨Boxing£©=> ÖµÀàĞÍ -> ÒıÓÃÀàĞÍ</a></li><li><a href=#ä£¨unboxing---->²ğÏä£¨Unboxing£©=> ÒıÓÃÀàĞÍ -> ÖµÀàĞÍ</a></li><li><a href=#á¹¹Í½Ó¿×°>½á¹¹ÌåºÍ½Ó¿ÚÖ®¼äµÄ×°Ïä</a></li><li><a href=#×ªÊ½>ÖµÀàĞÍ×ªÒıÓÃÀàĞÍµÄÆäËûĞÎÊ½</a></li><li><a href=#×ªÏŠÕ¹Ê½>ÖµÀàĞÍ×ª»»ÎªÒıÓÃÀàĞÍµÄÀ©Õ¹·½Ê½</a></li><li><a href=#×°Å¼>±ÜÃâ×°ÏäµÄÓÅ»¯½¨Òé</a></li></ul></li><li><a href=#string×ª>String×ª»ù±¾ÀàĞÍ</a><ul><li><a href=#parse><code>Parse</code></a><ul><li><a href=#parseÄ¼ÏŠ><code>Parse</code>µÄ»ù±¾ĞĞÎª</a></li><li><a href=#×ª-2>³£¼ûÀàĞÍµÄ×ª»»</a></li><li><a href=#Õ¦Êµparse>×Ô¶¨ÒåÀàÖĞÊµÏÖParse</a></li></ul></li><li><a href=#tryparse><code>TryParse</code></a><ul><li><a href=#heading-2>»ù±¾Óï·¨</a></li><li><a href=#tryparse-1>»ù±¾ÀàĞÍµÄTryParse</a></li><li><a href=#parse-vs-tryparse><code>Parse</code> vs <code>TryParse</code></a></li><li><a href=#enumtryparsesÊ¾>Enum.TryParsesÊ¾Àı</a></li><li><a href=#×°tryparse>·â×°Í¨ÓÃTryParse·½·¨</a></li></ul></li></ul></li><li><a href=#convert><code>Convert</code></a><ul><li><a href=#convert-1><code>Convert</code>ÀàµÄ×÷ÓÃ</a></li><li><a href=#convert-2><code>Convert</code>³£ÓÃ·½·¨</a></li><li><a href=#convertÚ²Ô­>ConvertÄÚ²¿Ô­Àí</a></li></ul></li></ul></li></ul></li></ul></nav></aside><script src=/js/scrollspy.js defer></script><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ 
    startOnLoad: true, theme: "default" });
</script><footer><div class=container><p>Â© 2026 Jeff Lee(ljf12825). All rights reserved |
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Article: CC BY-NC-SA 4.0</a> |
<a href=https://creativecommons.org/licenses/by-sa/4.0/>Content: CC BY-SA 4.0</a> |
<a href=https://opensource.org/licenses/MIT>Code: MIT License</a> |
<a href=/LICENSES.md>Full License</a></p></div></footer></body></html>
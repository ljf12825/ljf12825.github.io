{{ define "head_extra" }}
  {{ if eq .Type "files" }}
    <link rel="stylesheet" href="{{ "css/filelist.css" | relURL }}">
  {{ end }}
{{ end }}

{{ define "main" }}
<h1>{{ .RelPermalink }}</h1>

<div class="filelist">
  <div class="file_row header">
    <span>Name</span>
    <span>Type</span>
    <span>Modified</span>
    <span>Description</span>
  </div>

  {{ with .Parent }}
  <div class="file_row back">
      <span class="file_name">
        <a href="{{ .RelPermalink }}">../</a>
      </span>
      <span class="file_type">DIR</span>
      <span class="file_date"></span>
      <span class="file_extra"></span>
  </div>
  {{ end }}

  {{ range .Sections }}
  <div class="file_row folder">
      <span class="file_name">
        <a href="{{ .RelPermalink }}">{{ .Title }}</a>/
      </span>
      <span class="file_type">DIR</span>
      <span class="file_date">
        {{ with .Lastmod }}{{ .Format "2006-01-02" }}{{ end }}
      </span>
      <span class="file_extra">
        {{ .Params.summary | default "-" }}
      </span>
  </div>
  {{ end }}

  {{ range .RegularPages }}
  <div class="file_row file">
      <span class="file_name">
        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
      </span>
      <span class="file_type">FILE</span>
      <span class="file_date">
        {{ with .Lastmod }}{{ .Format "2006-01-02" }}{{ end }}
      </span>
      <span class="file_extra">
        {{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary }}{{ end }}
      </span>
  </div>
  {{ end }}

</div>
{{ end }}